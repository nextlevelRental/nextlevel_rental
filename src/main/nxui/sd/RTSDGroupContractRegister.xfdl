<?xml version="1.0" encoding="utf-8"?>
<FDL version="1.5">
  <TypeDefinition url="..\default_typedef.xml"/>
  <Form id="RTSDContractRegister" classname="RTSDOrderRegister" left="0" top="0" width="1147" height="1755" scrollbars="autoboth" onload="RTSDContractRegister_onload" titletext="단체계약등록" visible="true">
    <Layouts>
      <Layout>
        <Div id="div_custInfo" taborder="3" left="0" top="320" height="273" style="background:@gradation;" scrollbars="none" width="681">
          <Layouts>
            <Layout>
              <Static id="Static17" taborder="152" cssclass="sta_WF_detailLabel2" left="-1" top="30" height="31" width="682"/>
              <MaskEdit id="ed_buslNo" taborder="153" type="string" mask="###-##-#####" enable="false" visible="false" left="337" top="35" height="21" width="115"/>
              <Static id="st_buslNo" taborder="154" text="사업자번호" cssclass="sta_WF_detailLabel" visible="false" left="232" top="30" height="31" domainId="nexa.s_condition" width="100"/>
              <Static id="st_custTp" taborder="155" text="고객유형" cssclass="sta_WF_detailLabel" left="0" top="30" height="31" domainId="nexa.s_condition" width="100"/>
              <Combo id="cb_custTp" taborder="156" innerdataset="@ds_custTp" codecolumn="cd" datacolumn="cdNm" onitemchanged="div_custInfo_cb_custTp_onitemchanged" enable="false" left="104" top="35" height="21" domainId="nexa.name;nexa.code" width="124"/>
              <Static id="st_birthDay" taborder="157" text="법정생년월일" cssclass="sta_WF_detailLabel" left="232" top="150" height="31" domainId="nexa.s_condition" width="100"/>
              <MaskEdit id="ed_birthDay" taborder="158" type="string" mask="####-##-##" enable="false" left="336" top="35" height="21" width="116"/>
              <Static id="st_custNm" taborder="159" text="고객명" cssclass="sta_WF_detailLabel" left="456" top="30" height="31" domainId="nexa.s_condition" width="100"/>
              <Edit id="ed_custNm" taborder="160" maxlength="80" enable="false" left="560" top="35" height="21" width="115"/>
              <Static id="st_custNo" taborder="163" text="고객번호" left="404" top="5" height="20" domainId="nexa.s_condition" width="100"/>
              <Edit id="ed_custNo" taborder="164" enable="false" left="456" top="5" height="21" width="110"/>
              <Static id="Static01" taborder="167" cssclass="sta_WF_detailLabel2" left="-1" top="60" height="31" width="682"/>
              <Static id="st_genderCd" taborder="168" text="성별" cssclass="sta_WF_detailLabel" top="60" height="31" domainId="nexa.s_condition" left="0" width="100"/>
              <Edit id="ed_repNm" taborder="169" maxlength="80" enable="false" visible="false" left="104" top="65" height="21" width="347"/>
              <Combo id="cb_genderCd" taborder="170" innerdataset="@ds_genderCd" codecolumn="cd" datacolumn="cdNm" enable="false" left="104" top="65" height="21" domainId="nexa.name;nexa.code" width="124"/>
              <Static id="st_repNm" taborder="171" text="대표자명" cssclass="sta_WF_detailLabel" visible="false" left="0" top="60" height="31" domainId="nexa.s_condition" width="100"/>
              <Static id="st_lfCd" taborder="172" text="내/외국인" cssclass="sta_WF_detailLabel" left="232" top="60" height="31" domainId="nexa.s_condition" width="100"/>
              <Combo id="cb_lfCd" taborder="173" innerdataset="@ds_lfCd" codecolumn="cd" datacolumn="cdNm" enable="false" left="336" top="65" height="21" domainId="nexa.name;nexa.code" index="-1" width="116"/>
              <Static id="st_telNo" taborder="174" text="전화번호" cssclass="sta_WF_detailLabel" left="456" top="60" height="31" domainId="nexa.s_condition" width="100"/>
              <Edit id="ed_telNo" taborder="175" maxlength="80" enable="false" left="560" top="65" height="21" width="115"/>
              <Button id="btn_custNew" taborder="181" text="신규" left="570" top="5" width="41" height="21" domainId="nexa.save" onclick="div_custInfo_btn_custNew_onclick"/>
              <Button id="btn_custNoSearch" taborder="182" text="고객조회" left="615" top="5" width="65" height="21" domainId="nexa.save" onclick="div_custInfo_btn_custNoSearch_onclick"/>
              <Static id="Static21" taborder="183" text="고객정보" cssclass="sta_WF_subTitle" left="0" top="5" width="80" height="21"/>
              <Static id="Static02" taborder="188" cssclass="sta_WF_detailLabel2" left="-1" top="90" height="31" width="682"/>
              <Edit id="ed_busiType" taborder="189" maxlength="80" enable="false" left="104" top="95" width="124" height="21"/>
              <Static id="st_busiType" taborder="190" text="업종" cssclass="sta_WF_detailLabel" left="0" top="90" width="100" height="31" domainId="nexa.s_condition"/>
              <Static id="st_busiCond" taborder="191" text="업태" cssclass="sta_WF_detailLabel" left="232" top="90" width="100" height="31" domainId="nexa.s_condition"/>
              <Edit id="ed_busiCond" taborder="192" maxlength="80" enable="false" left="336" top="95" width="338" height="21"/>
              <Div id="div_custInfoDetail" taborder="193" left="0" top="120" height="152" style="background:@gradation;" width="681">
                <Layouts>
                  <Layout>
                    <Static id="Static04" taborder="75" cssclass="sta_WF_detailLabel2" left="0" top="120" height="31" width="681"/>
                    <Static id="Static03" taborder="51" cssclass="sta_WF_detailLabel2" left="-1" top="0" height="31" width="682"/>
                    <Edit id="ed_emailAddr1" taborder="52" inputtype="number,english,symbol" maxlength="35" enable="false" left="560" top="5" width="116" height="21"/>
                    <Static id="st_emailAddr" taborder="53" text="e-mail주소" cssclass="sta_WF_detailLabel" left="456" top="0" width="100" height="31" domainId="nexa.s_condition"/>
                    <Combo id="cb_mobFirm" taborder="54" innerdataset="@ds_mobFirm" codecolumn="cd" datacolumn="cdNm" enable="false" left="336" top="5" width="116" height="21" domainId="nexa.name;nexa.code"/>
                    <Static id="st_mobFirm" taborder="55" text="통신사" cssclass="sta_WF_detailLabel" left="232" top="0" width="100" height="31" domainId="nexa.s_condition"/>
                    <MaskEdit id="ed_mobNo" taborder="56" type="string" mask="###-####-####" enable="false" left="104" top="5" width="124" height="21"/>
                    <Static id="st_mobNo" taborder="57" text="휴대폰" cssclass="sta_WF_detailLabel" left="0" top="0" width="100" height="31" domainId="nexa.s_condition"/>
                    <Static id="Static00" taborder="58" cssclass="sta_WF_detailLabel2" left="-1" top="30" height="31" width="682"/>
                    <Edit id="ed_addr1" taborder="59" maxlength="100" enable="false" left="336" top="35" height="21" width="340"/>
                    <Static id="st_addr1" taborder="60" text="주소" cssclass="sta_WF_detailLabel" left="232" top="30" width="100" height="31" domainId="nexa.s_condition"/>
                    <Edit id="ed_posCd" taborder="61" inputtype="number" maxlength="6" enable="false" left="104" top="35" width="124" height="21"/>
                    <Static id="st_posCd" taborder="62" text="고객주소" cssclass="sta_WF_detailLabel" left="0" top="30" width="100" height="31" domainId="nexa.s_condition"/>
                    <Static id="Static01" taborder="63" cssclass="sta_WF_detailLabel2" left="-1" top="60" height="31" width="682"/>
                    <Static id="st_addr2" taborder="64" text="주소" cssclass="sta_WF_detailLabel" left="232" top="60" width="100" height="31" domainId="nexa.s_condition"/>
                    <Edit id="ed_addr12" taborder="65" maxlength="100" enable="false" left="336" top="65" height="21" width="340"/>
                    <Edit id="ed_posCd2" taborder="66" inputtype="number" maxlength="6" enable="false" left="104" top="65" width="124" height="21"/>
                    <Static id="st_posCd2" taborder="67" text="근무지주소" cssclass="sta_WF_detailLabel" left="0" top="60" width="100" height="31" domainId="nexa.s_condition"/>
                    <Static id="Static02" taborder="68" cssclass="sta_WF_detailLabel2" left="0" top="90" height="31" width="681"/>
                    <Static id="st_nagYn" taborder="71" text="정보제공동의" cssclass="sta_WF_detailLabel" left="232" top="90" width="100" height="31" domainId="nexa.s_condition"/>
                    <Static id="st_telNo2" taborder="73" text="회사전화" cssclass="sta_WF_detailLabel" left="456" top="90" width="100" height="31" domainId="nexa.s_condition"/>
                    <Edit id="ed_telNo2" taborder="74" inputtype="number" maxlength="6" enable="false" left="560" top="95" width="116" height="21"/>
                    <Static id="st_credit" taborder="78" text="신용조회" cssclass="sta_WF_detailLabel" left="232" top="120" width="100" height="31" domainId="nexa.s_condition"/>
                    <Button id="btn_creditSelect" taborder="82" text="신용조회" left="464" top="125" width="65" height="21" domainId="nexa.save" enable="true" visible="false" onclick="div_custInfo_div_custInfoDetail_btn_creditSelect_onclick"/>
                    <Combo id="cb_nagYn" taborder="83" displaynulltext="선택" innerdataset="ds_nagYn" codecolumn="cd" datacolumn="cdNm" enable="false" visible="true" left="335" top="95" width="116" height="21" domainId="nexa.name;nexa.code"/>
                    <Combo id="cb_credit" taborder="84" displaynulltext="선택" innerdataset="@ds_credit" codecolumn="cd" datacolumn="cdNm" enable="false" visible="true" left="337" top="125" width="123" height="21" domainId="nexa.name;nexa.code"/>
                    <Static id="st_certification" taborder="85" text="본인인증" cssclass="sta_WF_detailLabel" left="0" top="90" width="100" height="31" domainId="nexa.s_condition"/>
                    <Radio id="ra_certification" taborder="86" innerdataset="@ds_certification" codecolumn="cd" datacolumn="cdNm" direction="vertical" enable="false" left="104" top="95" width="124" height="20"/>
                    <Static id="st_certi" taborder="87" text="휴대폰 인증" cssclass="sta_WF_detailLabel" visible="true" left="0" top="120" width="100" height="31" domainId="nexa.s_condition"/>
                    <Button id="btn_certification" taborder="88" text="인증" onclick="div_cust_btn_certificationConfirm_onclick" visible="true" left="104" top="125" width="41" height="21" domainId="nexa.save" enable="false"/>
                    <WebBrowser id="nice_interface" left="151" top="124" width="124" height="24" taborder="89" url="https://portal.tirerental.co.kr/interface/di_safekey/main.jsp" visible="false" onusernotify="web_onusernotify"/>
                  </Layout>
                </Layouts>
              </Div>
              <Static id="st_cCustnm" taborder="194" text="담당자명" cssclass="sta_WF_detailLabel" visible="false" left="0" top="210" width="100" height="31" domainId="nexa.s_condition"/>
              <Edit id="ed_Ccustnm" taborder="195" maxlength="80" visible="false" left="104" top="215" width="124" height="21" enable="false"/>
              <Static id="st_cTelno" taborder="196" text="담당자        전화번호" cssclass="sta_WF_detailLabel" visible="false" left="232" top="210" width="100" height="31" domainId="nexa.s_condition" style="align:left middle;" wordwrap="char"/>
              <Edit id="ed_cTelno" taborder="197" maxlength="80" onkeyup="div_cust_ed_cTelno_onkeyup" visible="false" left="336" top="215" width="115" height="21" enable="false"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Div id="div_carInfo" taborder="5" left="700" top="470" height="140" style="background:@gradation;" scrollbars="none" enable="false" width="422" visible="true">
          <Layouts>
            <Layout>
              <Static id="Static01" taborder="17" cssclass="sta_WF_detailLabel2" left="0" top="30" height="31" width="422"/>
              <Static id="st_model" taborder="18" text="차종" cssclass="sta_WF_detailLabel" left="0" top="30" height="31" domainId="nexa.s_condition" width="100"/>
              <Combo id="cb_makerCd" taborder="19" displaynulltext="브랜드" innerdataset="@ds_maker" codecolumn="cd" datacolumn="cdNm" onitemchanged="div_carInfo_cb_makerCd_onitemchanged" left="104" top="35" width="107" height="21" domainId="nexa.name;nexa.code"/>
              <Combo id="cb_model" taborder="20" displaynulltext="모델" innerdataset="@ds_model" codecolumn="rn" datacolumn="mcNm" onitemchanged="div_carInfo_cb_model_onitemchanged" left="215" top="35" width="202" height="21" domainId="nexa.name;nexa.code"/>
              <Static id="Static00" taborder="21" cssclass="sta_WF_detailLabel2" left="0" top="60" height="31" width="422"/>
              <Static id="st_carOwner" taborder="22" text="차량소유자" cssclass="sta_WF_detailLabel" left="0" top="60" height="31" domainId="nexa.s_condition" width="100"/>
              <Edit id="ed_carOwner" taborder="23" maxlength="60" onkeyup="div_carInfo_ed_carOwner_onkeyup" left="104" top="65" width="107" height="21"/>
              <Edit id="ed_carNo" taborder="24" maxlength="9" onkeyup="div_carInfo_ed_carNo_onkeyup" left="299" top="65" width="118" height="21" onchanged="div_carInfo_ed_carNo_onchanged"/>
              <Static id="st_carNo" taborder="25" text="차량No" cssclass="sta_WF_detailLabel" left="215" top="60" height="31" domainId="nexa.s_condition" width="80"/>
              <Static id="Static02" taborder="26" cssclass="sta_WF_detailLabel2" left="0" top="90" height="31" width="422"/>
              <Static id="st_cMileage" taborder="27" text="현재주행거리" cssclass="sta_WF_detailLabel" left="0" top="90" height="31" domainId="nexa.s_condition" width="100"/>
              <MaskEdit id="ed_cMileage" taborder="28" mask="###,###,###,##0" autoselect="true" autoskip="true" onchanged="div_carInfo_ed_cMileage_onchanged" left="104" top="95" width="107" height="21" limitbymask="both"/>
              <Edit id="ed_model" taborder="30" maxlength="9" enable="false" visible="false" left="103" top="5" width="120" height="21"/>
              <Static id="Static04" taborder="31" text="차량정보" cssclass="sta_WF_subTitle" left="0" top="5" width="80" height="21"/>
              <Static id="st_cMileage2" taborder="32" text="Km" left="218" top="98" height="20" domainId="nexa.s_condition" width="25"/>
              <Edit id="ed_contentsCd" taborder="33" maxlength="9" enable="false" visible="false" left="222" top="5" width="120" height="21"/>
              <Edit id="ed_frCd" taborder="34" maxlength="9" enable="false" visible="false" left="340" top="5" width="37" height="21"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Div id="div_installInfo" taborder="7" left="0" top="1451" height="120" style="background:@gradation;" scrollbars="none" enableevent="true" enable="false" width="1003">
          <Layouts>
            <Layout>
              <Div id="Div00" taborder="1" text="Div00" left="-83.1%" top="253" right="149.91%" height="150"/>
              <Static id="Static04" taborder="6" cssclass="sta_WF_detailLabel2" left="0" top="22" height="31" width="732"/>
              <Static id="st_agencyCd" taborder="7" text="장착점명" cssclass="sta_WF_detailLabel" left="0" top="22" height="31" domainId="nexa.s_condition" width="80"/>
              <Edit id="ed_agencyCd" taborder="8" maxlength="80" enable="false" left="104" top="3" height="21" width="125" visible="false" displaynulltext="장착대리점코드"/>
              <Static id="Static21" taborder="10" text="장착점정보" cssclass="sta_WF_subTitle" left="0" top="0" width="120" height="21"/>
              <Edit id="ed_agencyNm" taborder="0" maxlength="80" enable="false" left="85" top="27" width="320" height="21"/>
              <Static id="st_procDay" taborder="12" text="장착일자" cssclass="sta_WF_detailLabel" left="522" top="22" width="80" height="31" domainId="nexa.s_condition"/>
              <Calendar id="cal_procDay" taborder="3" dateformat="yyyy-MM-dd" onchanged="div_installInfo_cal_procDay_onchanged" left="609" top="27" width="116" height="21"/>
              <Button id="btn_searchAgency" taborder="2" text="대리점" left="413" top="27" width="41" height="21" domainId="nexa.save" onclick="div_installInfo_btn_searchAgency_onclick"/>
              <Edit id="ed_salesOffice" taborder="14" maxlength="80" enable="false" visible="false" left="360" top="3" width="125" height="21" displaynulltext="지점 코드"/>
              <Edit id="ed_salesGroup" taborder="15" maxlength="80" enable="false" visible="false" left="232" top="3" width="125" height="21" displaynulltext="지사 코드"/>
              <Edit id="ed_posCd" taborder="16" displaynulltext="우편번호" maxlength="80" enable="false" visible="false" left="72" top="51" width="125" height="21"/>
              <Edit id="ed_city" taborder="17" displaynulltext="주소" maxlength="80" enable="false" visible="false" left="194" top="51" width="125" height="21"/>
              <Edit id="ed_street" taborder="18" displaynulltext="상세주소" maxlength="80" enable="false" visible="false" left="320" top="51" width="125" height="21"/>
              <Edit id="ed_telNo" taborder="19" displaynulltext="전화번호" maxlength="80" enable="false" visible="false" left="453" top="51" width="125" height="21"/>
              <Static id="StaticVisit" taborder="20" cssclass="sta_WF_detailLabel2" visible="false" left="736" top="22" width="222" height="31"/>
              <Static id="st_visitTel" taborder="21" text="방문연락처" cssclass="sta_WF_detailLabel" visible="false" left="736" top="22" width="80" height="31" domainId="nexa.s_condition"/>
              <Edit id="ed_visitTel" taborder="22" maxlength="80" visible="false" left="821" top="27" width="131" height="21"/>
              <Button id="btn_visitSchd" taborder="23" text="방문일정" onclick="div_installInfo_btn_visitSchd_onclick" visible="false" left="462" top="27" width="53" height="21" domainId="nexa.save"/>
              <Edit id="ed_visitYn" taborder="24" displaynulltext="방문장착" maxlength="80" enable="false" visible="false" left="582" top="52" width="73" height="21"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Div id="div_salesmanInfo" taborder="8" left="0" top="603" height="70" style="background:@gradation;" scrollbars="none" visible="true" enable="false" width="1122">
          <Layouts>
            <Layout>
              <Div id="Div00" taborder="63" text="Div00" left="-82.43%" top="253" right="150.09%" height="150"/>
              <Static id="Static01" taborder="77" cssclass="sta_WF_detailLabel2" left="-1" top="25" height="31" width="1123"/>
              <Static id="Static21" taborder="88" text="판매원정보" cssclass="sta_WF_subTitle" left="0" top="0" width="120" height="21"/>
              <Static id="st_salesman" taborder="89" text="판매원명" cssclass="sta_WF_detailLabel" left="0" top="25" width="140" height="31" domainId="nexa.s_condition"/>
              <Static id="st_salesmanTel" taborder="91" text="전화번호" cssclass="sta_WF_detailLabel" left="279" top="25" width="140" height="31" domainId="nexa.s_condition"/>
              <Combo id="cb_orgAgent" taborder="93" displaynulltext="선택" innerdataset="@ds_rtsd0113Combo" codecolumn="cd" datacolumn="cdNm" enable="true" left="144" top="30" width="130" height="21" domainId="nexa.name;nexa.code" onitemchanged="div_salesmanInfo_cb_orgAgent_onitemchanged"/>
              <Edit id="ed_salesmanTel" taborder="94" maxlength="80" enable="false" left="423" top="30" width="130" height="21" onkeyup="div_salesmanInfo_ed_salesmanTel_onkeyup"/>
              <Edit id="ed_1" taborder="95" maxlength="80" onkeyup="div_salesmanInfo_ed_salesmanTel_onkeyup" left="701" top="30" width="130" height="21" enable="false"/>
              <Static id="st_1" taborder="96" text="판매국명" cssclass="sta_WF_detailLabel" left="557" top="25" width="140" height="31" domainId="nexa.s_condition"/>
              <Static id="st_2" taborder="97" text="전화번호" cssclass="sta_WF_detailLabel" left="835" top="25" width="140" height="31" domainId="nexa.s_condition"/>
              <Edit id="ed_2" taborder="98" maxlength="80" onkeyup="div_salesmanInfo_ed_salesmanTel_onkeyup" left="980" top="30" width="130" height="21" enable="false"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Div id="div_etcInfo" taborder="9" left="0" top="1507" height="101" style="background:@gradation;" scrollbars="none" enableevent="true" enable="false" width="680">
          <Layouts>
            <Layout>
              <Static id="Static04" taborder="49" cssclass="sta_WF_detailLabel2" left="0" top="35" height="31" width="678"/>
              <Static id="Static21" taborder="66" text="기타정보" cssclass="sta_WF_subTitle" left="0" top="8" width="120" height="21"/>
              <Static id="st_ordDay" taborder="67" text="계약일자" cssclass="sta_WF_detailLabel" left="0" top="35" width="140" height="31" domainId="nexa.s_condition"/>
              <Calendar id="cal_ordDay" taborder="68" dateformat="yyyy-MM-dd" enable="false" left="145" top="40" width="120" height="20"/>
              <Static id="st_agreeYn3" taborder="69" text="신분증 첨부 필수여부" cssclass="sta_WF_detailLabel" left="319" top="35" width="140" height="31" domainId="nexa.s_condition"/>
              <CheckBox id="ch_pcertYn" taborder="70" left="465" top="40" width="50" height="20"/>
              <Static id="Static00" taborder="71" cssclass="sta_WF_detailLabel2" left="0" top="65" width="678" height="31"/>
              <Static id="st_agreeYn1" taborder="72" text="CMS출금이체동의" cssclass="sta_WF_detailLabel" left="0" top="65" width="140" height="31" domainId="nexa.s_condition"/>
              <CheckBox id="ch_cmsagYn" taborder="73" left="146" top="71" width="50" height="20"/>
              <Static id="st_agreeYn2" taborder="74" text="계약서 교부방법" cssclass="sta_WF_detailLabel" left="319" top="65" width="140" height="31" domainId="nexa.s_condition"/>
              <Combo id="cb_conMthd" taborder="76" displaynulltext="선택" innerdataset="@ds_conMthd" codecolumn="cd" datacolumn="cdNm" enable="false" left="464" top="70" width="123" height="21" domainId="nexa.name;nexa.code"/>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Grid id="grid_model" taborder="28" binddataset="ds_model" useinputpanel="false" left="-1" top="1778" width="679" height="62" readonly="false" enable="true" cellsizingtype="col" visible="false" nodatatext="지우면절대안됨">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="167"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="rn"/>
                <Cell col="1" text="makerCd"/>
                <Cell col="2" text="modelCd"/>
                <Cell col="3" text="modelNm"/>
                <Cell col="4" text="contentsCd"/>
                <Cell col="5" text="conTentsNm"/>
                <Cell col="6" text="frCd"/>
                <Cell col="7" text="mcNm"/>
              </Band>
              <Band id="body">
                <Cell text="bind:rn"/>
                <Cell col="1" text="bind:makerCd"/>
                <Cell col="2" text="bind:modelCd"/>
                <Cell col="3" text="bind:modelNm"/>
                <Cell col="4" text="bind:contentsCd"/>
                <Cell col="5" text="bind:conTentsNm"/>
                <Cell col="6" text="bind:frCd"/>
                <Cell col="7" text="bind:mcNm"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Static id="Static03" taborder="35" cssclass="sta_WF_detailLabel2" left="0" top="-668" width="425" height="31"/>
        <Static id="Static00" taborder="41" text="FIX&#13;&#10;w25" cssclass="Guide_color" visible="false" left="1122" top="0" width="25" height="1218"/>
        <Div id="div_payInfo" taborder="4" left="700" top="320" height="160" style="background:@gradation;" scrollbars="none" enable="false" width="422">
          <Layouts>
            <Layout>
              <Div id="div_card" taborder="1" left="0%" top="60" height="98" style="background:@gradation;" scrollbars="none" visible="false" width="422">
                <Layouts>
                  <Layout>
                    <Static id="Static00" taborder="1" cssclass="sta_WF_detailLabel2" left="0" top="0" height="31" width="422"/>
                    <Static id="st_C_custNm" taborder="9" text="카드주명" cssclass="sta_WF_detailLabel" left="0" top="0" height="31" domainId="nexa.s_condition" width="80"/>
                    <Edit id="ed_C_custNm" taborder="0" maxlength="80" enable="false" left="84" top="5" height="21" width="122"/>
                    <Static id="st_C_ebirDay" taborder="10" text="법정생년월일" cssclass="sta_WF_detailLabel" left="210" top="0" height="31" domainId="nexa.s_condition" width="80"/>
                    <MaskEdit id="ed_C_ebirDay" taborder="11" type="string" mask="######" onchanged="div_payInfo_div_card_ed_C_ebirDay_onchanged" enable="false" left="295" top="5" height="21" width="122"/>
                    <Static id="st_C_buslNo" taborder="12" text="사업자번호" cssclass="sta_WF_detailLabel" visible="false" left="210" top="0" height="31" domainId="nexa.s_condition" width="80"/>
                    <MaskEdit id="ed_C_buslNo" taborder="2" type="string" mask="###-##-#####" onchanged="div_payInfo_div_card_ed_C_buslNo_onchanged" enable="false" visible="false" left="294" top="5" height="21" width="123"/>
                    <Static id="Static01" taborder="13" cssclass="sta_WF_detailLabel2" left="0" top="30" width="422" height="31"/>
                    <Static id="st_C_bankCd" taborder="14" text="카드사" cssclass="sta_WF_detailLabel" left="0" top="30" height="31" domainId="nexa.s_condition" width="80"/>
                    <Combo id="cb_C_bankCd" taborder="3" innerdataset="@ds_C_bank" codecolumn="cd" datacolumn="cdNm" enable="false" left="84" top="35" height="21" domainId="nexa.name;nexa.code" width="122"/>
                    <Static id="st_C_acctNo" taborder="15" text="카드번호" cssclass="sta_WF_detailLabel" left="210" top="30" height="31" domainId="nexa.s_condition" width="80"/>
                    <Edit id="ed_C_cardNo" taborder="4" maxlength="16" enable="false" left="294" top="35" height="21" width="123" inputtype="number" canchange="div_payInfo_div_card_ed_C_cardNo_canchange"/>
                    <Static id="Static03" taborder="16" cssclass="sta_WF_detailLabel2" left="0" top="60" height="31" width="422"/>
                    <Static id="st_C_expireYM" taborder="17" text="유효년월" cssclass="sta_WF_detailLabel" left="0" top="60" width="80" height="31" domainId="nexa.s_condition"/>
                    <MaskEdit id="ed_C_expireY" taborder="6" type="string" mask="####" enable="false" left="140" top="65" width="40" height="21"/>
                    <Static id="st_y" taborder="18" text="년" left="186" top="65" width="20" height="21" domainId="nexa.s_condition"/>
                    <MaskEdit id="ed_C_expireM" taborder="5" type="string" mask="##" enable="false" left="84" top="65" height="21" width="25"/>
                    <Static id="st_m" taborder="19" text="월" left="116" top="65" width="20" height="21" domainId="nexa.s_condition"/>
                    <Static id="st_C_bankPayDay" taborder="20" text="결제일" cssclass="sta_WF_detailLabel" left="210" top="60" width="80" height="31" domainId="nexa.s_condition"/>
                    <Combo id="cb_C_bankPayDay" taborder="7" displaynulltext="선택" innerdataset="ds_C_bankPayDay" codecolumn="cd" datacolumn="cdNm" left="294" top="65" width="60" height="21" domainId="nexa.name;nexa.code" index="-1"/>
                    <Button id="btn_cardConfirm" taborder="8" text="카드인증" left="359" top="65" width="58" height="21" domainId="nexa.save" onclick="div_payInfo_div_card_btn_cardConfirm_onclick"/>
                  </Layout>
                </Layouts>
                <InitValue/>
              </Div>
              <Static id="Static03" taborder="4" cssclass="sta_WF_detailLabel2" left="0" top="30" height="31" width="422"/>
              <Static id="st_payMthd" taborder="5" text="결제방법" cssclass="sta_WF_detailLabel" left="0" top="30" height="31" domainId="nexa.s_condition" width="80"/>
              <Combo id="cb_payMthd" taborder="0" displaynulltext="선택" innerdataset="@ds_payMthd" codecolumn="cd" datacolumn="cdNm" onitemchanged="div_payInfo_cb_payMthd_onitemchanged" left="84" top="35" height="21" domainId="nexa.name;nexa.code" width="80"/>
              <Static id="st_payCustTp" taborder="6" text="구분" cssclass="sta_WF_detailLabel" left="236" top="30" height="31" domainId="nexa.s_condition" width="54"/>
              <Combo id="cb_payCustTp" taborder="2" displaynulltext="선택" innerdataset="@ds_payCustTp" codecolumn="cd" datacolumn="cdNm" onitemchanged="div_payInfo_cb_payCustTp_onitemchanged" enable="false" left="294" top="35" height="21" domainId="nexa.name;nexa.code" width="123" index="-1"/>
              <Button id="btn_payChoice" taborder="7" text="불러오기" left="169" top="35" width="62" height="21" domainId="nexa.save" onclick="div_payInfo_btn_payChoice_onclick"/>
              <Static id="Static01" taborder="8" cssclass="sta_WF_detailLabel2" left="720" top="-170" width="425" height="31"/>
              <Static id="Static21" taborder="9" text="결제정보" cssclass="sta_WF_subTitle" left="0" top="5" width="80" height="21"/>
              <CheckBox id="ed_ebirDayCheck" taborder="10" text="생년월일체크" value="true" enable="false" visible="false" left="84" top="5" width="120" height="16"/>
              <CheckBox id="ed_buslNoCheck" taborder="11" text="사업자번호체크" value="true" enable="false" visible="false" left="204" top="5" width="120" height="16"/>
              <Button id="btn_custNew" taborder="12" text="신규" left="372" top="5" width="50" height="21" domainId="nexa.save" onclick="div_payInfo_btn_custNew_onclick"/>
              <Div id="div_acc" taborder="3" left="0%" top="60" height="96" style="background:@gradation;" scrollbars="none" width="422">
                <Layouts>
                  <Layout>
                    <Static id="Static02" taborder="1" cssclass="sta_WF_detailLabel2" left="0" top="0" height="31" width="422"/>
                    <Static id="Static00" taborder="2" cssclass="sta_WF_detailLabel2" left="0" top="30" height="31" width="422"/>
                    <Static id="st_B_bankCd" taborder="3" text="은행" cssclass="sta_WF_detailLabel" left="0" top="30" height="31" domainId="nexa.s_condition" width="80"/>
                    <Combo id="cb_B_bankCd" taborder="5" innerdataset="@ds_B_bank" codecolumn="cd" datacolumn="cdNm" enable="false" left="85" top="35" height="21" domainId="nexa.name;nexa.code" width="120"/>
                    <Static id="st_B_acctNo" taborder="9" text="계좌번호" cssclass="sta_WF_detailLabel" left="210" top="30" height="31" domainId="nexa.s_condition" width="80"/>
                    <Edit id="ed_B_acctNo" taborder="6" maxlength="20" enable="false" left="295" top="35" height="21" width="120" inputtype="number"/>
                    <Static id="Static01" taborder="10" cssclass="sta_WF_detailLabel2" left="0" top="60" height="31" width="422"/>
                    <Static id="st_B_bankPayDay" taborder="11" text="결제일" cssclass="sta_WF_detailLabel" left="0" top="60" height="31" domainId="nexa.s_condition" width="80"/>
                    <Combo id="cb_B_bankPayDay" taborder="7" displaynulltext="선택" innerdataset="@ds_B_bankPayDay" codecolumn="cd" datacolumn="cdNm" left="85" top="65" height="21" domainId="nexa.name;nexa.code" width="60"/>
                    <Button id="btn_accConfirm" taborder="8" text="계좌인증" left="151" top="65" width="50" height="21" domainId="nexa.save" onclick="div_payInfo_div_acc_btn_accConfirm_onclick"/>
                    <Static id="st_B_custNm" taborder="12" text="예금주명" cssclass="sta_WF_detailLabel" left="0" top="0" width="80" height="31" domainId="nexa.s_condition"/>
                    <Edit id="ed_B_custNm" taborder="0" maxlength="80" enable="false" left="85" top="5" width="120" height="21"/>
                    <Static id="st_B_buslNo" taborder="13" text="사업자번호" cssclass="sta_WF_detailLabel" visible="false" left="210" top="0" width="80" height="31" domainId="nexa.s_condition"/>
                    <MaskEdit id="ed_B_buslNo" taborder="14" type="string" mask="###-##-#####" onchanged="div_payInfo_div_acc_ed_B_buslNo_onchanged" enable="false" visible="false" left="295" top="5" width="120" height="21"/>
                    <MaskEdit id="ed_B_ebirDay" taborder="4" type="string" mask="######" onchanged="div_payInfo_div_acc_ed_B_ebirDay_onchanged" enable="false" left="295" top="5" width="120" height="21"/>
                    <Static id="st_B_ebirDay" taborder="15" text="법정생년월일" cssclass="sta_WF_detailLabel" left="210" top="0" width="80" height="31" domainId="nexa.s_condition"/>
                    <Static id="st_B_arsCall" taborder="16" text="이체동의" cssclass="sta_WF_detailLabel" left="210" top="60" width="80" height="31" domainId="nexa.s_condition"/>
                    <Button id="btn_arsCall" taborder="17" text="출금이체동의" left="295" top="65" width="80" height="21" domainId="nexa.save" onclick="div_payInfo_div_acc_btn_accConfirm_onclick"/>
                  </Layout>
                </Layouts>
                <InitValue/>
              </Div>
            </Layout>
          </Layouts>
          <InitValue/>
        </Div>
        <Edit id="ed_grpYn" taborder="43" enable="false" left="740" top="289" width="150" height="20" displaynulltext="고객결합여부" visible="false"/>
        <Edit id="ed_grpNo" taborder="44" enable="false" left="584" top="289" width="150" height="20" displaynulltext="고객결합번호" visible="false"/>
        <Radio id="ra_sale" taborder="45" innerdataset="@ds_sale" codecolumn="cd" datacolumn="cdNm" left="91" top="321" width="233" height="21" direction="vertical" onitemchanged="ra_sale_onitemchanged" visible="false" onitemclick="ra_sale_onitemclick"/>
        <Edit id="ed_orderNo" taborder="49" enable="false" left="10" top="285" width="150" height="20" visible="false"/>
        <CheckBox id="ch_resultPayInfo" taborder="52" text="카드인증성공여부" left="431" top="289" width="125" height="16" enable="false" visible="false"/>
        <CheckBox id="ch_resultArsCall" taborder="53" text="출금이체동의여부" enable="false" visible="false" left="295" top="289" width="125" height="16" falsevalue="0" truevalue="1" onclick="ch_resultArsCall_onclick"/>
        <Static id="Static21" taborder="54" text="단체정보" cssclass="sta_WF_subTitle" left="0" top="52" width="80" height="21"/>
        <Static id="Static01" taborder="55" cssclass="sta_WF_detailLabel2" left="0" top="9" width="1120" height="31"/>
        <Static id="st_ordNo00" taborder="56" text="단체명" onclick="st_ordNo00_onclick" cssclass="sta_WF_detailLabel" left="0" top="9" width="100" height="31" domainId="nexa.s_condition"/>
        <Button id="btn_grpNmSearch" taborder="57" text="단체 찾기" onclick="btn_grpNmSearch_onclick" left="258" top="14" width="89" height="21" domainId="nexa.save"/>
        <Static id="Static02" taborder="58" cssclass="sta_WF_detailLabel2" left="0" top="75" width="1120" height="31"/>
        <Static id="st_ordNo01" taborder="59" text="단체번호" cssclass="sta_WF_detailLabel" left="0" top="75" width="70" height="31" style="align:center middle;" domainId="nexa.s_condition"/>
        <Static id="st_ordNo02" taborder="60" text="판매상품명" cssclass="sta_WF_detailLabel" left="153" top="75" width="83" height="31" style="align:center middle;" domainId="nexa.s_condition"/>
        <Static id="st_ordNo03" taborder="61" text="단체상태" cssclass="sta_WF_detailLabel" left="409" top="75" width="70" height="31" style="align:center middle;" domainId="nexa.s_condition"/>
        <Static id="st_ordNo04" taborder="62" text="현재계약 본수" wordwrap="char" onclick="st_ordNo04_onclick" cssclass="sta_WF_detailLabel" left="552" top="75" width="82" height="31" style="align:center middle;" domainId="nexa.s_condition"/>
        <Static id="st_ordNo05" taborder="63" text="최소약정계약본수" wordwrap="char" onclick="st_ordNo04_onclick" cssclass="sta_WF_detailLabel" left="712" top="75" width="74" height="31" style="align:center middle;" domainId="nexa.s_condition"/>
        <Static id="st_ordNo06" taborder="64" text="할인율  (%)" onclick="st_ordNo06_onclick" cssclass="sta_WF_detailLabel" left="857" top="75" width="70" height="31" style="align:center middle;" domainId="nexa.s_condition" wordwrap="char"/>
        <Static id="st_ordNo07" taborder="65" text="할인금액" cssclass="sta_WF_detailLabel" left="986" top="75" width="70" height="31" style="align:center middle;" domainId="nexa.s_condition"/>
        <Static id="st_grpNo" taborder="66" onclick="Static04_onclick" left="6.19%" top="80" width="80" height="22" style="align:center middle;"/>
        <Static id="st_grpNm" taborder="67" left="9.24%" top="13" right="77.94%" height="23"/>
        <Static id="st_saleNm" taborder="68" onclick="Static04_onclick" left="20.66%" top="79" width="168" height="22" style="align:center middle;"/>
        <Static id="st_grpSt" taborder="69" onclick="Static04_onclick" left="41.85%" top="80" width="70" height="22" style="align:center middle;"/>
        <Static id="st_restCnt" taborder="70" onclick="Static04_onclick" left="55.54%" top="79" width="70" height="22" style="align:center middle;"/>
        <Static id="st_minAgrCnt" taborder="71" onclick="Static04_onclick" left="68.53%" top="79" width="70" height="22" style="align:center middle;"/>
        <Static id="st_grpDcRate" taborder="72" onclick="Static04_onclick" left="80.82%" top="80" width="57" height="22" style="align:center middle;"/>
        <Static id="st_grpDcAmt" taborder="73" onclick="Static04_onclick" left="92.33%" top="80" width="57" height="22" style="align:center middle;"/>
        <Grid id="grid_ordNoList" taborder="74" binddataset="ds_ordNoList" useinputpanel="false" oncelldblclick="grid_ordNoList_oncelldblclick" left="0.09%" top="120" right="1.31%" height="157">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="300"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
                <Column size="80"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="계약일자"/>
                <Cell col="1" text="계약번호"/>
                <Cell col="2" text="고객코드"/>
                <Cell col="3" text="법정생년월일"/>
                <Cell col="4" text="사업자번호"/>
                <Cell col="5" text="고객명"/>
                <Cell col="6" text="성별"/>
                <Cell col="7" text="내외국인"/>
                <Cell col="8" text="핸드폰"/>
                <Cell col="9" text="전화번호"/>
                <Cell col="10" text="회사전화"/>
                <Cell col="11" text="주소"/>
                <Cell col="12" text="차량번호"/>
                <Cell col="13" text="차종"/>
                <Cell col="14" text="계약상태"/>
                <Cell col="15" text="판매상품명"/>
                <Cell col="16" text="채널"/>
                <Cell col="17" text="홈쇼핑"/>
                <Cell col="18" text="월렌탈료"/>
              </Band>
              <Band id="body">
                <Cell text="bind:ordDay"/>
                <Cell col="1" text="bind:ordNo"/>
                <Cell col="2" text="bind:custNo"/>
                <Cell col="3" text="bind:birthDay" mask="####-'**'-'**'"/>
                <Cell col="4" text="bind:buslNo" mask="###-##-#####"/>
                <Cell col="5" text="bind:custNm"/>
                <Cell col="6" text="bind:genderNm"/>
                <Cell col="7" text="bind:lfNm"/>
                <Cell col="8" text="bind:mobNo" expr="expr:FN_numberMaskReturn(mobNo)"/>
                <Cell col="9" text="bind:telNo" expr="expr:FN_numberMaskReturn(telNo)"/>
                <Cell col="10" text="bind:telNo2" expr="expr:FN_numberMaskReturn(telNo2)"/>
                <Cell col="11" text="bind:addr"/>
                <Cell col="12" text="bind:carNo"/>
                <Cell col="13" text="bind:carKind"/>
                <Cell col="14" text="bind:statNm"/>
                <Cell col="15" text="bind:saleNm"/>
                <Cell col="16" text="bind:chanNm"/>
                <Cell col="17" text="bind:hshopGbNm"/>
                <Cell col="18" text="bind:monAmt"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Edit id="p_argGrpNo" taborder="75" left="30.78%" top="16" right="59.98%" height="18" visible="false"/>
        <Button id="btn_grpRvct" taborder="76" text="단체(묶음)해지" onclick="bt_grpPckCancel_onclick" cssclass="btn_WF_module" left="90.15%" top="285" width="100" height="21"/>
        <Button id="btn_GrpSave" taborder="78" text="주문서저장" onclick="btn_GrpSave_onclick" cssclass="btn_WF_CRUD" left="91.37%" top="1444" width="76" height="21"/>
        <Grid id="grid_prdInfo" taborder="79" binddataset="ds_prdInfo" scrollbars="autovert" useinputpanel="false" left="0.09%" top="716" right="1.22%" height="173">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="126"/>
                <Column size="77"/>
                <Column size="308"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="90"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="0"/>
                <Column size="90"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="선택"/>
                <Cell col="1" text="상품코드"/>
                <Cell col="2" text="장착위치"/>
                <Cell col="3" text="상품명"/>
                <Cell col="4" text="렌탈기간"/>
                <Cell col="5" text="계절구분"/>
                <Cell col="6" text="본수"/>
                <Cell col="7" text="렌탈등록비"/>
                <Cell col="8" text="렌탈료"/>
                <Cell col="9" text="판매채널할인"/>
                <Cell col="10" text="단체할인"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                <Cell col="1" text="bind:matCd"/>
                <Cell col="2" text="bind:frNm"/>
                <Cell col="3" text="bind:matNm"/>
                <Cell col="4" text="bind:periodNm"/>
                <Cell col="5" text="bind:seasonNm"/>
                <Cell col="6" text="bind:cntNm"/>
                <Cell col="7" displaytype="number" style="align:right;" text="bind:regiAmt" mask="###,###,###,##0"/>
                <Cell col="8" displaytype="number" style="align:right;" text="bind:amt" mask="###,###,###,##0"/>
                <Cell col="9" displaytype="number" style="align:right;" text="bind:chnlSale" mask="###,###,###,##0"/>
                <Cell col="10" displaytype="number" style="align:right;" text="bind:groupSale" mask="###,###,###,##0"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_prdAdd" taborder="80" text="제품추가" onclick="btn_prdAdd_onclick" cssclass="btn_WF_CRUD" left="86.57%" top="689" width="80" height="21"/>
        <Button id="btn_prdDel" taborder="81" text="삭제" onclick="btn_prdDel_onclick" cssclass="btn_WF_CRUD" left="94.33%" top="689" width="50" height="21"/>
        <Static id="Static06" taborder="82" text="제품정보" onclick="Static06_onclick" cssclass="sta_WF_subTitle" left="0" top="687" width="120" height="21"/>
        <Static id="Static04" taborder="83" text="부가제품정보" cssclass="sta_WF_subTitle" left="0%" top="912" width="120" height="21"/>
        <Grid id="Grid02" taborder="84" binddataset="ds_rtsd0041" scrollbars="autovert" useinputpanel="false" left="0.09%" top="932" right="1.22%" height="173">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="40"/>
                <Column size="240"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="100"/>
                <Column size="90"/>
                <Column size="78"/>
                <Column size="78"/>
                <Column size="280"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="선택"/>
                <Cell col="1" text="부가제품명"/>
                <Cell col="2" text="금액"/>
                <Cell col="3" text="할인금액"/>
                <Cell col="4" text="실판매가"/>
                <Cell col="5" text="제조사"/>
                <Cell col="6" text="제품군"/>
                <Cell col="7" text="할부여부"/>
                <Cell col="8" text="제품설명"/>
              </Band>
              <Band id="body">
                <Cell displaytype="checkbox" edittype="checkbox" text="bind:chk"/>
                <Cell col="1" text="bind:addGdsNm"/>
                <Cell col="2" displaytype="number" style="align:right;" text="bind:amt" mask="###,###,###,##0"/>
                <Cell col="3" displaytype="number" style="align:right;" text="bind:dcAmt" mask="###,###,###,##0"/>
                <Cell col="4" displaytype="number" style="align:right;" text="bind:actAmt" mask="###,###,###,##0"/>
                <Cell col="5" text="bind:makerNm"/>
                <Cell col="6" text="bind:gdsGrpNm"/>
                <Cell col="7" text="bind:dcYn"/>
                <Cell col="8" text="bind:gdsDesc" tooltiptext="bind:gdsDesc"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Button id="btn_adtPrdAdd" taborder="85" text="부가제품추가" onclick="btn_adtPrdAdd_onclick" cssclass="btn_WF_CRUD" left="84.83%" top="908" width="100" height="21"/>
        <Button id="btn_adtPrdDel" taborder="86" text="삭제" onclick="btn_adtPrdDel_onclick" cssclass="btn_WF_CRUD" left="94.33%" top="908" width="50" height="21"/>
        <Static id="Static05" taborder="87" text="합계 납부정보" cssclass="sta_WF_subTitle" left="0.17%" top="1355" width="120" height="21"/>
        <Grid id="grid_sumPayInfo" taborder="88" useinputpanel="false" left="0.09%" top="1378" height="58" scrollbars="none" right="1.22%">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="220"/>
                <Column size="220"/>
                <Column size="250"/>
                <Column size="220"/>
                <Column size="220"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
              </Rows>
              <Band id="head">
                <Cell text="등록비"/>
                <Cell col="1" text="등록비조정"/>
                <Cell col="2" text="일시불"/>
                <Cell col="3" text="월 렌탈료(할인적용)"/>
                <Cell col="4" text="함계 월할인액"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Div id="div_cntrPrdPayInfo" taborder="89" left="45.6%" top="1112" right="0.26%" height="250">
          <Layouts>
            <Layout>
              <Static id="Static00" taborder="4" text="계약상품 납부정보" cssclass="sta_WF_subTitle" left="2.25%" top="10" width="120" height="21"/>
              <Grid id="grid_cntPrdPymInfo" taborder="5" binddataset="ds_cntPrdPymInfo" scrollbars="autovert" useinputpanel="false" left="1.93%" top="36" right="1.93%" height="200">
                <Formats>
                  <Format id="default">
                    <Columns>
                      <Column size="75"/>
                      <Column size="125"/>
                      <Column size="60"/>
                      <Column size="80"/>
                      <Column size="80"/>
                      <Column size="80"/>
                      <Column size="80"/>
                    </Columns>
                    <Rows>
                      <Row size="29" band="head"/>
                      <Row size="24"/>
                    </Rows>
                    <Band id="head">
                      <Cell text="제품/서비스코드" wordwrap="char"/>
                      <Cell col="1" text="제품명"/>
                      <Cell col="2" text="렌탈기간 (개월)" wordwrap="char"/>
                      <Cell col="3" text="일시불"/>
                      <Cell col="4" text="웰 렌탈료"/>
                      <Cell col="5" text="등록비"/>
                      <Cell col="6" text="할인액"/>
                    </Band>
                    <Band id="body">
                      <Cell text="bind:matCd"/>
                      <Cell col="1" text="bind:matNm"/>
                      <Cell col="2" text="bind:periodNm"/>
                      <Cell col="3" displaytype="number" style="align:right;" text="bind:amt" mask="###,###,###,##0"/>
                      <Cell col="4" displaytype="number" style="align:right;" text="bind:rentAmt" mask="###,###,###,##0"/>
                      <Cell col="5" displaytype="number" style="align:right;" text="bind:regiAmt" mask="###,###,###,##0"/>
                      <Cell col="6" displaytype="number" style="align:right;" text="bind:dcAmt" mask="###,###,###,##0"/>
                    </Band>
                  </Format>
                </Formats>
              </Grid>
            </Layout>
          </Layouts>
        </Div>
        <Static id="Static07" taborder="92" text="프리미엄서비스" cssclass="sta_WF_subTitle" left="0" top="1124" width="120" height="21"/>
        <Grid id="grid_svrCd" taborder="93" binddataset="ds_rtsd0013" useinputpanel="false" left="0%" top="1148" right="54.4%" height="200" autoupdatetype="comboselect" cellclickbound="cell" cellsizingtype="col" oncellclick="prmmSvrComboSet">
          <Formats>
            <Format id="default">
              <Columns>
                <Column size="144"/>
                <Column size="55"/>
                <Column size="74"/>
                <Column size="72"/>
                <Column size="85"/>
                <Column size="75"/>
              </Columns>
              <Rows>
                <Row size="24" band="head"/>
                <Row size="24"/>
              </Rows>
              <Band id="head">
                <Cell text="상세서비스"/>
                <Cell col="1" text="기간"/>
                <Cell col="2" text="타이어본수"/>
                <Cell col="3" text="서비스횟수"/>
                <Cell col="4" text="금액"/>
                <Cell col="5" text="할인액"/>
              </Band>
              <Band id="body">
                <Cell text="bind:prsNm"/>
                <Cell col="1" text="bind:periodNm"/>
                <Cell col="2" text="bind:cntNm"/>
                <Cell col="3" displaytype="combo" edittype="combo" text="bind:servCnt" combodataset="ds_svrCnt" combocodecol="cd" combodatacol="cdNm" combodisplay="display"/>
                <Cell col="4" displaytype="number" style="align:right;" text="bind:servAmtSum" mask="###,###,###,##0"/>
                <Cell col="5" displaytype="number" style="align:right;" text="bind:saleAmt" mask="###,###,###,##0"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Edit id="p_saleCd" taborder="94" left="40.63%" top="16" height="18" width="150" visible="false"/>
        <Static id="st_regiAmt04" taborder="100" left="80.38%" top="1404" width="210" height="32" style="border:1 solid #808080ff ;align:right;" onclick="st_regiAmt04_onclick"/>
        <Static id="st_regiAmt02" taborder="101" left="60.94%" top="1404" width="221" height="32" style="border:1 solid #808080ff ;"/>
        <Static id="st_regiAmt01" taborder="102" left="38.97%" top="1404" width="251" height="32" style="border:1 solid #808080ff ;"/>
        <Static id="st_regiAmt00" taborder="103" left="19.53%" top="1404" width="221" height="32" style="border:1 solid #808080ff ;"/>
        <Static id="st_regiAmt0" taborder="104" left="0.09%" top="1404" width="221" height="32" style="border:1 solid #808080ff ;"/>
        <Combo id="p_regiAmtAdj" taborder="95" left="22.14%" top="1411" right="65.13%" height="20" codecolumn="cd" datacolumn="cdNm" innerdataset="@ds_RegAmtMgnt" onitemchanged="p_regiAmtAdj_onitemchanged" index="-1" displayrowcount="10" displaynulltext="선택하세요" enable="false" readonly="false" visible="true"/>
        <Edit id="p_totDcAmt" taborder="96" left="80.82%" top="1410" width="198" height="20" style="align:right;" value="0" readonly="true"/>
        <Edit id="p_momDcRentAmt" taborder="97" left="61.64%" top="1410" width="205" height="20" style="align:right;" value="0" readonly="true"/>
        <Edit id="p_oneAmt" taborder="98" left="39.58%" top="1410" width="235" height="20" style="align:right;" value="0" readonly="true"/>
        <Edit id="p_regiAmt" taborder="99" left="0.61%" top="1410" width="208" height="20" style="align:right;" value="0" enable="false" readonly="true"/>
        <Edit id="p_totRentAmt" taborder="105" left="9.76%" top="1355" height="20" width="150" value="0" visible="false"/>
        <Edit id="p_rentAmt" taborder="106" left="62.51%" top="1354" width="150" height="20" value="0" visible="false"/>
        <Edit id="p_periodCd" taborder="107" left="7.93%" top="686" height="20" width="50" visible="false"/>
        <Edit id="p_prdtGrp" taborder="108" left="54.4%" top="16" right="38.62%" height="18" visible="false"/>
        <Edit id="p_cntCd" taborder="109" visible="false" left="12.73%" top="687" width="50" height="20" value="0"/>
        <Button id="btn_payRegiAmt" taborder="110" text="등록비 일시불납부" left="80.47%" top="1445" right="9.59%" height="21" visible="false" enable="false" onclick="btn_payRegiAmt_onclick"/>
        <Static id="st_birthDay" taborder="111" text="법정생년월일" cssclass="sta_WF_detailLabel" left="232" top="350" width="100" height="31" domainId="nexa.s_condition"/>
        <Grid id="Grid05" taborder="112" binddataset="ds_rtsd0401" useinputpanel="false" visible="false" left="61.9%" top="1778" right="9.15%" height="80">
          <Formats>
            <Format id="default">
              <Columns>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
                <Col size="80"/>
              </Columns>
              <Rows>
                <Row band="head" size="24"/>
                <Row band="body" size="24"/>
              </Rows>
              <Band id="head">
                <Cell col="0" disptype="normal" text="ordNo"/>
                <Cell col="1" disptype="normal" text="agencyCd"/>
                <Cell col="2" disptype="normal" text="reqDay"/>
                <Cell col="3" disptype="normal" text="procDay"/>
                <Cell col="4" disptype="normal" text="procTm"/>
                <Cell col="5" disptype="normal" text="mobNo"/>
                <Cell col="6" disptype="normal" text="bldMngNo"/>
                <Cell col="7" disptype="normal" text="posCd"/>
                <Cell col="8" disptype="normal" text="addr1"/>
                <Cell col="9" disptype="normal" text="addr2"/>
                <Cell col="10" disptype="normal" text="statCd"/>
                <Cell col="11" disptype="normal" text="memo"/>
              </Band>
              <Band id="body">
                <Cell col="0" disptype="normal" text="bind:ordNo"/>
                <Cell col="1" disptype="normal" text="bind:agencyCd"/>
                <Cell col="2" disptype="normal" text="bind:reqDay"/>
                <Cell col="3" disptype="normal" text="bind:procDay"/>
                <Cell col="4" disptype="normal" text="bind:procTm"/>
                <Cell col="5" disptype="normal" text="bind:mobNo"/>
                <Cell col="6" disptype="normal" text="bind:bldMngNo"/>
                <Cell col="7" disptype="normal" text="bind:posCd"/>
                <Cell col="8" disptype="normal" text="bind:addr1"/>
                <Cell col="9" disptype="normal" text="bind:addr2"/>
                <Cell col="10" disptype="normal" text="bind:statCd"/>
                <Cell col="11" disptype="normal" text="bind:memo"/>
              </Band>
            </Format>
          </Formats>
        </Grid>
        <Edit id="p_seasonCd" taborder="113" visible="false" left="17.61%" top="687" width="50" height="20"/>
      </Layout>
    </Layouts>
    <Objects>
      <Dataset id="ds_custTp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_certification" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_genderCd" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_lfCd" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_mobFirm" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payMthd" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_payCustTp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_B_bank" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_C_bank" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_B_bankPayDay" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_C_bankPayDay" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_nagYn" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_credit" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_conMthd" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_maker" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_sale" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_orgAgent" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_orgAgent2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_model" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" onrowposchanged="ds_model_onrowposchanged">
        <ColumnInfo>
          <Column id="rn" type="STRING" size="256"/>
          <Column id="makerCd" type="STRING" size="256"/>
          <Column id="modelCd" type="STRING" size="256"/>
          <Column id="modelNm" type="STRING" size="256"/>
          <Column id="contentsCd" type="STRING" size="256"/>
          <Column id="conTentsNm" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="mcNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0100" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="custTp" type="STRING" size="256"/>
          <Column id="custTp2" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="birthDay" type="STRING" size="256"/>
          <Column id="genderCd" type="STRING" size="256"/>
          <Column id="lfCd" type="STRING" size="256"/>
          <Column id="mobNo" type="STRING" size="256"/>
          <Column id="mobFirm" type="STRING" size="256"/>
          <Column id="telNo" type="STRING" size="256"/>
          <Column id="faxNo" type="STRING" size="256"/>
          <Column id="bldMngNo" type="STRING" size="256"/>
          <Column id="posCd" type="STRING" size="256"/>
          <Column id="addr1" type="STRING" size="256"/>
          <Column id="addr2" type="STRING" size="256"/>
          <Column id="addr" type="STRING" size="256"/>
          <Column id="addrSum1" type="STRING" size="256"/>
          <Column id="addrSum2" type="STRING" size="256"/>
          <Column id="telNo2" type="STRING" size="256"/>
          <Column id="bldMngNo2" type="STRING" size="256"/>
          <Column id="posCd2" type="STRING" size="256"/>
          <Column id="addr12" type="STRING" size="256"/>
          <Column id="addr22" type="STRING" size="256"/>
          <Column id="safekey" type="STRING" size="256"/>
          <Column id="buslNo" type="STRING" size="256"/>
          <Column id="corpNo" type="STRING" size="256"/>
          <Column id="repNm" type="STRING" size="256"/>
          <Column id="oCustnm" type="STRING" size="256"/>
          <Column id="oBirthday" type="STRING" size="256"/>
          <Column id="oGendercd" type="STRING" size="256"/>
          <Column id="oLfcd" type="STRING" size="256"/>
          <Column id="oMobno" type="STRING" size="256"/>
          <Column id="oSafekey" type="STRING" size="256"/>
          <Column id="cCustnm" type="STRING" size="256"/>
          <Column id="cTelno" type="STRING" size="256"/>
          <Column id="emailAddr" type="STRING" size="256"/>
          <Column id="emailAddr1" type="STRING" size="256"/>
          <Column id="emailAddr2" type="STRING" size="256"/>
          <Column id="busiType" type="STRING" size="256"/>
          <Column id="busiCond" type="STRING" size="256"/>
          <Column id="taxYn" type="STRING" size="256"/>
          <Column id="kunnr" type="STRING" size="256"/>
          <Column id="ciCd" type="STRING" size="256"/>
          <Column id="diCd" type="STRING" size="256"/>
          <Column id="useYn" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="regDt" type="STRING" size="256"/>
          <Column id="chgId" type="STRING" size="256"/>
          <Column id="chgDt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0110" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="certDay" type="STRING" size="256"/>
          <Column id="safekey" type="STRING" size="256"/>
          <Column id="certCd" type="STRING" size="256"/>
          <Column id="certYn" type="STRING" size="256"/>
          <Column id="mobNo" type="STRING" size="256"/>
          <Column id="mobFirm" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="regDt" type="STRING" size="256"/>
          <Column id="chgId" type="STRING" size="256"/>
          <Column id="chgDt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0111" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="agDay" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="safekey" type="STRING" size="256"/>
          <Column id="nagYn" type="STRING" size="256"/>
          <Column id="cagYn" type="STRING" size="256"/>
          <Column id="cagYn1" type="STRING" size="256"/>
          <Column id="cagYn2" type="STRING" size="256"/>
          <Column id="cagYn3" type="STRING" size="256"/>
          <Column id="cagYn4" type="STRING" size="256"/>
          <Column id="cthYn1" type="STRING" size="256"/>
          <Column id="cthYn2" type="STRING" size="256"/>
          <Column id="cthYn3" type="STRING" size="256"/>
          <Column id="filePath" type="STRING" size="256"/>
          <Column id="fileName" type="STRING" size="256"/>
          <Column id="inputDt" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="regDt" type="STRING" size="256"/>
          <Column id="chgId" type="STRING" size="256"/>
          <Column id="chgDt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0104" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="ordDay" type="STRING" size="256"/>
          <Column id="ordId" type="STRING" size="256"/>
          <Column id="chanCd" type="STRING" size="256"/>
          <Column id="saleId" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="regiCd" type="STRING" size="256"/>
          <Column id="campYn" type="STRING" size="256"/>
          <Column id="cDcrate" type="STRING" size="256"/>
          <Column id="cDcamt" type="STRING" size="256"/>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="custTp" type="STRING" size="256"/>
          <Column id="safekey" type="STRING" size="256"/>
          <Column id="grpYn" type="STRING" size="256"/>
          <Column id="grpNo" type="STRING" size="256"/>
          <Column id="gDcrate" type="STRING" size="256"/>
          <Column id="gDcamt" type="STRING" size="256"/>
          <Column id="lDcrate" type="STRING" size="256"/>
          <Column id="lDcamt" type="STRING" size="256"/>
          <Column id="fDcrate" type="STRING" size="256"/>
          <Column id="fDcamt" type="STRING" size="256"/>
          <Column id="bordNo" type="STRING" size="256"/>
          <Column id="statCd" type="STRING" size="256"/>
          <Column id="procDay" type="STRING" size="256"/>
          <Column id="cancDay" type="STRING" size="256"/>
          <Column id="agencyCd" type="STRING" size="256"/>
          <Column id="salesGroup" type="STRING" size="256"/>
          <Column id="salesOffice" type="STRING" size="256"/>
          <Column id="engNm" type="STRING" size="256"/>
          <Column id="agDesc" type="STRING" size="256"/>
          <Column id="makerCd" type="STRING" size="256"/>
          <Column id="modelCd" type="STRING" size="256"/>
          <Column id="contentsCd" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="carNo" type="STRING" size="256"/>
          <Column id="carOwner" type="STRING" size="256"/>
          <Column id="cMileage" type="STRING" size="256"/>
          <Column id="reqText" type="STRING" size="256"/>
          <Column id="payMthd" type="STRING" size="256"/>
          <Column id="payDd" type="STRING" size="256"/>
          <Column id="accSeq" type="STRING" size="256"/>
          <Column id="crdSeq" type="STRING" size="256"/>
          <Column id="accChk" type="STRING" size="256"/>
          <Column id="accStat" type="STRING" size="256"/>
          <Column id="bkeyChk" type="STRING" size="256"/>
          <Column id="batchKey" type="STRING" size="256"/>
          <Column id="billYn" type="STRING" size="256"/>
          <Column id="crdtStat" type="STRING" size="256"/>
          <Column id="certCd" type="STRING" size="256"/>
          <Column id="certStat" type="STRING" size="256"/>
          <Column id="ordAgent" type="STRING" size="256"/>
          <Column id="orgCd" type="STRING" size="256"/>
          <Column id="orgHq" type="STRING" size="256"/>
          <Column id="orgL1" type="STRING" size="256"/>
          <Column id="orgL2" type="STRING" size="256"/>
          <Column id="orgL3" type="STRING" size="256"/>
          <Column id="orgL4" type="STRING" size="256"/>
          <Column id="insOrg" type="STRING" size="256"/>
          <Column id="psCd" type="STRING" size="256"/>
          <Column id="cmsagYn" type="STRING" size="256"/>
          <Column id="conMthd" type="STRING" size="256"/>
          <Column id="pcertYn" type="STRING" size="256"/>
          <Column id="tcgrpNo" type="STRING" size="256"/>
          <Column id="vbeln" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="regDt" type="STRING" size="256"/>
          <Column id="chgId" type="STRING" size="256"/>
          <Column id="chgDt" type="STRING" size="256"/>
          <Column id="agencyNm" type="STRING" size="256"/>
          <Column id="fcDay" type="STRING" size="256"/>
          <Column id="agDay" type="STRING" size="256"/>
          <Column id="agSeq" type="STRING" size="256"/>
          <Column id="inputDt" type="STRING" size="256"/>
          <Column id="filePath" type="STRING" size="256"/>
          <Column id="fileName" type="STRING" size="256"/>
          <Column id="seasonCd" type="STRING" size="256"/>
          <Column id="statNm" type="STRING" size="256"/>
          <Column id="saleCd" type="STRING" size="256"/>
          <Column id="saleNm" type="STRING" size="256"/>
          <Column id="prdtGrp" type="STRING" size="256"/>
          <Column id="prdtGrpNm" type="STRING" size="256"/>
          <Column id="chanCode" type="STRING" size="256"/>
          <Column id="chanNm" type="STRING" size="256"/>
          <Column id="hshopGb" type="STRING" size="256"/>
          <Column id="hshopGbNm" type="STRING" size="256"/>
          <Column id="payGb" type="STRING" size="256"/>
          <Column id="regiAmt" type="STRING" size="256"/>
          <Column id="sumMonAmt" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0106" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="ordId" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="regiCd" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="lrCd" type="STRING" size="256"/>
          <Column id="matCd" type="STRING" size="256"/>
          <Column id="ordQty" type="STRING" size="256"/>
          <Column id="regiAmt" type="STRING" size="256"/>
          <Column id="rentAmt" type="STRING" size="256"/>
          <Column id="rentpAmt" type="STRING" size="256"/>
          <Column id="fDcrate" type="STRING" size="256"/>
          <Column id="fDcamt" type="STRING" size="256"/>
          <Column id="monDcamt" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
          <Column id="planDay" type="STRING" size="256"/>
          <Column id="planTm" type="STRING" size="256"/>
          <Column id="instDay" type="STRING" size="256"/>
          <Column id="instTm" type="STRING" size="256"/>
          <Column id="instYn" type="STRING" size="256"/>
          <Column id="valYn" type="STRING" size="256"/>
          <Column id="equNo" type="STRING" size="256"/>
          <Column id="osId" type="STRING" size="256"/>
          <Column id="osDay" type="STRING" size="256"/>
          <Column id="statCd" type="STRING" size="256"/>
          <Column id="flYn" type="STRING" size="256"/>
          <Column id="frYn" type="STRING" size="256"/>
          <Column id="rlYn" type="STRING" size="256"/>
          <Column id="rrYn" type="STRING" size="256"/>
          <Column id="matDesc" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="regDt" type="STRING" size="256"/>
          <Column id="chgId" type="STRING" size="256"/>
          <Column id="chgDt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_price" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="matCd" type="STRING" size="256"/>
          <Column id="matNm" type="STRING" size="256"/>
          <Column id="petternCd" type="STRING" size="256"/>
          <Column id="sectionWidth" type="STRING" size="256"/>
          <Column id="aspectRatio" type="STRING" size="256"/>
          <Column id="wheelInches" type="STRING" size="256"/>
          <Column id="plyRating" type="STRING" size="256"/>
          <Column id="demendQty" type="STRING" size="256"/>
          <Column id="pgCd" type="STRING" size="256"/>
          <Column id="seasonCd" type="STRING" size="256"/>
          <Column id="seasonNm" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="contentsCd" type="STRING" size="256"/>
          <Column id="modelCd" type="STRING" size="256"/>
          <Column id="wheelQty" type="STRING" size="256"/>
          <Column id="wheelLimitQty" type="STRING" size="256"/>
          <Column id="classCd" type="STRING" size="256"/>
          <Column id="makerCd" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="endDay" type="STRING" size="256"/>
          <Column id="strDay" type="STRING" size="256"/>
          <Column id="regiCd" type="STRING" size="256"/>
          <Column id="regiAmt" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="ordQty" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="priceCd" type="STRING" size="256"/>
          <Column id="rentAmt" type="STRING" size="256"/>
          <Column id="cDcamt" type="STRING" size="256"/>
          <Column id="campYn" type="STRING" size="256"/>
          <Column id="gDcrate" type="STRING" size="256"/>
          <Column id="gDcamt" type="STRING" size="256"/>
          <Column id="lDcrate" type="STRING" size="256"/>
          <Column id="lDcamt" type="STRING" size="256"/>
          <Column id="fDcamt" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
          <Column id="matDesc" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rateAmt" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cDcamt" type="STRING" size="256"/>
          <Column id="campYn" type="STRING" size="256"/>
          <Column id="gDcrate" type="STRING" size="256"/>
          <Column id="gDcamt" type="STRING" size="256"/>
          <Column id="lDcrate" type="STRING" size="256"/>
          <Column id="lDcamt" type="STRING" size="256"/>
          <Column id="fDcamt" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtre0010" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="accSeq" type="STRING" size="256"/>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="custTp" type="STRING" size="256"/>
          <Column id="ebirDay" type="STRING" size="256"/>
          <Column id="buslNo" type="STRING" size="256"/>
          <Column id="bankCd" type="STRING" size="256"/>
          <Column id="acctNo" type="STRING" size="256"/>
          <Column id="accChk" type="STRING" size="256"/>
          <Column id="acncId" type="STRING" size="256"/>
          <Column id="acncDesc" type="STRING" size="256"/>
          <Column id="useYn" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="payMthd" type="STRING" size="256"/>
          <Column id="expireY" type="STRING" size="256"/>
          <Column id="expireM" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtre0020" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="crdSeq" type="STRING" size="256"/>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="custTp" type="STRING" size="256"/>
          <Column id="ebirDay" type="STRING" size="256"/>
          <Column id="buslNo" type="STRING" size="256"/>
          <Column id="cardcomCd" type="STRING" size="256"/>
          <Column id="cardNo" type="STRING" size="256"/>
          <Column id="expireYm" type="STRING" size="256"/>
          <Column id="bkeyChk" type="STRING" size="256"/>
          <Column id="batchKey" type="STRING" size="256"/>
          <Column id="acncId" type="STRING" size="256"/>
          <Column id="acncDesc" type="STRING" size="256"/>
          <Column id="useYn" type="STRING" size="256"/>
          <Column id="Column0" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="payMthd" type="STRING" size="256"/>
          <Column id="expireY" type="STRING" size="256"/>
          <Column id="expireM" type="STRING" size="256"/>
          <Column id="returnCode" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0013" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="prmmSvrComboGet">
        <ColumnInfo>
          <Column id="saleCd" type="STRING" size="256"/>
          <Column id="prsDcd" type="STRING" size="256"/>
          <Column id="prsNm" type="STRING" size="256"/>
          <Column id="servAmt" type="STRING" size="256"/>
          <Column id="servInfAmt" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="periodNm" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="cntNm" type="STRING" size="256"/>
          <Column id="servCnt" type="STRING" size="256"/>
          <Column id="servAmtSum" type="STRING" size="256"/>
          <Column id="servAmtSumOrg" type="STRING" size="256"/>
          <Column id="servCntOrg" type="STRING" size="256"/>
          <Column id="servInfYN" type="STRING" size="256"/>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="psCd" type="STRING" size="256"/>
          <Column id="servCnt0" type="STRING" size="256"/>
          <Column id="servCntr" type="STRING" size="256"/>
          <Column id="prsPk" type="STRING" size="256"/>
          <Column id="servAmt1" type="STRING" size="256"/>
          <Column id="servAmt2" type="STRING" size="256"/>
          <Column id="servAmt3" type="STRING" size="256"/>
          <Column id="servAmt4" type="STRING" size="256"/>
          <Column id="servAmt5" type="STRING" size="256"/>
          <Column id="servAmt6" type="STRING" size="256"/>
          <Column id="servAmt7" type="STRING" size="256"/>
          <Column id="servAmt8" type="STRING" size="256"/>
          <Column id="servAmt9" type="STRING" size="256"/>
          <Column id="servAmt10" type="STRING" size="256"/>
          <Column id="servCntTemp" type="STRING" size="256"/>
          <Column id="saleAmt" type="STRING" size="256"/>
          <Column id="dcRate" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0014" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="dcTp" type="STRING" size="256"/>
          <Column id="matCd" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="dcRate" type="STRING" size="256"/>
          <Column id="dcAmt" type="STRING" size="256"/>
          <Column id="regId" type="STRING" size="256"/>
          <Column id="regDt" type="STRING" size="256"/>
          <Column id="chgId" type="STRING" size="256"/>
          <Column id="chgDt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="dsNice" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cdLevel" type="string" size="32"/>
          <Column id="chgDt" type="string" size="32"/>
          <Column id="seq" type="bigdecimal" size="16"/>
          <Column id="chgId" type="string" size="32"/>
          <Column id="regDt" type="string" size="32"/>
          <Column id="crGrade" type="bigdecimal" size="16"/>
          <Column id="creDay" type="string" size="32"/>
          <Column id="regId" type="string" size="32"/>
          <Column id="safekey" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="dsNice2" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cdLevel" type="string" size="32"/>
          <Column id="returnCode" type="string" size="32"/>
          <Column id="trustLevel" type="string" size="32"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="dsBis" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="dsBis2" firefirstcount="0" firenextcount="0" useclientlayout="false" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false"/>
      <Dataset id="dsBatch" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="res_cd" type="STRING" size="256"/>
          <Column id="res_msg" type="STRING" size="256"/>
          <Column id="group_id" type="STRING" size="256"/>
          <Column id="cardcomCd" type="STRING" size="256"/>
          <Column id="returnCode" type="STRING" size="256"/>
          <Column id="batchKey" type="STRING" size="256"/>
          <Column id="pay_type" type="STRING" size="256"/>
          <Column id="pay_id" type="STRING" size="256"/>
          <Column id="pay_cert_no" type="STRING" size="256"/>
          <Column id="pay_issue_cd" type="STRING" size="256"/>
          <Column id="pay_issue_nm" type="STRING" size="256"/>
          <Column id="ccertDay" type="STRING" size="256"/>
          <Column id="ccertSeq" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0113" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
          <Column id="tel" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0113Combo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0205">
        <ColumnInfo>
          <Column id="chanCd" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="mobNo" type="STRING" size="256"/>
          <Column id="smsMsg" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0115">
        <ColumnInfo>
          <Column id="ordNo" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_reRental">
        <ColumnInfo>
          <Column id="COL1" type="STRING" size="256"/>
          <Column id="COL2" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_ordNoList" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="ordDay" type="STRING" size="256"/>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="custNo" type="STRING" size="256"/>
          <Column id="birthDay" type="STRING" size="256"/>
          <Column id="buslNo" type="STRING" size="256"/>
          <Column id="custNm" type="STRING" size="256"/>
          <Column id="genderCd" type="STRING" size="256"/>
          <Column id="genderNm" type="STRING" size="256"/>
          <Column id="lfCd" type="STRING" size="256"/>
          <Column id="lfNm" type="STRING" size="256"/>
          <Column id="mobNo" type="STRING" size="256"/>
          <Column id="telNo" type="STRING" size="256"/>
          <Column id="telNo2" type="STRING" size="256"/>
          <Column id="addr" type="STRING" size="256"/>
          <Column id="carNo" type="STRING" size="256"/>
          <Column id="makerCd" type="STRING" size="256"/>
          <Column id="modelCd" type="STRING" size="256"/>
          <Column id="contentsCd" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="carKind" type="STRING" size="256"/>
          <Column id="statCd" type="STRING" size="256"/>
          <Column id="statNm" type="STRING" size="256"/>
          <Column id="seasonCd" type="STRING" size="256"/>
          <Column id="seasonNm" type="STRING" size="256"/>
          <Column id="saleNm" type="STRING" size="256"/>
          <Column id="chanNm" type="STRING" size="256"/>
          <Column id="hshopGbNm" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
          <Column id="grpNo" type="STRING" size="256"/>
          <Column id="custTp" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="fpayYn" type="STRING" size="256"/>
          <Column id="prdtGrp" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_agencyPop_Cp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="grpNm" type="STRING" size="256"/>
          <Column id="grpNo" type="STRING" size="256"/>
          <Column id="saleCd" type="STRING" size="256"/>
          <Column id="saleNm" type="STRING" size="256"/>
          <Column id="grpSt" type="STRING" size="256"/>
          <Column id="minAgrCnt" type="STRING" size="256"/>
          <Column id="restCnt" type="STRING" size="256"/>
          <Column id="grpDcRate" type="STRING" size="256"/>
          <Column id="grpDcAmt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prdInfo" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="chk" type="STRING" size="256"/>
          <Column id="prsPk" type="STRING" size="256"/>
          <Column id="saleGdsCd" type="STRING" size="256"/>
          <Column id="standard" type="STRING" size="256"/>
          <Column id="amt" type="STRING" size="256"/>
          <Column id="groupSale" type="STRING" size="256"/>
          <Column id="chnlSale" type="STRING" size="256"/>
          <Column id="matNm" type="STRING" size="256"/>
          <Column id="periodNm" type="STRING" size="256"/>
          <Column id="seasonNm" type="STRING" size="256"/>
          <Column id="cntNm" type="STRING" size="256"/>
          <Column id="seasonCd" type="STRING" size="256"/>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="seq" type="STRING" size="256"/>
          <Column id="ordId" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="regiCd" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="lrCd" type="STRING" size="256"/>
          <Column id="matCd" type="STRING" size="256"/>
          <Column id="ordQty" type="STRING" size="256"/>
          <Column id="regiAmt" type="STRING" size="256"/>
          <Column id="rentAmt" type="STRING" size="256"/>
          <Column id="rentpAmt" type="STRING" size="256"/>
          <Column id="fDcrate" type="STRING" size="256"/>
          <Column id="fDcamt" type="STRING" size="256"/>
          <Column id="monDcamt" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
          <Column id="planDay" type="STRING" size="256"/>
          <Column id="planTm" type="STRING" size="256"/>
          <Column id="instDay" type="STRING" size="256"/>
          <Column id="instTm" type="STRING" size="256"/>
          <Column id="instYn" type="STRING" size="256"/>
          <Column id="valYn" type="STRING" size="256"/>
          <Column id="equNo" type="STRING" size="256"/>
          <Column id="osId" type="STRING" size="256"/>
          <Column id="osDay" type="STRING" size="256"/>
          <Column id="statCd" type="STRING" size="256"/>
          <Column id="flYn" type="STRING" size="256"/>
          <Column id="frYn" type="STRING" size="256"/>
          <Column id="rlYn" type="STRING" size="256"/>
          <Column id="rrYn" type="STRING" size="256"/>
          <Column id="matDesc" type="STRING" size="256"/>
          <Column id="saleCd" type="STRING" size="256"/>
          <Column id="gdsGb" type="STRING" size="256"/>
          <Column id="gdsGrp" type="STRING" size="256"/>
          <Column id="frNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_prdInfoTmp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false">
        <ColumnInfo>
          <Column id="chk" type="STRING" size="256"/>
          <Column id="prsPk" type="STRING" size="256"/>
          <Column id="saleGdsCd" type="STRING" size="256"/>
          <Column id="standard" type="STRING" size="256"/>
          <Column id="matCd" type="STRING" size="256"/>
          <Column id="matNm" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="periodNm" type="STRING" size="256"/>
          <Column id="seasonCd" type="STRING" size="256"/>
          <Column id="seasonNm" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="cntNm" type="STRING" size="256"/>
          <Column id="regiCd" type="STRING" size="256"/>
          <Column id="regiAmt" type="STRING" size="256"/>
          <Column id="amt" type="STRING" size="256"/>
          <Column id="groupSale" type="STRING" size="256"/>
          <Column id="chnlSale" type="STRING" size="256"/>
          <Column id="frCd" type="STRING" size="256"/>
          <Column id="frNm" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0041Tmp" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="dsPrice_oncolumnchanged">
        <ColumnInfo>
          <Column id="chk" type="string"/>
          <Column id="addGdsCd" type="string"/>
          <Column id="addGdsNm" type="string"/>
          <Column id="amt" type="string"/>
          <Column id="makerNm" type="string"/>
          <Column id="gdsDesc" type="string"/>
          <Column id="gdsGrp" type="string"/>
          <Column id="dcAmt" type="string"/>
          <Column id="actAmt" type="STRING" size="256"/>
          <Column id="dcYn" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0041" firefirstcount="0" firenextcount="0" useclientlayout="true" updatecontrol="true" enableevent="true" loadkeymode="keep" loadfiltermode="keep" reversesubsum="false" oncolumnchanged="dsPrice_oncolumnchanged">
        <ColumnInfo>
          <Column id="chk" type="STRING" size="256"/>
          <Column id="addGdsCd" type="STRING" size="256"/>
          <Column id="addGdsNm" type="STRING" size="256"/>
          <Column id="amt" type="STRING" size="256"/>
          <Column id="makerNm" type="STRING" size="256"/>
          <Column id="gdsDesc" type="STRING" size="256"/>
          <Column id="gdsGrpNm" type="STRING" size="256"/>
          <Column id="gdsGrp" type="STRING" size="256"/>
          <Column id="dcAmt" type="STRING" size="256"/>
          <Column id="actAmt" type="STRING" size="256"/>
          <Column id="dcYn" type="STRING" size="256"/>
          <Column id="monAmt" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_cntPrdPymInfo">
        <ColumnInfo>
          <Column id="ordNo" type="string" size="256"/>
          <Column id="matCd" type="string" size="256"/>
          <Column id="matNm" type="string" size="256"/>
          <Column id="periodCd" type="string" size="256"/>
          <Column id="periodNm" type="string" size="256"/>
          <Column id="amt" type="string" size="256"/>
          <Column id="rentAmt" type="string" size="256"/>
          <Column id="regiAmt" type="STRING" size="256"/>
          <Column id="dcAmt" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="prsPk" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0013Tmp">
        <ColumnInfo>
          <Column id="check" type="STRING" size="256"/>
          <Column id="prsPk" type="STRING" size="256"/>
          <Column id="saleCd" type="STRING" size="256"/>
          <Column id="prsDcd" type="STRING" size="256"/>
          <Column id="prsNm" type="STRING" size="256"/>
          <Column id="periodCd" type="STRING" size="256"/>
          <Column id="periodNm" type="STRING" size="256"/>
          <Column id="cntCd" type="STRING" size="256"/>
          <Column id="cntNm" type="STRING" size="256"/>
          <Column id="servCnt" type="STRING" size="256"/>
          <Column id="servAmt" type="STRING" size="256"/>
          <Column id="psCd" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_RegAmtMgnt">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="cd">0</Col>
            <Col id="cdNm">0</Col>
          </Row>
          <Row>
            <Col id="cd">1</Col>
            <Col id="cdNm">1</Col>
          </Row>
          <Row>
            <Col id="cd">2</Col>
            <Col id="cdNm">2</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_svrCnt">
        <ColumnInfo>
          <Column id="cd" type="STRING" size="256"/>
          <Column id="cdNm" type="STRING" size="256"/>
        </ColumnInfo>
        <Rows>
          <Row>
            <Col id="cd">1</Col>
            <Col id="cdNm">1회</Col>
          </Row>
          <Row>
            <Col id="cd">2</Col>
            <Col id="cdNm">2회</Col>
          </Row>
          <Row>
            <Col id="cd">3</Col>
            <Col id="cdNm">3회</Col>
          </Row>
          <Row>
            <Col id="cd">4</Col>
            <Col id="cdNm">4회</Col>
          </Row>
          <Row>
            <Col id="cd">5</Col>
            <Col id="cdNm">5회</Col>
          </Row>
          <Row>
            <Col id="cd">6</Col>
            <Col id="cdNm">6회</Col>
          </Row>
          <Row>
            <Col id="cd">7</Col>
            <Col id="cdNm">7회</Col>
          </Row>
          <Row>
            <Col id="cd">8</Col>
            <Col id="cdNm">8회</Col>
          </Row>
          <Row>
            <Col id="cd">9</Col>
            <Col id="cdNm">9회</Col>
          </Row>
          <Row>
            <Col id="cd">999</Col>
            <Col id="cdNm">무제한</Col>
          </Row>
        </Rows>
      </Dataset>
      <Dataset id="ds_userChanCdList">
        <ColumnInfo>
          <Column id="chanCd" type="STRING" size="256" description="채널코드"/>
        </ColumnInfo>
      </Dataset>
      <Dataset id="ds_rtsd0401">
        <ColumnInfo>
          <Column id="ordNo" type="STRING" size="256"/>
          <Column id="agencyCd" type="STRING" size="256"/>
          <Column id="reqDay" type="STRING" size="256"/>
          <Column id="procDay" type="STRING" size="256"/>
          <Column id="procTm" type="STRING" size="256"/>
          <Column id="mobNo" type="STRING" size="256"/>
          <Column id="bldMngNo" type="STRING" size="256"/>
          <Column id="posCd" type="STRING" size="256"/>
          <Column id="addr1" type="STRING" size="256"/>
          <Column id="addr2" type="STRING" size="256"/>
          <Column id="statCd" type="STRING" size="256"/>
          <Column id="statDtlCd" type="STRING" size="256"/>
          <Column id="memo" type="STRING" size="256"/>
        </ColumnInfo>
      </Dataset>
    </Objects>
    <Bind>
      <BindItem id="item24" compid="div_custInfo.ed_buslNo" propid="value" datasetid="ds_rtsd0100" columnid="buslNo"/>
      <BindItem id="item22" compid="div_custInfo.cb_custTp" propid="value" datasetid="ds_rtsd0100" columnid="custTp"/>
      <BindItem id="item25" compid="div_custInfo.ed_birthDay" propid="value" datasetid="ds_rtsd0100" columnid="birthDay"/>
      <BindItem id="item27" compid="div_custInfo.ed_custNm" propid="value" datasetid="ds_rtsd0100" columnid="custNm"/>
      <BindItem id="item23" compid="div_custInfo.ed_custNo" propid="value" datasetid="ds_rtsd0100" columnid="custNo"/>
      <BindItem id="item28" compid="div_custInfo.ed_repNm" propid="value" datasetid="ds_rtsd0100" columnid="repNm"/>
      <BindItem id="item29" compid="div_custInfo.cb_genderCd" propid="value" datasetid="ds_rtsd0100" columnid="genderCd"/>
      <BindItem id="item30" compid="div_custInfo.cb_lfCd" propid="value" datasetid="ds_rtsd0100" columnid="lfCd"/>
      <BindItem id="item31" compid="div_custInfo.ed_telNo" propid="value" datasetid="ds_rtsd0100" columnid="telNo"/>
      <BindItem id="item26" compid="div_payInfo.cb_payMthd" propid="value" datasetid="ds_rtsd0104" columnid="payMthd"/>
      <BindItem id="item1" compid="div_payInfo.div_card.ed_C_custNm" propid="value" datasetid="ds_rtre0020" columnid="custNm"/>
      <BindItem id="item2" compid="div_payInfo.div_card.ed_C_ebirDay" propid="value" datasetid="ds_rtre0020" columnid="ebirDay"/>
      <BindItem id="item3" compid="div_payInfo.div_card.ed_C_buslNo" propid="value" datasetid="ds_rtre0020" columnid="buslNo"/>
      <BindItem id="item4" compid="div_payInfo.div_card.cb_C_bankCd" propid="value" datasetid="ds_rtre0020" columnid="cardcomCd"/>
      <BindItem id="item5" compid="div_payInfo.div_card.ed_C_cardNo" propid="value" datasetid="ds_rtre0020" columnid="cardNo"/>
      <BindItem id="item45" compid="div_payInfo.div_card.ed_C_expireY" propid="value" datasetid="ds_rtre0020" columnid="expireY"/>
      <BindItem id="item46" compid="div_payInfo.div_card.ed_C_expireM" propid="value" datasetid="ds_rtre0020" columnid="expireM"/>
      <BindItem id="item9" compid="div_payInfo.div_acc.cb_B_bankCd" propid="value" datasetid="ds_rtre0010" columnid="bankCd"/>
      <BindItem id="item10" compid="div_payInfo.div_acc.ed_B_acctNo" propid="value" datasetid="ds_rtre0010" columnid="acctNo"/>
      <BindItem id="item11" compid="div_carInfo.cb_makerCd" propid="value" datasetid="ds_rtsd0104" columnid="makerCd"/>
      <BindItem id="item13" compid="div_carInfo.ed_carOwner" propid="value" datasetid="ds_rtsd0104" columnid="carOwner"/>
      <BindItem id="item14" compid="div_carInfo.ed_carNo" propid="value" datasetid="ds_rtsd0104" columnid="carNo"/>
      <BindItem id="item15" compid="div_carInfo.ed_cMileage" propid="value" datasetid="ds_rtsd0104" columnid="cMileage"/>
      <BindItem id="item16" compid="div_installInfo.ed_agencyCd" propid="value" datasetid="ds_rtsd0104" columnid="agencyCd"/>
      <BindItem id="item33" compid="div_custInfo.ed_busiType" propid="value" datasetid="ds_rtsd0100" columnid="busiType"/>
      <BindItem id="item34" compid="div_custInfo.ed_busiCond" propid="value" datasetid="ds_rtsd0100" columnid="busiCond"/>
      <BindItem id="item12" compid="div_carInfo.ed_model" propid="value" datasetid="ds_rtsd0104" columnid="modelCd"/>
      <BindItem id="item6" compid="div_payInfo.div_acc.ed_B_custNm" propid="value" datasetid="ds_rtre0010" columnid="custNm"/>
      <BindItem id="item8" compid="div_payInfo.div_acc.ed_B_buslNo" propid="value" datasetid="ds_rtre0010" columnid="buslNo"/>
      <BindItem id="item7" compid="div_payInfo.div_acc.ed_B_ebirDay" propid="value" datasetid="ds_rtre0010" columnid="ebirDay"/>
      <BindItem id="item32" compid="div_custInfo.div_custInfoDetail.ed_mobNo" propid="value" datasetid="ds_rtsd0100" columnid="mobNo"/>
      <BindItem id="item35" compid="div_custInfo.div_custInfoDetail.cb_mobFirm" propid="value" datasetid="ds_rtsd0100" columnid="mobFirm"/>
      <BindItem id="item36" compid="div_custInfo.div_custInfoDetail.ed_emailAddr1" propid="value" datasetid="ds_rtsd0100" columnid="emailAddr"/>
      <BindItem id="item37" compid="div_custInfo.div_custInfoDetail.ed_posCd" propid="value" datasetid="ds_rtsd0100" columnid="posCd"/>
      <BindItem id="item38" compid="div_custInfo.div_custInfoDetail.ed_addr1" propid="value" datasetid="ds_rtsd0100" columnid="addrSum1"/>
      <BindItem id="item39" compid="div_custInfo.div_custInfoDetail.ed_posCd2" propid="value" datasetid="ds_rtsd0100" columnid="posCd2"/>
      <BindItem id="item40" compid="div_custInfo.div_custInfoDetail.ed_addr12" propid="value" datasetid="ds_rtsd0100" columnid="addrSum2"/>
      <BindItem id="item42" compid="div_custInfo.div_custInfoDetail.ed_telNo2" propid="value" datasetid="ds_rtsd0100" columnid="telNo2"/>
      <BindItem id="item17" compid="div_installInfo.cal_procDay" propid="value" datasetid="ds_rtsd0104" columnid="procDay"/>
      <BindItem id="item43" compid="div_installInfo.ed_agencyNm" propid="value" datasetid="ds_rtsd0104" columnid="agencyNm"/>
      <BindItem id="item44" compid="ed_grpNo" propid="value" datasetid="ds_rtsd0104" columnid="grpNo"/>
      <BindItem id="item47" compid="ed_grpYn" propid="value" datasetid="ds_rtsd0104" columnid="grpYn"/>
      <BindItem id="item48" compid="div_installInfo.ed_salesOffice" propid="value" datasetid="ds_rtsd0104" columnid="salesOffice"/>
      <BindItem id="item49" compid="div_installInfo.ed_salesGroup" propid="value" datasetid="ds_rtsd0104" columnid="salesGroup"/>
      <BindItem id="item21" compid="div_etcInfo.cal_ordDay" propid="value" datasetid="ds_rtsd0104" columnid="ordDay"/>
      <BindItem id="item18" compid="div_etcInfo.cb_conMthd" propid="value" datasetid="ds_rtsd0104" columnid="conMthd"/>
      <BindItem id="item19" compid="div_custInfo.div_custInfoDetail.cb_credit" propid="value" datasetid="ds_rtsd0104" columnid="crdtStat"/>
      <BindItem id="item20" compid="ra_sale" propid="value" datasetid="ds_rtsd0104" columnid="saleId"/>
      <BindItem id="item0" compid="ed_orderNo" propid="value" datasetid="ds_rtsd0104" columnid="ordNo"/>
      <BindItem id="item41" compid="div_custInfo.div_custInfoDetail.ra_certification" propid="value" datasetid="ds_rtsd0104" columnid="certCd"/>
      <BindItem id="item50" compid="div_salesmanInfo.cb_orgAgent" propid="value" datasetid="ds_rtsd0104" columnid="ordAgent"/>
      <BindItem id="item51" compid="div_custInfo.ed_Ccustnm" propid="value" datasetid="ds_rtsd0100" columnid="cCustnm"/>
      <BindItem id="item52" compid="div_custInfo.ed_cTelno" propid="value" datasetid="ds_rtsd0100" columnid="cTelno"/>
      <BindItem id="item54" compid="st_grpNo" propid="text" datasetid="ds_agencyPop_Cp" columnid="grpNo"/>
      <BindItem id="item53" compid="st_grpNm" propid="text" datasetid="ds_agencyPop_Cp" columnid="grpNm"/>
      <BindItem id="item55" compid="st_saleNm" propid="text" datasetid="ds_agencyPop_Cp" columnid="saleNm"/>
      <BindItem id="item56" compid="st_grpSt" propid="text" datasetid="ds_agencyPop_Cp" columnid="grpSt"/>
      <BindItem id="item57" compid="st_restCnt" propid="text" datasetid="ds_agencyPop_Cp" columnid="restCnt"/>
      <BindItem id="item58" compid="st_minAgrCnt" propid="text" datasetid="ds_agencyPop_Cp" columnid="minAgrCnt"/>
      <BindItem id="item59" compid="st_grpDcRate" propid="text" datasetid="ds_agencyPop_Cp" columnid="grpDcRate"/>
      <BindItem id="item60" compid="st_grpDcAmt" propid="text" datasetid="ds_agencyPop_Cp" columnid="grpDcAmt"/>
      <BindItem id="item61" compid="p_argGrpNo" propid="value" datasetid="ds_agencyPop_Cp" columnid="grpNo"/>
      <BindItem id="item62" compid="p_saleCd" propid="value" datasetid="ds_agencyPop_Cp" columnid="saleCd"/>
      <BindItem id="item63" compid="div_carInfo.ed_contentsCd" propid="value" datasetid="ds_rtsd0104" columnid="contentsCd"/>
      <BindItem id="item64" compid="div_installInfo.ed_visitTel" propid="value" datasetid="ds_rtsd0401" columnid="mobNo"/>
      <BindItem id="item65" compid="div_carInfo.ed_frCd" propid="value" datasetid="ds_rtsd0104" columnid="frCd"/>
    </Bind>
    <Script type="xscript5.0"><![CDATA[/***************************************************************************************************
 * 파 일 명 : RTSDGroupContractRegister.xfdl
 * 설    명 : 단체 주문등록
 * 작 성 자 :
 * 변경이력 :
 * 변경일자		변경자		변경내용
 * ----------	------		--------
 * ...			...			...
 * 2016-09-26	wjim		온라인장착 가능여부 추가
 * 2016-12-06	wjim		[20161206_02] 사용자그룹 추가작업
 *							- '콜센터(아웃바운드)'(13) 추가
 *							- '콜센터'(02)와 동일한 권한 부여
 * 2018-02-12	wjim		[20180212_01] 선택형 프리미엄 서비스 도입
 *							- 프리미엄 서비스 정보 세팅 시점 변경
 *							- '상품-가격정보' 선택 > 프리미엄서비스 팝업 선택
 ***************************************************************************************************/

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
include "lib::comLib.xjs";
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.p_arg 			= "RTSDContractRegister";
this.resultOrdNo 	= "0";
this.p_modelCd  	= "";
this.p_makerCd 		= "";
this.p_contentsCd 	= "";
this.p_frCd 		= "";
this.selectGrpNo 	= "0";	//고객결합번호
this.selectSaleCd	= 0;
this.payAddRowFlag  = true;
this.accCardCheck   = false;//계좌인증 확인여부. true일때만 저장가능.
this.orgAgtel		= "";
this.toDay 			= "";   //현재날짜
this.addDay			= "";	//현재날짜+3
this.selectChanCd	= "XX";

this.userGrp 		=  "02";//application.gds_userInfo.getColumn(0, "userGrp");	//사용자 그룹 		--> *01:영업관리자, *02:콜센터, *03:지사, *04:지점, *05:대리점, *13:콜센터(아웃바운드)
this.userId  		= application.gds_userInfo.getColumn(0, "userId");	
this.onlineLoginId	= "ONL_SYS";
this.certificationFlag	= false;

this.reRental       = false; // 재렌탈 초기화
this.regiAmtRt		= "0";	 // 재렌탈 등록비 할인율 초기화
this.payStatCd      = "00";  // 현재 상태 초기화


this.regiAmtPayResult = "";
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//공통 fn_callBack START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.fn_callBack = function (strSvcId, nErrorCode, strErrorMsg){
	if (strSvcId == "initRTSDContractRegister"){
		this.fn_getToday();
		this.FN_cust01();
		
		var insert1 = this.ds_B_bankPayDay.insertRow( 0 );
		this.ds_B_bankPayDay.setColumn(insert1,"cd","-1");
		this.ds_B_bankPayDay.setColumn(insert1,"cdNm","선택");
		
		var insert2 = this.ds_C_bankPayDay.insertRow( 0 );
		this.ds_C_bankPayDay.setColumn(insert2,"cd","-1");
		this.ds_C_bankPayDay.setColumn(insert2,"cdNm","선택");
	}
	if(strSvcId == "sRtsd0113UserGrp"){
		var rtsd0113Cnt = this.ds_rtsd0113.getRowCount();
//console.log(this.ds_rtsd0113.saveXML());
		var userChanCdListCnt = this.ds_userChanCdList.getRowCount();
		var regId 		= this.ds_rtsd0100.getColumn(0,"regId");
		var custTp 		= this.ds_rtsd0100.getColumn(0,"custTp");
//this.alert("custTp : " + custTp);
		if( rtsd0113Cnt != 0 ){
			//[20161206_02]
			if( (this.userGrp == "02") || (this.userGrp == "09") || (this.userGrp == "13") || (this.userGrp == "01" && regId != this.onlineLoginId && custTp == "02" ) ){
				for( var i = 0 ; i < rtsd0113Cnt ; i++ ){
					var cd   = this.ds_rtsd0113.getColumn(i, "cd");
					var cdNm = this.ds_rtsd0113.getColumn(i, "cdNm");
					for(var j = 0; j < userChanCdListCnt ; j++ ){
						var chanCd = this.ds_userChanCdList.getColumn(j, "chanCd");
						if( cd == chanCd){
							var nRow = this.ds_rtsd0113Combo.addRow();
							this.ds_rtsd0113Combo.setColumn(nRow, "cd", cd);
							this.ds_rtsd0113Combo.setColumn(nRow, "cdNm", cdNm);
						}
					}
				}
								
				if( this.userGrp == "09" ){
					var findRow = this.ds_rtsd0113Combo.findRow( "cd", this.userId );
					if(	findRow != -1 ){
						this.div_salesmanInfo.cb_orgAgent.set_value(this.userId);
						this.div_salesmanInfo.cb_orgAgent.set_enable(false);
					}else{
						alert("판매불가한 판매원입니다.");
						return this.go("sd::RTSDContractRegister.xfdl");
					}
				}else{
					this.div_salesmanInfo.cb_orgAgent.set_enable(true);
				}
			}
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "getToday"){
		var sSvcID      	= "selectFirstDay";  
		var sController   	= "/rtms/sd/selectFirstDay.do";
		var sInDatasets   	= "";
		var sOutDatasets  	= "";
		var sArgs 			= "";	
		var fn_callBack		= "fn_callBack";
		sArgs += Ex.util.setParam("toDay"	,this.toDay); 
		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "selectFirstDay"){
		
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "listRtsd0104"){
		var rtsd0104Cnt = this.ds_rtsd0104.getRowCount();
		if( rtsd0104Cnt != 0 ){
			this.p_makerCd 		= nvl(this.ds_rtsd0104.getColumn(0,"makerCd"));
			this.p_modelCd 		= nvl(this.ds_rtsd0104.getColumn(0,"modelCd"));
			this.p_contentsCd 	= nvl(this.ds_rtsd0104.getColumn(0,"contentsCd"));
			this.p_frCd 		= nvl(this.ds_rtsd0104.getColumn(0,"frCd"));
			this.div_carInfo_cb_makerCd_onitemchanged();
			
			var payMthd = nvl(this.ds_rtsd0104.getColumn(0,"payMthd"));
			var payDd 	= nvl(this.ds_rtsd0104.getColumn(0,"payDd"));
			if( payMthd == "A" ){
				this.div_payInfo.div_acc.cb_B_bankPayDay.set_value(payDd);
			}else if( payMthd == "C" ){
				this.div_payInfo.div_card.cb_C_bankPayDay.set_value(payDd);
			}else{
			
			}
			
			this.ds_rtsd0104.getColumn(0,"cmsagYn") == "Y" ?  this.div_etcInfo.ch_cmsagYn.set_value(true) : this.div_etcInfo.ch_cmsagYn.set_value(false);
			this.ds_rtsd0104.getColumn(0,"pcertYn") == "Y" ?  this.div_etcInfo.ch_pcertYn.set_value(true) : this.div_etcInfo.ch_pcertYn.set_value(false);
			
			this.div_salesmanInfo_cb_orgAgent_onitemchanged();
			
			//this.FN_listRtsd0106();
						
			this.periodCd = nvl(this.ds_rtsd0104.getColumn(0,"periodCd"));
			
			if(this.periodCd != ''){
				this.p_periodCd.set_value(this.periodCd);
			}
						
			//this.alert("계약정보 있는지 확인 " + this.ed_orderNo.value);
			if(this.ed_orderNo.value != ''){
				this.fn_searchProduct(); 	// 계약별 제품정보 불러오기
				this.fn_searchAdtProduct(); // 계약별 부가상품 불러오기
				this.fn_searchPrmmSrvc(); 	// 계약별 프리미엄 서비스  불러오기	
				this.fn_cntPrdPymInfoList(); // 계약상품 납부정보 
				
				
				// 버튼 비활성화 
				this.btn_adtPrdAdd.set_enable(true);
				this.btn_adtPrdDel.set_enable(true);
				// 버튼 비활성화 끝
			}
//console.log(this.ds_rtsd0110.saveXML());			
		}else{
			alert("계약조회 :계약정보가 없습니다.");
		}
		
		var rtsd0100Cnt = this.ds_rtsd0100.getRowCount();
		if( rtsd0100Cnt != 0 ){
			this.div_custInfo_cb_custTp_onitemchanged();
			this.FN_telNoChange();
			this.div_custInfo.cb_custTp.set_value(this.ds_rtsd0100.getColumn(0,"custTp"));
		}else{
			alert("계약조회 : 고객정보가 없습니다.");
		}
		
		var rtsd0110Cnt = this.ds_rtsd0110.getRowCount();
		if( rtsd0110Cnt != 0 ){
			this.div_custInfo.div_custInfoDetail.ra_certification.set_value( this.ds_rtsd0110.getColumn(0, "certCd") );
			var certCd = nvl(this.ds_rtsd0110.getColumn(0, "certCd"));
			if(certCd == "02"){
				this.div_etcInfo.ch_pcertYn.set_value(true);
			}else{
				this.div_etcInfo.ch_pcertYn.set_value(false);
				this.certificationFlag = true; // 2016-06-13 이영근, 휴대폰 인증한 경우
			}
		}else{
			//alert("계약조회 : 본인인증 이력정보가 없습니다.");
		}
		
		var rtsd0111Cnt = this.ds_rtsd0111.getRowCount();
		if( rtsd0111Cnt != 0 ){
			this.div_custInfo.div_custInfoDetail.cb_nagYn.set_value( this.ds_rtsd0111.getColumn(this.ds_rtsd0111.rowposition, "nagYn") );
		}else{
			//alert("계약조회 : 개인정보제공 동의정보가 없습니다.");
		}
		
		
		var rtre0010Cnt = this.ds_rtre0010.getRowCount();
		var rtre0020Cnt = this.ds_rtre0020.getRowCount();
		if( rtre0010Cnt != 0 ){
			this.div_payInfo.cb_payCustTp.set_value( this.ds_rtre0010.getColumn(0,"custTp") );
			this.ch_resultPayInfo.set_value( this.ds_rtre0010.getColumn(0,"accChk") == "Y" ? true : false);
			//this.FN_payInfo_enable();
			this.payAddRowFlag = false;
			this.div_payInfo_cb_payMthd_onitemchanged();
			this.FN_payInfo_enable();
		}else{
		}
		if( rtre0020Cnt != 0 ){
			this.ds_rtre0020.set_updatecontrol(false);
			var sExpireYm = nvl(this.ds_rtre0020.getColumn(0,"expireYm"));
			var sExpireY = "";
			var sExpireM = "";
			if(sExpireYm != ""){
				if(sExpireYm.length == 6){
					sExpireY = sExpireYm.substr(0,4);
					sExpireM = sExpireYm.substr(4,2);
				}
			}
			this.ds_rtre0020.setColumn(0, "expireY", sExpireY);
			this.ds_rtre0020.setColumn(0, "expireM", sExpireM);
			this.ds_rtre0020.setRowType(0, Dataset.ROWTYPE_NORMAL);
			this.ds_rtre0020.set_updatecontrol(true);
			this.div_payInfo.cb_payCustTp.set_value( this.ds_rtre0020.getColumn(0,"custTp") );
			this.ch_resultPayInfo.set_value( this.ds_rtre0020.getColumn(0,"bkeyChk") == "Y" ? true : false);
			//this.FN_payInfo_enable();
			this.payAddRowFlag = false;
			this.div_payInfo_cb_payMthd_onitemchanged();
			this.FN_payInfo_enable();
		}else{
		}
		
		if( rtre0010Cnt == 0 && rtre0020Cnt == 0 ){
			//alert("계약조회 : 결제정보가 없습니다.");
		}
		
		this.FN_divChangeTrue();
		
		this.payStatCd= nvl(this.ds_rtsd0104.getColumn(this.ds_rtsd0104.rowposition, "statCd"));
//this.alert(" this.payStatCd : " + this.payStatCd );		
		if(this.payStatCd == '00'){
			this.p_regiAmt.set_enable(true);
			this.btn_payRegiAmt.set_enable(true);
			this.p_regiAmtAdj.set_enable(true);	
			this.btn_GrpSave.set_enable(true);	// 저장버튼
			this.btn_prdDel.set_enable(true);
			//-----2+2미허용
			if(this.ds_prdInfo.getRowCount() < 1){ 					
				this.btn_prdAdd.set_enable(false);
			}else{
				this.btn_prdAdd.set_enable(true);				
			}
			
			//-----2+2허용
			// this.btn_prdAdd.set_enable(true);			
			
		}else{
			this.p_regiAmt.set_enable(false);
			this.btn_payRegiAmt.set_enable(false);  // 등록비 일시불납부 버튼
			this.p_regiAmtAdj.set_enable(false);	
			
			this.btn_GrpSave.set_enable(false);	
			this.btn_prdAdd.set_enable(false);
			this.btn_prdDel.set_enable(false);
			this.btn_adtPrdAdd.set_enable(false);
			this.btn_adtPrdDel.set_enable(false);	
								
			this.div_custInfo.btn_custNoSearch.set_enable(false);  // 고객조회 버튼 비활성화 
						
			this.FN_divChangeFalse();
		}
		
	}		
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "listRtsd0106"){
	
		var prdInfoCnt = this.ds_prdInfo.getRowCount(); // 제품정보
		if( prdInfoCnt == 0 ){
			this.alert("계약조회 : 제품정보가 없습니다.");
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "listModelCombo"){
		if( nvl(this.p_modelCd) != "" && nvl(this.p_makerCd) != "" && nvl(this.p_contentsCd) != "" && nvl(this.p_frCd) ){
			var nRow = this.ds_model.findRowExpr("makerCd == '"+nvl(this.p_makerCd)+"'&& modelCd == '"+nvl(this.p_modelCd)+"'&& contentsCd == '"+nvl(this.p_contentsCd)+"'&& frCd == '" + nvl(this.p_frCd) +"'",-1);
			var selectRow = this.ds_model.set_rowposition(nRow);
			this.div_carInfo.cb_model.set_value( this.ds_model.getColumn(selectRow,"rn") );
			this.p_modelCd="";
			this.p_makerCd="";
			this.p_contentsCd="";
			this.p_frCd="";
		}
		//제품추가 버튼활성화
		/*if(this.payStatCd == '00'){
			this.btn_prdAdd.set_enable(true);
			this.btn_prdDel.set_enable(true);
		}*/
		
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "listCustInfo"){
		//고객결합여부
		if( nvl(this.selectGrpNo) != "0" ){
			this.ed_grpNo.set_value(nvl(this.selectGrpNo));
			this.ed_grpYn.set_value("Y");
		}else{
			this.ed_grpNo.set_value("");
			this.ed_grpYn.set_value("N");
		}
		
		var rtsd0110Cnt = this.ds_rtsd0110.getRowCount();
		if( rtsd0110Cnt != 0){
			var certCd = nvl(this.ds_rtsd0110.getColumn(0, "certCd"));
			this.div_custInfo.div_custInfoDetail.ra_certification.set_value( certCd );
			if(certCd == "02"){
				this.div_etcInfo.ch_pcertYn.set_value(true);
			}else{
				this.div_etcInfo.ch_pcertYn.set_value(false);
				this.certificationFlag = true; // 2016-06-13 이영근, 휴대폰 인증한 경우
			}
		}else{
			//alert("계약조회 : 본인인증 이력정보가 없습니다.");
		}
		
		var rtsd0111Cnt = this.ds_rtsd0111.getRowCount();
		if( rtsd0111Cnt != 0){
			this.div_custInfo.div_custInfoDetail.cb_nagYn.set_value( this.ds_rtsd0111.getColumn(this.ds_rtsd0111.rowposition, "nagYn") );
		}else{
			//alert("계약조회 : 개인정보제공 동의정보가 없습니다.");
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/	
	if(strSvcId == "selectRtsd0108SaleCdCount"){
	//this.alert("reRental : " + reRental);
		if( this.reRental == true){ //[김선태]재렌탈 추가
			this.ra_sale.set_value("04");
		}else{
			this.ra_sale.set_value("01");
		}

	}

	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if (strSvcId == "saveGroupContractRegister"){
		if(nErrorCode == "-2"){
			alert(strErrorMsg);
		}else if( nErrorCode == "0" && this.resultOrdNo != "0" ){
			if( confirm( strErrorMsg +"\n저장된 계약번호는 \'"+this.resultOrdNo+"\' 입니다." + "\n저장된 계약번호로 조회하시겠습니까?") ){
				this.accCardCheck   = false;
				this.FN_listRtsd0104( this.resultOrdNo );
				this.fn_searchContract();
			}else{
				this.reload();
			}
		}else{
			alert(strErrorMsg);
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "niceTrustInfoCnt") {
		if(this.dsNice.getRowCount() > 0) {
			var userCrGrade = this.dsNice.getColumn(0, "crGrade");	//사용자권한
			var commCrGrade = this.dsNice.getColumn(0, "cdLevel");	//체크권한
			if(parseInt(userCrGrade) > commCrGrade) {
				alert('신용결과 계약불가입니다.');
				this.div_custInfo.div_custInfoDetail.cb_credit.set_value("N");
				return;
			}else{
				this.div_custInfo.div_custInfoDetail.cb_credit.set_value("Y");
				this.FN_divChangeTrue();
			}
		} else {	//저장된 자료가 없는경우 새롭게 인증진행
			var safekey = nvl(this.ds_rtsd0100.getColumn(0,"safekey"));
			var sSvcID        	= "niceTrustInfo";                    
			var sController   	= "rtms/sd/niceTrustInfo.do";
			var sInDatasets   	= "";
			var sOutDatasets  	= "dsNice2=dsNiceCheck";
			var sArgs 			= "";	
			var fn_callBack		= "fn_callBack";
			sArgs += Ex.util.setParam("safekey",safekey);
			Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "niceTrustInfo") {
	
//console.log(this.dsNice2.saveXML());
		
		var returnCode = this.dsNice2.getColumn(0, "returnCode");	//성공여부
		var commCrGrade = this.dsNice2.getColumn(0, "cdLevel");		//체크권한
		var userCrGrade = this.dsNice2.getColumn(0, "trustLevel");	//사용자권한
		
		if( returnCode == "P000" ){
			if(parseInt(userCrGrade) > commCrGrade) {
				alert('신용결과 계약불가입니다.');
				this.div_custInfo.div_custInfoDetail.cb_credit.set_value("N");
				return;
			}else{
				this.div_custInfo.div_custInfoDetail.cb_credit.set_value("Y");
				this.FN_divChangeTrue();
			}
		}else{
			//this.alert(application.gv_host);
			if(application.gv_host == "http://localhost/" || application.gv_host == "http://1.254.67.135:8090/" || application.gv_host == "http://1.254.67.135:9080/" ){
				alert("개발용: 신용조회 무시");
				this.div_custInfo.div_custInfoDetail.cb_credit.set_value("Y");
				this.FN_divChangeTrue();			
			}else{
				alert("신용조회를 실패하였습니다.");	
			}
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "existsBisinessSearch") {
		if(this.dsBis2.getRowCount() > 0) {
			var yn = this.dsBis2.getColumn(0, "gradeYn");//신용평가정보가 존재하는경우....grade정보 유효성체크
			if(yn == "N") {
				alert("해당 법인의 사업자번호는 주문을 진행하실수 없습니다.");
				return false;
			}else{
			
			}
		} else {
		
			this.createNiceBusinessInfo();//당일 법인등록기준이 없는경우 법인신용평가Interface실행
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "niceBisinessSearch") {
		var  gradeYn = this.dsBis.getColumn(0, "gradeYn");
		if(gradeYn == "N") {
			alert("해당 법인의 사업자번호는 주문을 진행하실수 없습니다.");
			return false;
		}else{
		
		}
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "batchService"){
		if(nvl(this.dsBatch.getColumn(0,"res_cd")) == "0000" && nvl( this.dsBatch.getColumn(0, "batchKey") ) != "" ) {
			alert("카드인증을 성공하였습니다.");
			this.ch_resultPayInfo.set_value(true);
			this.div_payInfo.set_enable(false);
			this.ds_rtre0020.setColumn(0,"batchKey",nvl( this.dsBatch.getColumn(0, "batchKey") ) );
		}else{
			if(application.gv_host == "http://localhost/" || application.gv_host == "http://1.254.67.135:9080/"){
				alert("개발용: 카드조회 무시");
				this.ch_resultPayInfo.set_value(true);
				this.div_payInfo.set_enable(false);
				this.ds_rtre0020.setColumn(0,"batchKey","1234567890" );			
			}else{		
				alert("카드인증을 실패하였습니다.");
				this.ch_resultPayInfo.set_value(false);
			}
		}
		this.accCardCheck = true;
		this.saveBatchResult();
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "batchResultService"){
		
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "kftcCmsDocInfo"){
		if(nvl(this.dsBatch.getColumn(0,"returnCode")) == "0000") {
			alert('계좌인증 성공하였습니다');
			this.ch_resultPayInfo.set_value(true);
			//this.div_payInfo.set_enable(false);
			this.div_payInfo.div_acc.ed_B_custNm.set_enable(false);
			this.div_payInfo.div_acc.cb_B_bankCd.set_enable(false);
			this.div_payInfo.div_acc.ed_B_acctNo.set_enable(false);
		}else{
			if(application.gv_host == "http://localhost/" || application.gv_host == "http://1.254.67.135:9080/"){
				alert("개발용: 계좌인증 무시");
				this.ch_resultPayInfo.set_value(true);
				this.div_payInfo.div_acc.ed_B_custNm.set_enable(false);
				this.div_payInfo.div_acc.cb_B_bankCd.set_enable(false);
				this.div_payInfo.div_acc.ed_B_acctNo.set_enable(false);			
			}else{		
				alert('계좌인증 실패하였습니다');
				this.ch_resultPayInfo.set_value(false);
			}
		}
		this.accCardCheck = true;
	}
	if(strSvcId == "arsCallService"){
		if(nErrorCode != "0"){
			if(application.gv_host == "http://localhost/" || application.gv_host == "http://1.254.67.135:9080/"){
				alert("개발용: 출금이체동의 무시");
				this.ch_resultArsCall.set_value(true);				
			}else{				
				this.alert("출금이체동의에 실패하였습니다.\n["+strErrorMsg+"]");
				this.ch_resultArsCall.set_value(false);
			}
		}else{
			this.alert(strErrorMsg);
			this.ch_resultArsCall.set_value(true);
		}	
	}
	/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
	if(strSvcId == "sRtsd0104ChanCd"){
//this.alert("selectChanCd : " + this.selectChanCd); 
		if( (nvl(this.selectChanCd) == "XX") || (nvl(this.selectChanCd) == "") ){
			alert("채널구분 정보 오류입니다. 영업관리팀 문의바랍니다.");
			return false;
		}else{
			var nRow0104 = this.ds_rtsd0104.rowposition;
			this.ds_rtsd0104.setColumn( nRow0104, "chanCd", nvl(this.selectChanCd));	
//console.log(this.ds_rtsd0104.saveXML());
			this.FN_goSave();
		}
	}
	if(strSvcId == "insertRtsd0110"){
		if(nErrorCode != "0"){
			alert("본인인증을 실패하였습니다.");
			this.certificationFlag	= false;		

		}else{
			alert("본인인증을 성공하였습니다.");
			this.certificationFlag	= true;		
		}
	}
	
	if(strSvcId == "checkReRenatal"){//[김선태]재렌탈 추가
		this.reRental = false;		
		if(this.ds_reRental.rowcount > 0){
			if( confirm("재렌탈 대상고객입니다. 재렌탈 혜택을 적용하시겠습니까?") ){
				this.reRental = true;  //재렌탈
				
				this.p_regiAmt.set_enable(false);
				this.btn_payRegiAmt.set_enable(false);
				this.p_regiAmtAdj.set_enable(false);
				
				this.fn_regiAmtRt();
				
			}else{
				this.reRental = false;
			}
		}else{
//this.alert("재렌탈 고객아님 " + this.ds_reRental.rowcount);
			if(this.payStatCd == '00'){
				this.p_regiAmt.set_enable(true);
				this.btn_payRegiAmt.set_enable(true);
				this.p_regiAmtAdj.set_enable(true);
			}
		}
	}
	
	// 제품정보
	if(strSvcId == "listAddSelProduct"){
		if(nvl(this.p_periodCd.value) == ''){
			this.p_periodCd.set_value(this.ds_prdInfo.getColumn(0,"periodCd") ); // 처음 등록일 경우
		}	
		
		this.p_cntCd.set_value(this.getTotCntCd());
	}
		
	// 상품별 프리미엄 서비스 조회 화면
	if(strSvcId == "srvcOrdList"){
		if(nvl(this.ds_rtsd0013.getColumn(0, "servInfYN")) == ""){
			this.alert("해당타이어 " + this.p_cntCd.value + " 본수에 제공되는 프리미엄 상품은 없습니다.");	
		}
		// 무제한 선택여부 
		if(nvl(this.ds_rtsd0013.getColumn(0, "servInfYN")) != 'Y'){
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "displaytype", "normal");
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "edittype", "none");
		}else{
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "displaytype", "combo");
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "edittype", "combo");
		}	
			
		this.set_prmmAdd_dsCntPrdPymInfo();	//계약상품 납부정보 추가
	}
		
	// 주문별 프리미엄 서비스 조회 화면
	if(strSvcId == "prmmSrvcOrdList"){
	//this.alert(this.ds_rtsd0013.getColumn(0, "servInfYN"));
		// 무제한 선택여부 
		if(nvl(this.ds_rtsd0013.getColumn(0, "servInfYN")) != 'Y'){
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "displaytype", "normal");
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "edittype", "none");
		}else{
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "displaytype", "combo");
			this.grid_svrCd.setCellProperty("body", this.grid_svrCd.getBindCellIndex("body", "servCnt"), "edittype", "combo");
		}	
		//this.set_prmmAdd_dsCntPrdPymInfo();	//계약상품 납부정보 추가		
	}

	
	if(strSvcId == "cntPrdPymInfoList"){
		if(this.ed_orderNo.value != ''){								
			var regiAmt = nvl(this.ds_rtsd0104.getColumn(0,"regiAmt")) == ""?"0":nvl(this.ds_rtsd0104.getColumn(0,"regiAmt"));
			this.ds_cntPrdPymInfo_summury(); // 합계 납부정보 계산
			this.regiAmtAdj(regiAmt);
		}else{
			this.ds_cntPrdPymInfo_summury(); // 합계 납부정보 계산
		}			
	}
	
	// 단체찾기 후 
	if(strSvcId == "ordNoList"){
		this.fn_userChanCdList(); // 판매상품별 사용가능 채널 조회
	}
	
	// 판매상품별 사용가능 채널 조회
	if(strSvcId == "userChanCdList"){
		console.log(this.ds_userChanCdList.saveXML());
	}
	
	// 등록비 할인율 여부
	if(strSvcId == "regiAmtRt"){
	
//this.alert("this.regiAmtRt  : " + this.regiAmtRt  );
		// 등록비 할인율에 따른 버튼 및 계약접수 변경 
		if(parseInt(this.regiAmtRt) == 100){
			this.p_regiAmt.set_enable(false);
			this.btn_payRegiAmt.set_enable(false);
			this.p_regiAmtAdj.set_enable(false);
			this.payStatCd = '01'; //STAT_CD = '01' // 계약접수
		}else{
			this.p_regiAmt.set_enable(true);
			this.btn_payRegiAmt.set_enable(true);
			this.p_regiAmtAdj.set_enable(true);
			this.payStatCd = '00'; //STAT_CD = '01' // 계약접수
		}
	}
	
	
	if (strSvcId == "regiAmtPay"){				
		if( nErrorCode == "0"){
			//this.alert("정상 처리되었습니다.");
			this.accCardCheck   = false;
			this.FN_listRtsd0104( this.resultOrdNo );
			this.fn_searchContract();			
		}else{
			this.reload();
			alert(strErrorMsg);
		}
	}
	
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//fn_callBack END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/










/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//ONLOAD FUNCTION START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.RTSDContractRegister_onload = function(obj:Form, e:nexacro.LoadEventInfo){
//FORM ONLOAD FUNCTION
	Ex.core.init(obj);
	this.fn_init(); 
	this.parent.setButton("N", this);

	// 버튼 비활성화 
	this.btn_prdAdd.set_enable(false);
	this.btn_prdDel.set_enable(false);
	this.btn_adtPrdAdd.set_enable(false);
	this.btn_adtPrdDel.set_enable(false);
	// 버튼 비활성화 끝
	
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//UserFunction : 상품-가격정보 변경 및 SELECT BOX DATA SELECT
this.fn_init = function(){
	
	var sSvcID      	= "initRTSDContractRegister";  
	var sController   	= "rtms/sd/initRTSDContractRegister.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	sOutDatasets += " ds_custTp=mapDsCustTp ";
	sOutDatasets += " ds_certification=mapDsCertification ";
	sOutDatasets += " ds_genderCd=mapDsGenderCd ";
	sOutDatasets += " ds_lfCd=mapDsLfcd ";
	sOutDatasets += " ds_mobFirm=mapDsMobFirm ";
	sOutDatasets += " ds_payMthd=mapDsPayMthd ";
	sOutDatasets += " ds_payCustTp=mapDsPayCustTp ";
	sOutDatasets += " ds_B_bank=mapDsBBank ";
	sOutDatasets += " ds_C_bank=mapDsCBank ";
	sOutDatasets += " ds_B_bankPayDay=mapDsBankPayDay ";
	sOutDatasets += " ds_C_bankPayDay=mapDsCardPayDay ";
	sOutDatasets += " ds_maker=mapDsMaker ";
	sOutDatasets += " ds_nagYn=mapDsNagYn ";
	sOutDatasets += " ds_credit=mapDsCredit ";
	sOutDatasets += " ds_conMthd=mapDsConMthd ";
	sOutDatasets += " ds_sale=maptDsSale ";

	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//UserFunction : SYSDATE
this.fn_getToday = function(){
	var sSvcID      	= "getToday";  
	var sController   	= "/rtms/comm/getToday.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 	
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//ONLOAD FUNCTION END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/










/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//고객정보 START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//BUTTON EVENT
this.div_custInfo_btn_custNew_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	if( confirm( "고객등록 화면으로 이동 하시겠습니까?\n※등록하셨던 내용은 사라집니다." ) ){
		this.go( "sd::RTSDCustRegister.xfdl" );
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//BUTTON EVENT
this.div_custInfo_btn_custNoSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	var args ={p_arg : this.p_arg};
	Ex.core.popup(this,"고객찾기","comm::RTCOMMCust_pop.xfdl",args, "modaless=false");
}
this.returnCustInfo = function(ds){
	this.FN_divChangeFalse();
 	if(ds[0].rowcount > 0){
 		this.FN_initializationDataSet();
 		this.ds_rtsd0100.copyData(ds[0]);		
 		var contactRow = this.ds_rtsd0104.addRow();
 		//this.ds_rtsd0106.addRow();
 		//this.ds_price.addRow();
 		this.ds_rtsd0104.setColumn(contactRow,"carOwner",ds[0].getColumn(0, "custNm"));
 		
 		this.div_custInfo_cb_custTp_onitemchanged();//고객유형 CHANCE EVENT
 		
 		this.div_payInfo.cb_payMthd.set_enable(true);
 		this.div_payInfo.btn_payChoice.set_visible(true);
 		
 		this.FN_telNoChange();
 		this.fn_initSetValue();
 		this.FN_listCustInfo( ds[0].getColumn(0, "custNo") );
 		
 		var regId   = nvl( ds[0].getColumn(0,"regId")  );
 		var custTp  = nvl( ds[0].getColumn(0,"custTp") );
//this.alert("userGrp : " + this.userGrp  + " custTp  :  " + custTp );
 		if( this.userGrp == "01" && regId != this.onlineLoginId && custTp == "02" ){//B2B
 			this.FN_divChangeTrue();
 		} 		
 		this.payAddRowFlag = true;
 		
 		//재렌탈 대상 확인
 		this.checkReRental(ds[0].getColumn(0, "custNo"));
 	}
}

this.checkReRental = function(custNo){
	
	var sSvcID      	= "checkReRenatal";  
	var sController   	= "/rtms/sd/getReRentalInfo.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_reRental=mapDSReRental";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	
	sArgs += Ex.util.setParam("custNo",custNo);
	//alert(custNo);
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 	
	
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : DATA SET CLEAR
this.FN_initializationDataSet = function(){
	this.ds_rtsd0100.clearData(); 	// 고객마스터
	this.ds_rtsd0110.clearData(); 	// 고객인증
	this.ds_rtsd0111.clearData(); 	// 개인정보제공 동의
	this.ds_rtsd0104.clearData(); 	// 계약정보
	this.ds_prdInfo.clearData();	// 계약제품정보
	this.ds_rtsd0041.clearData();	// 부가제품정보
	this.ds_rtre0010.clearData();	// 고객계좌정보
	this.ds_rtre0020.clearData();	// 고객카드정보
	this.ds_rtsd0013.clearData();	// 프리미엄서비스정보	
	this.dsNice.clearData();		// 신용조회 
	this.dsNice2.clearData();		// 나이스 신용정보
	
	//-- tmp dataset 초기화
	this.ds_prdInfoTmp.clearData(); 	// 계약제품정보 temp
	this.ds_rtsd0041Tmp.clearData();	// 부가제품정보 temp
	this.ds_rtsd0013Tmp.clearData();	// 프리미엄서비스정보 temp		
	//------------------------
	
	this.div_payInfo.div_acc.cb_B_bankPayDay.set_value("-1");
	this.div_payInfo.div_card.cb_C_bankPayDay.set_value("-1");
	this.div_carInfo.cb_model.set_index(-1);
	this.div_payInfo.div_card.ed_C_expireY.set_value("");
	this.div_payInfo.div_card.ed_C_expireM.set_value("");
	this.ch_resultArsCall.set_value(false);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : 전화번호 FN_numberHyphenInReturn
this.FN_telNoChange = function(){
	var telNo  = nvl(this.ds_rtsd0100.getColumn(0,"telNo"));
	var telNo2 = nvl(this.ds_rtsd0100.getColumn(0,"telNo2"));
	var cTelno = nvl(this.ds_rtsd0100.getColumn(0,"cTelno"));
	
	if( telNo != "" ){ 	this.div_custInfo.ed_telNo.set_value( FN_numberHyphenInReturn(telNo) ); 						}
	if( telNo2 != "" ){ this.div_custInfo.div_custInfoDetail.ed_telNo2.set_value( FN_numberHyphenInReturn(telNo2) ); 	}
	if( cTelno != "" ){ this.div_custInfo.ed_cTelno.set_value( FN_numberHyphenInReturn(cTelno) ); 						}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION
this.fn_initSetValue = function(){
	this.div_installInfo.cal_procDay.set_value(this.toDay);
	this.div_etcInfo.cal_ordDay.set_value(this.toDay);
	
	if( this.userGrp == "05" ){
		this.div_installInfo.btn_searchAgency.set_visible(false);
		this.div_installInfo.ed_agencyNm.set_width(370);
		this.div_installInfo.ed_agencyCd.set_value(application.gds_userInfo.getColumn(0, "agentId"));
		this.div_installInfo.ed_agencyNm.set_value(application.gds_userInfo.getColumn(0, "agentNm"));
		this.div_installInfo.ed_salesGroup.set_value(application.gds_userInfo.getColumn(0, "vkgrp"));
		this.div_installInfo.ed_salesOffice.set_value(application.gds_userInfo.getColumn(0, "vkbur"));
	}else{
		this.div_installInfo.btn_searchAgency.set_visible(true);
		this.div_installInfo.ed_agencyNm.set_width(320);
	}
	
	var regId 	= this.ds_rtsd0100.getColumn(0,"regId");
	var custTp 	= this.ds_rtsd0100.getColumn(0,"custTp");
	// [20161206_02]
	if( (this.userGrp == "02") || (this.userGrp == "09") || (this.userGrp == "13") ||(this.userGrp == "01" && regId != this.onlineLoginId && custTp == "02" ) ){
		this.div_installInfo.cal_procDay.set_value( this.addDay );
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : 본인인증이력 및 개인정보제공동의 조회
this.FN_listCustInfo = function( custNo ){
	var sSvcID        	= "listCustInfo";                    
	var sController   	= "rtms/sd/listCustInfo.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";
	var fn_callBack		= "fn_callBack";
	sOutDatasets += " ds_rtsd0110=mapRtsd0110 ";	//본인인증이력
	sOutDatasets += " ds_rtsd0111=mapRtsd0111 ";	//개인정보제공동의
	this.ds_rtsd0111.clearData();
	this.ds_rtsd0110.clearData();
	sArgs += Ex.util.setParam("custNo",custNo);
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION
this.FN_rtsd0113UserGrp = function(){
	var sSvcID      	= "sRtsd0113UserGrp";  
	var sController   	= "/rtms/sd/sRtsd0113UserGrp.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_rtsd0113=mapRtsd0113UserGrp";
	var sArgs 			= Ex.util.setParam("userGrp",this.userGrp);
	var fn_callBack		= "fn_callBack";
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 	
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : FN_divChangeTrue <-> FN_divChangeFalse, 결제정보, 차량정보, 상품-가격정보, 장착점정보, 프리미엄서비스, 판매원정보 TRUE
this.FN_divChangeTrue = function(){
	this.div_custInfo_cb_custTp_onitemchanged();
	this.div_payInfo.set_enable(true);
	this.div_payInfo.cb_payCustTp.set_enable(false);
	this.div_carInfo.set_enable(true);
	this.div_installInfo.set_enable(true);

	var regId   = nvl( this.ds_rtsd0100.getColumn(0,"regId")  );
	var custTp  = nvl( this.ds_rtsd0100.getColumn(0,"custTp") ); // 고객유형 01: 개인, 02:사업자
	
	// [20161206_02]
	if( (this.userGrp == "02") || (this.userGrp == "09") || (this.userGrp == "13") || (this.userGrp == "01" && regId != this.onlineLoginId && custTp == "02") ){
//this.alert("regId : " + regId +  " this.onlineLoginId " + this.onlineLoginId  + " custTp : " + custTp );			
		this.div_salesmanInfo.set_enable(true);//판매원정보
		this.FN_rtsd0113UserGrp();
		
		//제품추가 버튼활성화
		/*if(this.ds_userChanCdList.getRowCount() > 1 ){			
			this.btn_prdAdd.set_enable(true);
			this.btn_prdDel.set_enable(true);
		}*/		
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : FN_divChangeTrue <-> FN_divChangeFalse, 결제정보, 차량정보, 상품-가격정보, 장착점정보, 프리미엄서비스, 판매원정보 FALSE
this.FN_divChangeFalse = function(){
	this.div_custInfo_cb_custTp_onitemchanged();
	this.div_payInfo.set_enable(false);
	this.div_payInfo.cb_payCustTp.set_enable(false);
	this.div_carInfo.set_enable(false);
	this.div_installInfo.set_enable(false);
	
	var regId   = nvl( this.ds_rtsd0100.getColumn(0,"regId")  );
	var custTp  = nvl( this.ds_rtsd0100.getColumn(0,"custTp") );

	// [20161206_02]
	if( (this.userGrp == "02") || (this.userGrp == "13") || (this.userGrp == "01" && regId != "ONL_SYS" && custTp == "02") ){
		this.div_salesmanInfo.set_enable(false);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//SELECT BOX FUNCTION : 고객유형 변경
this.div_custInfo_cb_custTp_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo){
	if( this.div_custInfo.cb_custTp.value != "undefined"){
		if( this.div_custInfo.cb_custTp.value == "01" ){
			this.FN_cust01();
		}else if( this.div_custInfo.cb_custTp.value == "02" ){
			this.FN_cust02();
		}else{
			this.FN_cust01();
		}
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//UserFunction : FN_cust01<->FN_cust02 , 고객정보
this.FN_cust01 = function(){
	this.div_custInfo.div_custInfoDetail.setOffsetTop(90);
	this.div_custInfo.st_custNm.set_text("고객명");
	this.div_custInfo.div_custInfoDetail.st_telNo2.set_text("전화번호");
	this.div_custInfo.st_birthDay.set_visible(true);						//법정생년월일
	this.div_custInfo.ed_birthDay.set_visible(true);						//법정생년월일
	this.div_custInfo.st_buslNo.set_visible(false);							//사업자번호
	this.div_custInfo.ed_buslNo.set_visible(false);							//사업자번호
	this.div_custInfo.st_genderCd.set_visible(true);						//성별
	this.div_custInfo.cb_genderCd.set_visible(true);						//성별
	this.div_custInfo.st_repNm.set_visible(false);							//대표자명
	this.div_custInfo.ed_repNm.set_visible(false);							//대표자명
	this.div_custInfo.st_busiType.set_visible(false);						//업종
	this.div_custInfo.ed_busiType.set_visible(false);						//업종
	this.div_custInfo.st_busiCond.set_visible(false);						//업태
	this.div_custInfo.ed_busiCond.set_visible(false);						//업태
	this.div_custInfo.st_lfCd.set_visible(true);							//내/외국인
	this.div_custInfo.cb_lfCd.set_visible(true);							//내/외국인
	this.div_custInfo.div_custInfoDetail.st_certification.set_visible(true);//본인인증
	this.div_custInfo.div_custInfoDetail.ra_certification.set_visible(true);//본인인증
	this.div_custInfo.div_custInfoDetail.st_credit.set_visible(true);
	this.div_custInfo.div_custInfoDetail.cb_credit.set_visible(true);
	this.div_custInfo.div_custInfoDetail.btn_creditSelect.set_visible(true);
	this.div_custInfo.div_custInfoDetail.st_nagYn.set_visible(true);
	this.div_custInfo.div_custInfoDetail.cb_nagYn.set_visible(true);
	this.div_custInfo.st_cCustnm.set_visible(false);
	this.div_custInfo.ed_Ccustnm.set_visible(false);
	this.div_custInfo.st_cTelno.set_visible(false);
	this.div_custInfo.ed_cTelno.set_visible(false);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//UserFunction : FN_cust01<->FN_cust02 , 고객정보
this.FN_cust02 = function(){
	this.div_custInfo.div_custInfoDetail.setOffsetTop(120);
	this.div_custInfo.st_custNm.set_text("법인명");
	this.div_custInfo.div_custInfoDetail.st_telNo2.set_text("회사전화");
	this.div_custInfo.st_birthDay.set_visible(false);						 //법정생년월일
	this.div_custInfo.ed_birthDay.set_visible(false);						 //법정생년월일
	this.div_custInfo.st_buslNo.set_visible(true);							 //사업자번호
	this.div_custInfo.ed_buslNo.set_visible(true);							 //사업자번호
	this.div_custInfo.st_genderCd.set_visible(false);						 //성별
	this.div_custInfo.cb_genderCd.set_visible(false);						 //성별
	this.div_custInfo.st_repNm.set_visible(true);							 //대표자명
	this.div_custInfo.ed_repNm.set_visible(true);							 //대표자명
	this.div_custInfo.st_busiType.set_visible(true);						 //업종
	this.div_custInfo.ed_busiType.set_visible(true);						 //업종
	this.div_custInfo.st_busiCond.set_visible(true);						 //업태
	this.div_custInfo.ed_busiCond.set_visible(true);						 //업태
	this.div_custInfo.st_lfCd.set_visible(false);							 //내/외국인
	this.div_custInfo.cb_lfCd.set_visible(false);							 //내/외국인
	this.div_custInfo.div_custInfoDetail.st_certification.set_visible(false);//본인인증
	this.div_custInfo.div_custInfoDetail.ra_certification.set_visible(false);//본인인증
	this.div_custInfo.div_custInfoDetail.st_credit.set_visible(false);
	this.div_custInfo.div_custInfoDetail.cb_credit.set_visible(false);
	this.div_custInfo.div_custInfoDetail.btn_creditSelect.set_visible(false);
	this.div_custInfo.div_custInfoDetail.st_nagYn.set_visible(false);
	this.div_custInfo.div_custInfoDetail.cb_nagYn.set_visible(false);
	this.div_custInfo.st_cCustnm.set_visible(true);
	this.div_custInfo.ed_Ccustnm.set_visible(true);
	this.div_custInfo.st_cTelno.set_visible(true);
	this.div_custInfo.ed_cTelno.set_visible(true);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
// BUTTON EVENT 

// 신용조회
this.div_custInfo_div_custInfoDetail_btn_creditSelect_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	var custTp  = nvl( this.ds_rtsd0100.getColumn(0,"custTp") );
	var safekey = nvl(this.ds_rtsd0100.getColumn(0,"safekey"));
	var nagYn	= nvl(this.div_custInfo.div_custInfoDetail.cb_nagYn.value);
	
	if( custTp == "01" ){//개인
		if( safekey != "" ){
			// [20161206_02]
			if( (nagYn == "Y") || (this.userGrp == "02") || (this.userGrp == "13") || (this.userGrp == "09") ){
				var sSvcID        	= "niceTrustInfoCnt";                    
				var sController   	= "ntrms/sd/niceTrustInfoCnt.do";
				var sInDatasets   	= "";
				var sOutDatasets  	= "dsNice=dsNiceCheck";
				var sArgs 			= "";	
				var fn_callBack		= "fn_callBack";
				sArgs += Ex.util.setParam("safekey",safekey);
				Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 
			}else{
				alert("정보제공동의가 미동의입니다.");
			}
		}else{
			alert("safekey가 없습니다.");
		}
	}else if( custTp == "02" ){//사업자
		//var buslNo 			=  nvl(this.div_custInfo.ed_buslNo.value);
		//var sSvcID        	= "existsBisinessSearch";                    
		//var sController   	= "ntrms/sd/existsBisinessSearch.do";
		//var sInDatasets   	= "";
		//var sOutDatasets  	= "dsBis2=ds_bis_out";
		//var sArgs 			= "";	
		//var fn_callBack		= "fn_callBack";
		//sArgs += " businessNo=" + buslNo;
		//Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 
	}else{
	
	}
	/*
	//개발일경우 TEST
	this.div_custInfo.div_custInfoDetail.cb_credit.set_value("Y");
	this.FN_divChangeTrue();
	*/
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION :  법인신용조회
this.createNiceBusinessInfo = function(obj:Button,  e:nexacro.ClickEventInfo){
	var businessNo 		= nvl(this.div_custInfo.ed_buslNo.value);
	var sSvcID        	= "niceBisinessSearch";                    
	var sController   	= "ntrms/sd/niceBisinessSearch.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "dsBis=ds_bis_out";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	sArgs += " businessNo=" + businessNo;
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : 계약정보 SELECT
this.FN_listRtsd0104 = function( ordNo ){
	this.FN_initializationDataSet();
	var sSvcID        	= "listRtsd0104";                    
	var sController   	= "rtms/sd/listRtsd0104.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	sOutDatasets += " ds_rtsd0104=mapRtsd0104 ";	//계약정보
	sOutDatasets += " ds_rtsd0100=mapRtsd0100 ";	//고객마스터
	sOutDatasets += " ds_rtsd0110=mapRtsd0110 ";	//본인인증이력
	sOutDatasets += " ds_rtsd0111=mapRtsd0111 ";	//개인정보제공동의
	sOutDatasets += " ds_rtre0010=mapRtre0010 ";	//고객계좌정보
	sOutDatasets += " ds_rtre0020=mapRtre0020 ";	//고객카드정보
	sOutDatasets += " ds_rtsd0115=mapRtsd0015 ";	//SAP인터페이스정보
	sArgs += Ex.util.setParam("ordNo", 	ordNo);
	sArgs += Ex.util.setParam("ordType", "N");
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);		
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//고객정보 END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/










/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//결제정보 START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//BUTTON EVENT : 결제정보 신규버튼
this.div_payInfo_btn_custNew_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	var nRow0104	= this.ds_rtsd0104.rowposition;
	var chanCd 		= nvl(this.ds_rtsd0104.getColumn(nRow0104, "chanCd"));
	var statCd 		= nvl(this.ds_rtsd0104.getColumn(nRow0104, "statCd"));
	
	if( chanCd == "02" || chanCd == "03" ){
		alert("온라인, 방판 정보는 수정 처리가 불가 합니다!");
		return false;
	}
	
	if( statCd=="03" || statCd=="04" || statCd=="06" ){
		alert("장착대기, 장착완료, 계약취소 정보는 수정  처리가 불가 합니다!");
		return false;
	}
	
	this.payAddRowFlag = true;
	this.div_payInfo.cb_payMthd.set_enable(true);
	this.div_payInfo.cb_payCustTp.set_enable(true);
	this.div_payInfo.cb_payMthd.setFocus(true);
	this.div_payInfo.btn_payChoice.set_visible(true);
	this.ds_rtre0010.clearData();
	this.ds_rtre0020.clearData();
	this.div_payInfo.div_acc.cb_B_bankPayDay.set_enable(false);
	this.div_payInfo.div_card.cb_C_bankPayDay.set_enable(false);
	this.div_payInfo.cb_payMthd.set_index(-1);
	this.div_payInfo.cb_payCustTp.set_index(-1);
	this.div_payInfo.cb_payCustTp.set_enable(false);
	this.div_payInfo.div_acc.btn_accConfirm.set_enable(true);
	this.div_payInfo.div_card.btn_cardConfirm.set_enable(true);
	this.ch_resultPayInfo.set_value(false);
	this.ch_resultArsCall.set_value(false);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//SELECT BOX : 결제정보-결제방법
this.div_payInfo_cb_payMthd_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo){
	if( this.payAddRowFlag ){
		this.ds_rtre0010.addRow();
		this.ds_rtre0020.addRow();
	}		
	
	var rowposition = this.ds_rtsd0100.rowposition;
	var custTp		= nvl(this.ds_rtsd0100.getColumn(rowposition, "custTp"));
	var custTp2		= nvl(this.ds_rtsd0100.getColumn(rowposition, "custTp2"));
	
	if( this.payAddRowFlag){
		this.div_payInfo.cb_payCustTp.set_value(custTp);
	}
	
	if( custTp2 == "0002"){
		this.div_payInfo.cb_payCustTp.set_enable(true);
	}else{
		this.div_payInfo.cb_payCustTp.set_enable(false);
	}
	
	if( this.div_payInfo.cb_payMthd.value == "A" ){
		this.ds_rtre0020.clearData();
		this.div_payInfo.div_acc.set_visible(true);
		this.div_payInfo.div_card.set_visible(false);
	}else if( this.div_payInfo.cb_payMthd.value == "C" ){
		this.ds_rtre0010.clearData();
		this.div_payInfo.div_acc.set_visible(false);
		this.div_payInfo.div_card.set_visible(true);
	}
	
	this.div_payInfo_cb_payCustTp_onitemchanged();
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//SELECT BOX : 결제방법-구분
this.div_payInfo_cb_payCustTp_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo){
	var rowposition = this.ds_rtsd0100.rowposition;
	var custTp		= nvl(this.ds_rtsd0100.getColumn(rowposition, "custTp"));
	var custTp2		= nvl(this.ds_rtsd0100.getColumn(rowposition, "custTp2"));
	var custNm		= nvl(this.ds_rtsd0100.getColumn(rowposition, "custNm"));
	var repNm		= nvl(this.ds_rtsd0100.getColumn(rowposition, "repNm"));
	var oCustnm		= nvl(this.ds_rtsd0100.getColumn(rowposition, "oCustnm"));
	var buslNo		= nvl(this.ds_rtsd0100.getColumn(rowposition, "buslNo"));
	var birthDay	= nvl(this.ds_rtsd0100.getColumn(rowposition, "birthDay"));
	if(birthDay != "") birthDay = birthDay.substr(2);
	var oBirthday	= nvl(this.ds_rtsd0100.getColumn(rowposition, "oBirthday"));
	if(oBirthday != "") oBirthday = oBirthday.substr(2);
	var payMthd =  this.div_payInfo.cb_payMthd.value;
	var payCustTp =  this.div_payInfo.cb_payCustTp.value;
	
	if( payCustTp == "01" ){//개인
		if( payMthd == "A" ){//계좌
			this.div_payInfo.div_acc.st_B_ebirDay.set_visible(true);
			this.div_payInfo.div_acc.ed_B_ebirDay.set_visible(true);
			
			this.div_payInfo.div_acc.st_B_buslNo.set_visible(false);
			this.div_payInfo.div_acc.ed_B_buslNo.set_visible(false);
			
			this.div_payInfo.div_acc.ed_B_custNm.set_enable(true);
			this.div_payInfo.div_acc.ed_B_ebirDay.set_enable(false);
			this.div_payInfo.div_acc.ed_B_buslNo.set_enable(false);
			this.div_payInfo.div_acc.cb_B_bankCd.set_enable(true);
			this.div_payInfo.div_acc.ed_B_acctNo.set_enable(true);
			this.div_payInfo.div_acc.cb_B_bankPayDay.set_enable(true);
			
			this.div_payInfo.div_acc.st_B_arsCall.set_enable(true);
			this.div_payInfo.div_acc.btn_arsCall.set_enable(true);
			
			if( this.payAddRowFlag ){
				this.div_payInfo.div_acc.ed_B_custNm.set_value(custNm);
				this.div_payInfo.div_acc.ed_B_ebirDay.set_value(birthDay);
			}
			if( custTp2 == "0002" && this.payAddRowFlag ){//개인사업자
				this.div_payInfo.div_acc.ed_B_custNm.set_value(repNm);
				this.div_payInfo.div_acc.ed_B_ebirDay.set_enable(true);
				this.div_payInfo.div_acc.ed_B_buslNo.set_value("");
			}
		}
		
		if( payMthd == "C" ){//카드
			this.div_payInfo.div_card.st_C_ebirDay.set_visible(true);
			this.div_payInfo.div_card.ed_C_ebirDay.set_visible(true);
			
			this.div_payInfo.div_card.st_C_buslNo.set_visible(false);
			this.div_payInfo.div_card.ed_C_buslNo.set_visible(false);
			
			this.div_payInfo.div_card.ed_C_custNm.set_enable(true);
			this.div_payInfo.div_card.ed_C_buslNo.set_enable(false);
			this.div_payInfo.div_card.cb_C_bankCd.set_enable(true);
			this.div_payInfo.div_card.ed_C_cardNo.set_enable(true);
			this.div_payInfo.div_card.ed_C_expireY.set_enable(true);
			this.div_payInfo.div_card.ed_C_expireM.set_enable(true);
			
			this.div_payInfo.div_card.cb_C_bankPayDay.set_enable(true);
			
			if( this.payAddRowFlag ){
				this.div_payInfo.div_card.ed_C_custNm.set_value(custNm);
				this.div_payInfo.div_card.ed_C_ebirDay.set_value(birthDay);
			}
			if( custTp2 == "0002" && this.payAddRowFlag ){//개인사업자
				this.div_payInfo.div_card.ed_C_custNm.set_value(repNm);
				this.div_payInfo.div_acc.ed_B_ebirDay.set_enable(true);
				this.div_payInfo.div_card.ed_C_buslNo.set_value("");
			}
		}
	}
	
	if( payCustTp == "02" ){//사업자
		if( payMthd == "A" ){//계좌
			this.div_payInfo.div_acc.st_B_ebirDay.set_visible(false);
			this.div_payInfo.div_acc.ed_B_ebirDay.set_visible(false);
			
			this.div_payInfo.div_acc.st_B_buslNo.set_visible(true);
			this.div_payInfo.div_acc.ed_B_buslNo.set_visible(true);
			
			
			this.div_payInfo.div_acc.ed_B_custNm.set_enable(true);
			this.div_payInfo.div_acc.ed_B_ebirDay.set_enable(false);
			this.div_payInfo.div_acc.ed_B_buslNo.set_enable(false);
			this.div_payInfo.div_acc.cb_B_bankCd.set_enable(true);
			this.div_payInfo.div_acc.ed_B_acctNo.set_enable(true);
			this.div_payInfo.div_acc.cb_B_bankPayDay.set_enable(true);
			
			this.div_payInfo.div_acc.st_B_arsCall.set_enable(true);
			this.div_payInfo.div_acc.btn_arsCall.set_enable(true);			
			
			if( this.payAddRowFlag ){
				this.div_payInfo.div_acc.ed_B_custNm.set_value(custNm);
				this.div_payInfo.div_acc.ed_B_ebirDay.set_value("");
				this.div_payInfo.div_acc.ed_B_buslNo.set_value(buslNo);
			}
		}
		
		if( payMthd == "C" ){//카드
			this.div_payInfo.div_card.st_C_ebirDay.set_visible(false);
			this.div_payInfo.div_card.ed_C_ebirDay.set_visible(false);
			
			this.div_payInfo.div_card.st_C_buslNo.set_visible(true);
			this.div_payInfo.div_card.ed_C_buslNo.set_visible(true);
			
			this.div_payInfo.div_card.ed_C_custNm.set_enable(true);
			this.div_payInfo.div_card.ed_C_buslNo.set_enable(false);
			this.div_payInfo.div_card.cb_C_bankCd.set_enable(true);
			this.div_payInfo.div_card.ed_C_cardNo.set_enable(true);
			this.div_payInfo.div_card.ed_C_expireY.set_enable(true);
			this.div_payInfo.div_card.ed_C_expireM.set_enable(true);
			this.div_payInfo.div_card.cb_C_bankPayDay.set_enable(true);
			
			if( this.payAddRowFlag ){
				this.div_payInfo.div_card.ed_C_custNm.set_value(custNm);
				this.div_payInfo.div_card.ed_C_ebirDay.set_value("");
				this.div_payInfo.div_card.ed_C_buslNo.set_value(buslNo);
			}
		}
	}
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_btn_payChoice_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	var payMthd	= nvl(this.div_payInfo.cb_payMthd.value);
	var custNo	= nvl(this.div_custInfo.ed_custNo.value);
	var args	= {p_arg : this.p_arg, p_custNo : custNo, p_gubun : payMthd};
	
	if( payMthd == "A" ){
		Ex.core.popup(this,"고객계좌선택 팝업","comm::RTCOMMAccount_pop.xfdl",args, "modaless=false");
		this.ch_resultArsCall.set_value(false);
		//this.ch_resultPayInfo.set_value(false);
	}else if( payMthd == "C" ){
		Ex.core.popup(this,"고객계좌선택 팝업","comm::RTCOMMCard_pop.xfdl",args, "modaless=false");
	}else{
		alert( this.div_payInfo.st_payMthd.text + "을 선택해주세요.");
		return this.div_payInfo.cb_payMthd.setFocus(true);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.returnAccount = function(ds, p_arg){
	if( ds[0].rowcount > 0 ) {
		this.ds_rtre0010.clearData();
		this.ds_rtre0020.clearData();
		this.payAddRowFlag = false;
		this.ds_rtre0010.copyData(ds[0]);

		this.div_payInfo.cb_payMthd.set_value( nvl(this.ds_rtre0010.getColumn(0,"payMthd")) );
		this.div_payInfo.cb_payCustTp.set_value( nvl(this.ds_rtre0010.getColumn(0,"custTp")) );
		var accChk = nvl(this.ds_rtre0010.getColumn(0,"accChk"));

		this.div_payInfo_cb_payMthd_onitemchanged();
		this.div_payInfo.cb_payMthd.set_enable(false);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.returnCard = function(ds, p_arg){
	if( ds[0].rowcount > 0 ) {
		this.ds_rtre0010.clearData();
		this.ds_rtre0020.clearData();
		this.payAddRowFlag = false;
		this.ds_rtre0020.copyData(ds[0]);

		this.div_payInfo.cb_payMthd.set_value( nvl(this.ds_rtre0020.getColumn(0,"payMthd")) );
		this.div_payInfo.cb_payCustTp.set_value( nvl(this.ds_rtre0020.getColumn(0,"custTp")) );
		var bkeyChk = nvl(this.ds_rtre0020.getColumn(0,"bkeyChk"));
		if( bkeyChk == "Y" ) bkeyChk = true;
		else 				 bkeyChk = false;
		this.ch_resultPayInfo.set_value(bkeyChk);

		this.div_payInfo_cb_payMthd_onitemchanged();
		this.div_payInfo.cb_payMthd.set_enable(false);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_acc_ed_B_ebirDay_onchanged = function(obj:MaskEdit, e:nexacro.ChangeEventInfo){
	var checkEbirDay = FN_YYMMDDCheck(this.div_payInfo.div_acc.ed_B_ebirDay.value)//comLib 생년월일체크
	if( !checkEbirDay ){
		alert("생년월일 다시 확인 해 주세요.");
		this.div_payInfo.ed_ebirDayCheck.set_value("false");
		this.div_payInfo.div_acc.ed_B_ebirDay.set_value("");
		this.div_payInfo.div_acc.ed_B_ebirDay.setFocus(true);
		return false;
	}else{
		this.div_payInfo.ed_ebirDayCheck.set_value("true");
		return true;
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_card_ed_C_ebirDay_onchanged = function(obj:MaskEdit, e:nexacro.ChangeEventInfo){
	var checkEbirDay = FN_YYMMDDCheck(this.div_payInfo.div_card.ed_C_ebirDay.value)//comLib 생년월일체크
	if( !checkEbirDay ){
		alert("생년월일 다시 확인 해 주세요.");
		this.div_payInfo.ed_ebirDayCheck.set_value("false");
		this.div_payInfo.div_card.ed_C_ebirDay.set_value("");
		this.div_payInfo.div_card.ed_C_ebirDay.setFocus(true);
		return false;
	}else{
		this.div_payInfo.ed_ebirDayCheck.set_value("true");
		return true;
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_acc_ed_B_buslNo_onchanged = function(obj:MaskEdit, e:nexacro.ChangeEventInfo){
	var checkBuslNo = FN_buslNoCheck(this.div_payInfo.div_acc.ed_B_buslNo.value)//comLib 사업자번호체크
	if( !checkBuslNo ){
		alert("사업자번호를 다시 확인 해 주세요.");
		this.div_payInfo.ed_buslNoCheck.set_value("false");
		this.div_payInfo.div_acc.ed_B_buslNo.set_value("");
		this.div_payInfo.div_acc.ed_B_buslNo.setFocus(true);
		return false;
	}else{
		this.div_payInfo.ed_buslNoCheck.set_value("true");
		return true;
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_card_ed_C_buslNo_onchanged = function(obj:MaskEdit, e:nexacro.ChangeEventInfo){
	var checkBuslNo = FN_buslNoCheck(this.div_payInfo.div_card.ed_C_buslNo.value)//comLib 사업자번호체크
	if( !checkBuslNo ){
		alert("사업자번호를 다시 확인 해 주세요.");
		this.div_payInfo.ed_buslNoCheck.set_value("false");
		this.div_payInfo.div_card.ed_C_buslNo.set_value("");
		this.div_payInfo.div_card.ed_C_buslNo.setFocus(true);
		return false;
	}else{
	
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_card_ed_C_cardNo_canchange = function(obj:Edit, e:nexacro.ChangeEventInfo){
	var carNoLength = obj.value.length;
	if(carNoLength > 16){
		alert("카드번호는 13 ~ 16자리만 입력가능합니다.");
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_acc_btn_accConfirm_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	var btn_nm = obj.id;
	this.fn_accConfirm(btn_nm);
}
/*계좌인증|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.fn_accConfirm = function(btn_nm) {
	var userType = nvl(this.div_payInfo.cb_payCustTp.value);			//개인/사업자
	var bankCd	 = nvl(this.div_payInfo.div_acc.cb_B_bankCd.value);		//은행코드
	var acctCd 	 = nvl(this.div_payInfo.div_acc.ed_B_acctNo.text);		//계좌번호
	var bizNo	 = "";	//생년월일 또는 사업자번호
	if(nvl(this.div_payInfo.cb_payCustTp.value) == "01"){ 				//개인
		if(btn_nm == "btn_accConfirm")
			bizNo = nvl(this.div_payInfo.div_acc.ed_B_ebirDay.value);		//생년월일	
		else
			bizNo = nvl(this.div_custInfo.ed_birthDay.value);		//생년월일(출금이체동의)
	}else{
		bizNo = nvl(this.div_payInfo.div_acc.ed_B_buslNo.value);		//사업자번호
	}
	
	var custNo	 	= nvl(this.ds_rtsd0100.getColumn(this.ds_rtsd0100.rowposition,"custNo"));	//고객번호
	var custNm	 	= nvl(this.ds_rtsd0100.getColumn(this.ds_rtsd0100.rowposition,"custNm"));	//고객명
	var ownerNm	 	= nvl(this.div_payInfo.div_acc.ed_B_custNm.value);							//예금주명
	var bankPayDay	= nvl(this.div_payInfo.div_acc.cb_B_bankPayDay.value);						//결제일
	
	var acctCdLen 	= acctCd.length;
	var acctSubstr	= acctCd.substr(0,3);
	
	var bankNm	 = nvl(this.div_payInfo.div_acc.cb_B_bankCd.text);
	var mobNo	 = nvl(this.div_custInfo.div_custInfoDetail.ed_mobNo.value);
	
	
	if( userType == "" ){
		alert("개인/사업자 값이 없습니다.");
		return false;
	}else if( bankCd == "" ){
		alert("은행코드 값이 없습니다.");
		return false;
	}else if( acctCd == "" ){
		alert("계좌번호 값이 없습니다.");
		return false;
	}else if( bizNo == "" ){
		alert("생년월일 또는 사업자번호 값이 없습니다.");
		return false;
	}else if( custNo == "" ){
		alert("고객번호 값이 없습니다.");
		return false;
	}else if( custNm == "" ){
		alert("고객명 값이 없습니다.");
		return false;
	}else if( ownerNm == "" ){
		alert("예금주명 값이 없습니다.");
		return false;
	}else if( bankPayDay == "" || bankPayDay == -1 ){
		alert("결제일 값이 없습니다.");
		return false;
	}else if( (bankCd == '003') && ((acctCdLen == 10) || (acctCdLen == 11)) ){
		alert("평생계좌는 자동이체 신청이 불가능합니다.\n기업은행 : 계좌번호가 10자리, 11자리\n신한은행 : 계좌번호가 10자리~14자리면서 앞번호 010 시작");
		return false;
	}else if( (bankCd == '088') && ((acctCdLen == 10) || (acctCdLen == 11) || (acctCdLen == 12) || (acctCdLen == 13) || (acctCdLen == 14)) && (acctSubstr == "010") ){
		alert("평생계좌는 자동이체 신청이 불가능합니다.\n기업은행 : 계좌번호가 10자리, 11자리\n신한은행 : 계좌번호가 10자리~14자리면서 앞번호 010 시작");
		return false;
	}else if(this.div_custInfo.div_custInfoDetail.ra_certification.value == "02" || this.certificationFlag == false ){
		if(application.gv_host == "http://localhost/" || application.gv_host == "http://1.254.67.135:9080/"){
			if(btn_nm == "btn_accConfirm"){
				var sSvcID        	= "kftcCmsDocInfo";                    
				var sController   	= "rtms/sms/kftcCmsDocInfo.do";		
			}else{
				// 계좌인증 불가시간대 ARS테스트 시 주석처리(시작)
				if(this.ch_resultPayInfo.value != true){
					alert("계좌인증 후 진행해주시기 바랍니다.");
					return;				
				}
				// 계좌인증 불가시간대 ARS테스트 시 주석처리(끝)
				application.set_httptimeout(300); // 2016-06-08 이영근, 타임아웃 시간 5분으로 연장
				var sSvcID        	= "arsCallService";                    
				var sController   	= "rtms/sms/arsCallService.do";			
			}
			var sInDatasets   	= "";
			var sOutDatasets 	= "dsBatch=cmdKey";
			var sArgs 			= "";	
			var fn_callBack		= "fn_callBack";
			
			sArgs += " userType=" + userType + " bankCd=" + bankCd + " acctCd=" + acctCd + " bizNo=" + bizNo;
			sArgs += " custNo=" + custNo + " custNm=" + custNm + " ownerNm=" + ownerNm + " bankNm=" + bankNm + " mobNo=" + mobNo;
			trace(sArgs);

			Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 
		}else{
			// 2016-06-13 이영근, 신분증으로 본인인증한 경우 CMS 등록하지 못하도록 처리
			alert("결제방법이 'CMS'인 경우, 휴대폰으로 본인인증한 회원만 신청이 가능합니다.");
			this.div_custInfo.div_custInfoDetail.ra_certification.set_enable(true);
			this.div_custInfo.div_custInfoDetail.btn_certification.set_enable(true);
			this.div_custInfo.div_custInfoDetail.ra_certification.set_value("01");
			this.div_custInfo.div_custInfoDetail.btn_certification.setFocus();		
			
			return false;	
		}
	}else{
		if(btn_nm == "btn_accConfirm"){
			var sSvcID        	= "kftcCmsDocInfo";                    
			var sController   	= "rtms/sms/kftcCmsDocInfo.do";		
		}else{
			// 계좌인증 불가시간대 ARS테스트 시 주석처리(시작)
			if(this.ch_resultPayInfo.value != true){
				alert("계좌인증 후 진행해주시기 바랍니다.");
				return;				
			}
			// 계좌인증 불가시간대 ARS테스트 시 주석처리(끝)
			application.set_httptimeout(300); // 2016-06-08 이영근, 타임아웃 시간 5분으로 연장
			var sSvcID        	= "arsCallService";                    
			var sController   	= "rtms/sms/arsCallService.do";			
		}
		var sInDatasets   	= "";
		var sOutDatasets 	= "dsBatch=cmdKey";
		var sArgs 			= "";	
		var fn_callBack		= "fn_callBack";
		
		sArgs += " userType=" + userType + " bankCd=" + bankCd + " acctCd=" + acctCd + " bizNo=" + bizNo;
		sArgs += " custNo=" + custNo + " custNm=" + custNm + " ownerNm=" + ownerNm + " bankNm=" + bankNm + " mobNo=" + mobNo;
		trace(sArgs);

		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack); 
	}
}

/* 카드인증 |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_payInfo_div_card_btn_cardConfirm_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	
	var payCustTp = nvl(this.div_payInfo.cb_payCustTp.value);				//구분
	var custNm  	= nvl(this.div_payInfo.div_card.ed_C_custNm.value);		//카드주명
	var ebirDay 	= nvl(this.div_payInfo.div_card.ed_C_ebirDay.value);	//법정생년월일
	var buslNo  	= nvl(this.div_payInfo.div_card.ed_C_buslNo.value);		//사업자번호
	var bankCd 		= nvl(this.div_payInfo.div_card.cb_C_bankCd.value);		//카드사
	var cardNo 		= nvl(this.div_payInfo.div_card.ed_C_cardNo.value);		//카드번호
	var expireM 	= nvl(this.div_payInfo.div_card.ed_C_expireM.value);	//유효년월-월
	var expireY  	= nvl(this.div_payInfo.div_card.ed_C_expireY.value);	//유효년월-년
	var bankPayDay  = nvl(this.div_payInfo.div_card.cb_C_bankPayDay.value);	//결제일
	var msg			= " 값이 없습니다.";
	
	if( payCustTp == "" ){
		alert("구분" + msg);
		this.div_payInfo.cb_payCustTp.setFocus(true);
		return false;
	}
	if( custNm == "" ){
		alert("카드주명" + msg);
		this.div_payInfo.ed_C_custNm.setFocus(true);
		return false;
	}
	
	if( payCustTp == "01" ){
		if( ebirDay == "" ){
			alert("법정생년월일" + msg);
			this.div_payInfo.ed_C_ebirDay.setFocus(true);
			return false;
		}
	}
	
	if( payCustTp == "02" ){
		if( buslNo == "" ){
			alert("사업자번호" + msg);
			this.div_payInfo.ed_C_buslNo.setFocus(true);
			return false;
		}
	}
	
	if( bankCd == "" ){
		alert("카드사" + msg);
		this.div_payInfo.cb_C_bankCd.setFocus(true);
		return false;
	}
	
	if( expireM == "" ){
		alert("유효년월" + msg);
		this.div_payInfo.ed_C_expireM.setFocus(true);
		return false;
	}
	
	if( expireM < 1 || expireM > 12 ){
		alert("유효년월 값을 확인하세요.");
		this.div_payInfo.ed_C_expireM.setFocus(true);
		return false;
	}
	
	if( expireY == "" ){
		alert("유효년월" + msg);
		this.div_payInfo.ed_C_expireY.setFocus(true);
		return false;
	}
	
	var expire = expireY+expireM;
	if( this.toDay > expire ){
		alert("유효년월" + msg);
		this.div_payInfo.ed_C_expireY.setFocus(true);
		return false;
	}
	if( bankPayDay == "" || bankPayDay == -1 ){
		alert("결제일" + msg);
		this.div_payInfo.cb_C_bankPayDay.setFocus(true);
		return false;
	}
	
	var sSvcID 			= "batchService";
	var sInDatasets 	= "";
	var sOutDatasets 	= "dsBatch=batch_output";
	var sController 	= "/rtms/cms/kcphubBatch.do";
	var fn_callBack 	= "fn_callBack";
	var args 			= "";
	args += " site_cust_id=" + nvl(this.ds_rtsd0100.getColumn(0,"custNo"));			//고객아이디
	args += " group_id=" 	 + application.gv_group_id ;							//그룹번호
	args += " cust_name=" 	 + nvl(this.div_payInfo.div_card.ed_C_custNm.value);	//카드소유자명
	args += " pay_owner_nm=" + nvl(this.div_custInfo.ed_custNm.value);				//카드주명
	args += " pay_type=" 	 + application.gv_pay_type;								//결제수단	
	args += " pay_id=" 		 + nvl(this.div_payInfo.div_card.ed_C_cardNo.value);	//카드번호
	args += " pay_expiry_yy="+ nvl(this.div_payInfo.div_card.ed_C_expireY.value);	//유효년월-년
	args += " pay_expiry_mm="+ nvl(this.div_payInfo.div_card.ed_C_expireM.value);	//유효년월-월
	args += " pay_cert_no="  + nvl(this.div_payInfo.div_card.ed_C_ebirDay.value);	//법정생년월일
	args += " cmbGubun=" 	 + nvl(this.div_payInfo.cb_payCustTp.value);			//구분
	args += " busl_no=" 	 + nvl(this.div_payInfo.div_card.ed_C_buslNo.value);	//사업자번호
	args += " cardcomCd=" 	 + nvl(this.div_payInfo.div_card.cb_C_bankCd.value);	//카드사
	Ex.core.tran(this, sSvcID, sController, sInDatasets, sOutDatasets, args, fn_callBack);
}
/*카드인증후 처리함수|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.saveBatchResult = function() {
	var sSvcID        	= "batchResultService";                    
	var sController   	= "ntrms/cm/kcphubBatchResult.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";	
	sInDatasets   		= "input=dsBatch";
	sOutDatasets  		= "";
	var fn_callBack		= "fn_callBack";
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);	
}


/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.FN_payInfo_enable = function(){
	this.div_payInfo.cb_payMthd.set_enable(false);
	this.div_payInfo.cb_payCustTp.set_enable(false);
	
	this.div_payInfo.div_card.ed_C_custNm.set_enable(false);
	this.div_payInfo.div_card.ed_C_ebirDay.set_enable(false);
	this.div_payInfo.div_card.ed_C_buslNo.set_enable(false);
	this.div_payInfo.div_card.cb_C_bankCd.set_enable(false);
	this.div_payInfo.div_card.ed_C_cardNo.set_enable(false);
	this.div_payInfo.div_card.ed_C_expireY.set_enable(false);
	this.div_payInfo.div_card.ed_C_expireM.set_enable(false);

	this.div_payInfo.div_acc.ed_B_custNm.set_enable(false);
	this.div_payInfo.div_acc.ed_B_ebirDay.set_enable(false); 
	this.div_payInfo.div_acc.ed_B_buslNo.set_enable(false);
	this.div_payInfo.div_acc.cb_B_bankCd.set_enable(false);
	this.div_payInfo.div_acc.ed_B_acctNo.set_enable(false);
	
	this.div_payInfo.btn_payChoice.set_visible(false);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//결제정보 END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/










/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//차량정보 START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//SELECT BOX FUNCTION : 차종-브랜드
this.div_carInfo_cb_makerCd_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo){
	this.div_carInfo.cb_model.set_index(-1);
	this.FN_priceDeleteAll();
	var sSvcID      	= "listModelCombo";  
	var sController   	= "rtms/comm/listModelCombo.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_model=mapModelCombo";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	sArgs += Ex.util.setParam("makerCd", nvl(this.div_carInfo.cb_makerCd.value));
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//SELECT BOX FUNCTION : 차종-모델
this.div_carInfo_cb_model_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo){
	nRow = this.ds_model.findRowExpr("rn == '"+this.div_carInfo.cb_model.value+"'&& mcNm == '"+this.div_carInfo.cb_model.text +"'",-1);
	this.div_carInfo.ed_frCd.set_value(this.ds_model.getColumn(nRow,"frCd"));  //-- 20190110 추가
	this.ds_model.set_rowposition(nRow);
	this.FN_priceDeleteAll();
	if(this.ds_prdInfo.getRowCount() < 1){ 					//-----2+2미허용
		this.btn_prdAdd.set_enable(true);
		this.btn_prdDel.set_enable(true);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : DATASET CLEAR
this.FN_priceDeleteAll = function(){
	this.ds_rtsd0013.clearData();
	this.ds_rtsd0014.clearData();
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//EDIT FUNCTION : 차량번호 변경
this.div_carInfo_ed_carNo_onchanged = function(obj:Edit, e:nexacro.ChangeEventInfo){
	if(this.carNoCheck()){

	}
	this.FN_priceDeleteAll();
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//DATASET FUNCTION : ROWPOSITION이 변경되었을때
this.ds_model_onrowposchanged = function(obj:Dataset, e:nexacro.DSColChangeEventInfo){
	this.div_carInfo.ed_model.set_value( this.ds_model.getColumn(this.ds_model.rowposition,"modelCd") );
	this.div_carInfo.ed_contentsCd.set_value( this.ds_model.getColumn(this.ds_model.rowposition,"contentsCd") ); // 2018.12.20 추가수정
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//EDIT FUNCTION : 차량소유자 -> ENTER KEY -> 차량번호로 FOUCS이동
this.div_carInfo_ed_carOwner_onkeyup = function(obj:Edit, e:nexacro.KeyEventInfo){
	if ( e.keycode == 13 ){
		this.div_carInfo.ed_carNo.setFocus(true);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//EDIT FUNCTION : 차량번호 -> ENTER KEY -> 현재주행거리로 FOUCS이동
this.div_carInfo_ed_carNo_onkeyup = function(obj:Edit, e:nexacro.KeyEventInfo){
	if ( e.keycode == 13 ){
		this.div_carInfo.ed_cMileage.setFocus(true);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//EDIT FUNCTION : 현재주행거리 체크
this.div_carInfo_ed_cMileage_onchanged = function(obj:MaskEdit, e:nexacro.ChangeEventInfo){
	if( obj.value.length > 7){
		alert("최대자리수는 7자리입니다.");
		this.div_carInfo.ed_cMileage.set_value();
		this.div_carInfo.ed_cMileage.setFocus(true);
	}
	if( obj.value < 0){
		alert("현재주행거리는 0보다 큰 수만 입력가능합니다.");
		this.div_carInfo.ed_cMileage.set_value();
		this.div_carInfo.ed_cMileage.setFocus(true);
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//차량정보 END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/










/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//상품-가격정보 START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/

//USER FUNCTION : 차량번호체크
this.carNoCheck = function(){
	//var pattern1      = /\d{2}[가-힣ㄱ-ㅎㅏ-ㅣ\x20]\d{4}/g; 					 			// 12저3456
	//var pattern2 	   	= /[가-힣ㄱ-ㅎㅏ-ㅣ\x20]{2}\d{1}|d{2}[가-힣ㄱ-ㅎㅏ-ㅣ\x20]\d{4}/g; 	// 서울12치1234
	var pattern1       	= /\d{2}[가-힣ㄱ-ㅎㅏ-ㅣ\x20]\d{4}/g; 				 				// 12저3456
	var pattern2 	   	= /[가-힣ㄱ-ㅎㅏ-ㅣ\x20]{2}\d{2}[가-힣ㄱ-ㅎㅏ-ㅣ\x20]\d{4}/g; 		// 서울12치1234
	var pattern3 	   	= /[가-힣ㄱ-ㅎㅏ-ㅣ\x20]{2}\d{1}[가-힣ㄱ-ㅎㅏ-ㅣ\x20]\d{4}/g; 		// 서울1치1234 // 2016-06-02 이영근, 패턴 추가
	var carNoVal 		= nvl(this.div_carInfo.ed_carNo.value);
	var carNoValLen 	= carNoVal.length;
	
	if( carNoValLen == 7 ){
		if( !pattern1.test(carNoVal) ){
			alert(nvl(this.div_carInfo.st_carNo.text) + " 를 확인하세요.");
			this.div_carInfo.ed_carNo.setFocus(true);
			this.div_carInfo.ed_carNo.setSelect();
			return false;
		}else{
			return true;
		}
	}else if( carNoValLen == 9){
		if( !pattern2.test(carNoVal) ){
			alert(nvl(this.div_carInfo.st_carNo.text) + " 를 확인하세요.");
			this.div_carInfo.ed_carNo.setFocus(true);
			this.div_carInfo.ed_carNo.setSelect();
			return false;
		}else{
			return true;
		}
	}else if( carNoValLen == 8){
		if( !pattern3.test(carNoVal) ){
			alert(nvl(this.div_carInfo.st_carNo.text) + " 를 확인하세요.");
			this.div_carInfo.ed_carNo.setFocus(true);
			this.div_carInfo.ed_carNo.setSelect();
			return false;
		}else{
			return true;
		}		
	}else{
		alert(nvl(this.div_carInfo.st_carNo.text) + " 를 확인하세요.");
		this.div_carInfo.ed_carNo.setFocus(true);
		this.div_carInfo.ed_carNo.setSelect();
		return false;
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
//USER FUNCTION : 계약유형조회
this.selectRtsd0108SaleCdCount = function(){
	var carNo = nvl(this.div_carInfo.ed_carNo.value);
	if( carNo != "" ){
		var sSvcID        	= "selectRtsd0108SaleCdCount";                    
		var sController   	= "rtms/sd/selectRtsd0108SaleCdCount.do";
		var sInDatasets   	= "";
		var sOutDatasets  	= "";
		var sArgs 			= "";
		var fn_callBack		= "fn_callBack";
		sArgs += Ex.util.setParam("carNo",carNo);
		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
	}else{
		alert("차량번호가 없습니다.");
		this.div_carInfo.ed_carNo.setFocus(true);
	}
}

// 재개약 할인율 조회
this.fn_regiAmtRt = function(){
	var sSvcID        	= "regiAmtRt";                    
	var sController   	= "/rtms/sd/regiAmtRt.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";
	var fn_callBack		= "fn_callBack";
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//상품-가격정보 END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/










/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//장착점정보 START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_installInfo_btn_searchAgency_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	/*
	 * 대리점조회 팝업
	 * - 온라인장착 가능여부 파라미터 추가
	 */
	var args ={p_arg : this.p_arg, p_opYn : "Y"};	
	Ex.core.popup(this,"대리점조회","comm::RTCOMMAgencyOrd_pop.xfdl",args, "modaless=false");
}
this.FN_returnAgency = function(arr){
	this.div_installInfo.ed_agencyCd.set_value(arr[0]);
	this.div_installInfo.ed_agencyNm.set_value(arr[1]);
	this.div_installInfo.ed_salesGroup.set_value(arr[2]);
	this.div_installInfo.ed_salesOffice.set_value(arr[3]);
	this.div_installInfo.ed_posCd.set_value(arr[4]);
	this.div_installInfo.ed_city.set_value(arr[5]);
	this.div_installInfo.ed_street.set_value(arr[6]);
	this.div_installInfo.ed_telNo.set_value(arr[7]);
	
	// 20181220 방문장착관련 시작
	this.div_installInfo.ed_visitYn.set_value(arr[8]);
	
	if (this.ds_rtsd0401.getRowCount() > 0) {
		this.ds_rtsd0401.deleteAll();
	}
	
	// 장착점이 방문장착점인 경우
	if ("Y" == arr[8]) {
		this.alert("방문장착점을 선택하셨습니다.\n방문 스케쥴 확인 후 장착일자 등록바랍니다.");
		
		var rowIdx = this.ds_rtsd0401.addRow();
		
		this.ds_rtsd0401.setColumn(rowIdx, "agencyCd" , arr[0]);
		this.ds_rtsd0401.setColumn(rowIdx, "procTm"   , "0000");
		this.ds_rtsd0401.setColumn(rowIdx, "mobNo"    , this.ds_rtsd0100.getColumn(0, "mobNo"));
		this.ds_rtsd0401.setColumn(rowIdx, "bldMngNo" , this.ds_rtsd0100.getColumn(0, "bldMngNo"));
		this.ds_rtsd0401.setColumn(rowIdx, "posCd"    , this.ds_rtsd0100.getColumn(0, "posCd"));
		this.ds_rtsd0401.setColumn(rowIdx, "addr1"    , this.ds_rtsd0100.getColumn(0, "addr1"));
		this.ds_rtsd0401.setColumn(rowIdx, "addr2"    , this.ds_rtsd0100.getColumn(0, "addr2"));
		this.ds_rtsd0401.setColumn(rowIdx, "statCd"   , "01");
		this.ds_rtsd0401.setColumn(rowIdx, "statDtlCd", "0101");
		
		this.div_installInfo.btn_visitSchd.set_visible(true);
		this.div_installInfo.st_visitTel.set_visible(true);
		this.div_installInfo.StaticVisit.set_visible(true);
		this.div_installInfo.ed_visitTel.set_visible(true);
	}
	// 20181220 방문장착관련 끝

	this.div_installInfo.cal_procDay.setFocus(true);
}

// 20181220 방문장착관련 시작
/**
 * 방문일정 버튼의 클릭 이벤트 처리
 * - 방문일정조회 팝업
 */
this.div_installInfo_btn_visitSchd_onclick = function(obj:Button,  e:nexacro.ClickEventInfo) {
	var args = {
		  p_arg          : this.p_arg
		, p_agencyCd     : this.div_installInfo.ed_agencyCd.value
		, p_agencyNm     : this.div_installInfo.ed_agencyNm.value
		, p_visitFromDay : this.addDay
	};
		
	Ex.core.popup(this,"방문일정 조회","sd::RTSDVisitSchedule_pop.xfdl",args, "modaless=false");
}
// 20181220 방문장착관련 끝
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_installInfo_cal_procDay_onchanged = function(obj:Calendar, e:nexacro.ChangeEventInfo){
	var regId = this.ds_rtsd0100.getColumn(0,"regId");
	var custTp = this.ds_rtsd0100.getColumn(0,"custTp");
	// [20161206_02]
	if( (this.userGrp == "02") || (this.userGrp == "09") || (this.userGrp == "13") || (this.userGrp == "01" && this.onlineLoginId && custTp == "02" ) ){
		if( this.div_installInfo.cal_procDay.value < this.addDay ){
			alert("장착일자는 계약일자로부터 3~15일후 등록하실 수 있습니다.");
			this.div_installInfo.cal_procDay.set_value( this.addDay );
			return false;
		}
	}else{
		if( this.div_installInfo.cal_procDay.value < this.toDay ){
			alert("오늘 이전 날짜는 등록하실 수 없습니다.");
			this.div_installInfo.cal_procDay.set_value( this.toDay );
			return false;
		}
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//장착점정보 END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/



/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//판매인정보 START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_salesmanInfo_ed_salesmanTel_onkeyup = function(obj:Edit, e:nexacro.KeyEventInfo){
	FN_numberHyphenIn(obj, e);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.div_salesmanInfo_cb_orgAgent_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo){
	var salesman = nvl(this.div_salesmanInfo.cb_orgAgent.value);
	this.setSalesmanTel();	
	this.ds_rtsd0113.clearData();
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.setSalesmanTel = function(){
	var cd 	 = nvl(this.div_salesmanInfo.cb_orgAgent.value);
	var cdNm = nvl(this.div_salesmanInfo.cb_orgAgent.text);
	if( cd != "" && cdNm != "" ){	
		var nRow = this.ds_rtsd0113.findRowExpr("cd == '"+cd+"'&&cdNm == '"+cdNm+"'",-1);
		var tel = nvl(this.ds_rtsd0113.getColumn(nRow, "tel"));
		if( tel != "" ){
			this.div_salesmanInfo.ed_salesmanTel.set_value( FN_numberHyphenInReturn(tel) );
		}
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//판매인정보 END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/




/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//공통 BUTTON START
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.fn_add = function(obj:Button,  e:nexacro.ClickEventInfo){
	if( confirm( "추가 클릭시 기존 입력내용은 사라집니다." ) ){
		this.reload();
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.fn_save = function(obj:Button,  e:nexacro.ClickEventInfo){
	var nRow0100 = this.ds_rtsd0100.rowposition;	
	var nRow0104				= this.ds_rtsd0104.rowposition;
	var contactRowType 			= this.ds_rtsd0104.getRowType(nRow0104);
	var modelRow 				= this.ds_model.rowposition;	
	var payDd 					= "";
	var payMthd 				= nvl(this.ds_rtsd0104.getColumn(nRow0104, "payMthd"));
	var accBankPayDay 			= nvl(this.div_payInfo.div_acc.cb_B_bankPayDay.value);
	var cardBankPayDay 			= nvl(this.div_payInfo.div_card.cb_C_bankPayDay.value);
	
	var accountRow 				= this.ds_rtre0010.rowposition;
	var accountType 			= this.ds_rtre0010.getRowType(accountRow);
	var cardRow 				= this.ds_rtre0020.rowposition;
	var cardType 				= this.ds_rtre0020.getRowType(cardRow);
	var payCustTp 				= nvl(this.div_payInfo.cb_payCustTp.value);
	
	var msg						= " 값이 없습니다.";
	
	var chanCd = nvl(this.ds_rtsd0104.getColumn(nRow0104, "chanCd"));
	var statCd = nvl(this.ds_rtsd0104.getColumn(nRow0104, "statCd")); // (S032 코드값)
	var regId  = nvl(this.ds_rtsd0104.getColumn(nRow0104, "regId"));
	
	var resultPayInfo = this.ch_resultPayInfo.value;
	
	if( chanCd == "02" || ( chanCd == "03" && this.onlineLoginId == regId ) ){
		alert("온라인, 방판 정보는 수정 처리가 불가 합니다!");
		return false;
	}
	
	if( statCd=="03" || statCd=="04" || statCd=="06" ){
		alert("장착대기, 장착완료, 계약취소 정보는 수정  처리가 불가 합니다!");
		return false;
	}
	
	if( this.div_payInfo.ed_buslNoCheck.value == false){
		alert("사업자번호를 확인하세요.");
		return false;
	}
	
	if( this.div_payInfo.ed_ebirDayCheck.value == false){
		alert("법정생년월일을  확인하세요.");
		return false;
	}
	
	if( nvl(this.div_custInfo.div_custInfoDetail.ed_posCd.value) == "" || nvl(this.div_custInfo.div_custInfoDetail.ed_addr1.value) == ""){
		alert("주소를 확인하세요.");
		return false;
	}
	
	var makerCd = nvl(this.ds_rtsd0104.getColumn(nRow0104, "makerCd"));
	if( makerCd == "" ){
		alert( "차종 값이" + msg);
		return this.div_carInfo.cb_makerCd.setFocus(true);
		return false;
	}
	
	var modelCd = nvl(this.ds_rtsd0104.getColumn(nRow0104, "modelCd"));
	if( modelCd == "" ){
		alert( "차종 값이" + msg);
		return this.div_carInfo.cb_model.setFocus(true);
		return false;
	}
	
	var contentsCd = nvl(this.ds_model.getColumn( modelRow, "contentsCd"));
	if( contentsCd == "" ){
		alert("차종 사양" + msg);
		return false;
	}
	
	var frCd = nvl(this.ds_model.getColumn( modelRow, "frCd"));
	if( frCd == "" ){
		alert("차종 전후" + msg);
		return false;
	}
	
	var carNo = nvl(this.ds_rtsd0104.getColumn(nRow0104, "carNo"));
	if( carNo == "" ){
		alert("차량No" + msg);
		return false;
	}
	
	if( payMthd == "" ){ 
		alert( "결제방법" + msg);
		this.div_payInfo.cb_payMthd.setFocus(true);
		return false;
	}else{

		//C	카드이체	//A	CMS
		if( this.accCardCheck == false ){
			if( payMthd == "A"){
				alert("계좌인증을 하지 않았습니다.");
				return false;
			}
			if( payMthd == "C"){
				alert("카드인증을 하지 않았습니다.");
				return false;
			}
		}

		if( payMthd == "A" ){
		
			if( resultPayInfo == false ){
				alert("계좌인증 실패 : 계좌인증을 다시 시도해주세요.");
				return false;
			}
			
			if( accBankPayDay == "" || accBankPayDay == "-1" ){
				alert( "결제일" + msg);
				this.div_payInfo.div_acc.cb_B_bankPayDay.setFocus(true);
				return false;
			}else{
				payDd = accBankPayDay;
				this.ds_rtsd0104.setColumn( nRow0104, "accStat", "0");														//계좌신청상태
			}
			this.ds_rtsd0104.setColumn( nRow0104, "accChk", this.ch_resultPayInfo.value == true ? "Y" : "N");				//계좌확인상태
			this.ds_rtsd0104.setColumn( nRow0104, "bkeyChk", "N");															//배치키생성여부(카드)
			// 2016-06-8 이영근, ARS 출금동의 확인
			if(this.ch_resultArsCall.value == "0")
			{
				this.alert("출금이체동의 버튼을 클릭해주세요.");
				this.div_payInfo.div_acc.btn_arsCall.setFocus();
				return false;
			}
		}else if( payMthd == "C" ){
		
			if( resultPayInfo == false ){
				alert("카드인증 실패 : 카드인증을 다시 시도해주세요.");
				return false;
			}
			
			var batchKey = nvl(this.ds_rtre0020.getColumn(0, "batchKey"));
			if( batchKey == "" ){
				alert("BATCHKEY"+ msg);
				return false;
			}
			
			if( cardBankPayDay == "" || cardBankPayDay == "-1" ){
				alert( "결제일" + msg);
				this.div_payInfo.div_card.cb_C_bankPayDay.setFocus(true);
				return false;
			}else{
				payDd = cardBankPayDay;
				this.ds_rtsd0104.setColumn( nRow0104, "batchKey", batchKey );												//BATCHKEY
				this.ds_rtsd0104.setColumn( nRow0104, "accStat", "5");														//계좌신청상태
			}
			this.ds_rtsd0104.setColumn( nRow0104, "accChk", "N");															//계좌확인상태
			this.ds_rtsd0104.setColumn( nRow0104, "bkeyChk",this.ch_resultPayInfo.value == true ? "Y" : "N");				//배치키생성여부(카드)
		}else{
			alert("결제방법 코드 : ERROR");
			return this.div_payInfo.cb_payMthd.setFocus(true);
		}
	}
	
	//var engNm = nvl(this.ds_rtsd0104.getColumn(nRow0104, "engNm"));
	//if( engNm == "" ){
	//	alert("장착기사" + msg);
	//	this.div_installInfo.ed_engNm.setFocus(true);
	//	return false;
	//}
	
	var agencyCd = nvl(this.ds_rtsd0104.getColumn(nRow0104, "agencyCd"));
	if( agencyCd == "" ){
		alert("장착점명" + msg);
		this.div_installInfo.btn_searchAgency.setFocus(true);
		return false;
	}
	
	var cntPrdInfo = this.ds_prdInfo.getRowCount();
	if( cntPrdInfo <= 0){
		alert("제품정보 : 정보가 없습니다.");
		this.btn_prdAdd.setFocus(true);
		return false;
	}else{
	}
														
	var ordAgent = nvl(this.ds_rtsd0104.getColumn(nRow0104, "ordAgent"));													//판매인번호
	var regId   = nvl( this.ds_rtsd0100.getColumn(0,"regId")  );
	var custTp  = nvl( this.ds_rtsd0100.getColumn(0,"custTp") );
	// [20161206_02]
	if( (this.userGrp == "02") || (this.userGrp == "09") || (this.userGrp == "13") || (this.userGrp == "01" && regId != this.onlineLoginId && custTp == "02") ){
		if( ordAgent == "" ){
			alert("판매원명 값이 없습니다.");
			this.div_salesmanInfo.cb_orgAgent.setFocus(true);
			return false;
		}
	}

//this.alert("contentsCd : " + contentsCd);
	this.ds_rtsd0104.setColumn( nRow0104, "contentsCd", 	contentsCd);										//사양
	this.ds_rtsd0104.setColumn( nRow0104, "frCd", 			frCd);  											//전후 구분
	this.ds_rtsd0104.setColumn( nRow0104, "pcertYn",		this.div_etcInfo.ch_pcertYn.value ? "Y" : "N");		//신분증 첨부 필수여부
	this.ds_rtsd0104.setColumn( nRow0104, "periodCd",		nvl(this.p_periodCd.value) );						//기간코드	
	this.ds_rtsd0104.setColumn( nRow0104, "prdtGrp", 		nvl(this.p_prdtGrp.value) );						//상품군
	this.ds_rtsd0104.setColumn( nRow0104, "saleCd",			nvl(this.p_saleCd.value) );							//판매코드
	this.ds_rtsd0104.setColumn( nRow0104, "payGb", "1" ); 														//납부구분	
	this.ds_rtsd0104.setColumn( nRow0104, "empNo",			"" ); 												//사원번호
	this.ds_rtsd0104.setColumn( nRow0104, "regiAmt", nvl(this.delComma(this.p_regiAmt.value)));     			//렌탈등록비
	this.ds_rtsd0104.setColumn( nRow0104, "sumMonAmt", nvl(this.delComma(this.p_momDcRentAmt.value)));			//합계 월 렌탈료(할인액이 적용된 랜탈금액)
	this.ds_rtsd0104.setColumn( nRow0104, "monAmt", nvl(this.p_rentAmt.value) );								//월렌탈료
	
	//합계납부정보 set
	var cntSumCd = 0;
	for(var i=0; i < this.ds_prdInfo.rowcount; i++) {
		if(nvl(this.ds_prdInfo.getColumn(i, "cntCd"),0) == 0) {
			cntSumCd = parseInt(cntSumCd) + 0;
		} else {
			cntSumCd = parseInt(cntSumCd) + parseInt(this.ds_prdInfo.getColumn(i, "cntCd"));
		}		
	}
		
	if(cntSumCd > 9) {
		cntSumCd = cntSumCd;
	} else {
		cntSumCd = "0"+cntSumCd;
	}

	this.ds_rtsd0104.setColumn( nRow0104, "cntCd",			nvl(cntSumCd) );				//타이어본수	
	this.ds_rtsd0104.setColumn( nRow0104, "regiCd",			"ZZZZ");			//등록비코드 - 이제사용안함 렌탈등록비가 대처
	this.ds_rtsd0104.setColumn( nRow0104, "custNo",			nvl(this.ds_rtsd0100.getColumn(nRow0100,"custNo")) );			//고객번호
	this.ds_rtsd0104.setColumn( nRow0104, "custTp",			nvl(this.ds_rtsd0100.getColumn(nRow0100, "custTp")) );			//고객유형
	this.ds_rtsd0104.setColumn( nRow0104, "safekey",		nvl(this.ds_rtsd0100.getColumn(nRow0100, "safekey")) );			//인증번호
	
	this.ds_rtsd0104.setColumn( nRow0104, "campYn",			"N" );			//캠페인적용여부
	this.ds_rtsd0104.setColumn( nRow0104, "cDcamt",			"0" );			//캠페인할인금액
	this.ds_rtsd0104.setColumn( nRow0104, "cDcrate",		"" );			//캠페인할인율
	this.ds_rtsd0104.setColumn( nRow0104, "gDcrate",		"" );			//결합할인율
	this.ds_rtsd0104.setColumn( nRow0104, "gDcamt",			"0" );			//결합할인액
	this.ds_rtsd0104.setColumn( nRow0104, "lDcrate",		"10" );			//제한할인율
	this.ds_rtsd0104.setColumn( nRow0104, "lDcamt",			"0" );			//제한할인액
	this.ds_rtsd0104.setColumn( nRow0104, "fDcrate",		"" );			//최종할인율
	this.ds_rtsd0104.setColumn( nRow0104, "fDcamt",			"0" );			//최종할인액
	
	this.ds_rtsd0104.setColumn( nRow0104, "payDd", 			payDd);															//이체일
	this.ds_rtsd0104.setColumn( nRow0104, "grpYn", "Y" );																//단체여부
	this.ds_rtsd0104.setColumn( nRow0104, "grpNo", nvl(this.p_argGrpNo.value) );										//단체구분
	this.ds_rtsd0104.setColumn( nRow0104, "psCd", "999999" );															//프리미엄서비스코드
	this.ds_rtsd0104.setColumn( nRow0104, "seasonCd", nvl(this.ds_prdInfo.getColumn(0, "seasonCd")));					//계절구분
	
	if(this.payStatCd  == '00' || statCd == ''){
		this.ds_rtsd0104.setColumn( nRow0104, "statCd", this.payStatCd);												//"01" : 계약대기 
	}else if(statCd == '01'){
		this.ds_rtsd0104.setColumn( nRow0104, "statCd", "01");															//"01" : 계약접수
	}
	
	if( contactRowType =="2" ){ // 신규일경우
		this.ds_rtsd0104.setColumn( nRow0104, "ordId", "01");																//계약구분 : 렌탈

		this.ds_rtsd0104.setColumn( nRow0104, "billYn", "N");																//세금계산서발행여부
		this.ds_rtsd0104.setColumn( nRow0104, "agDay", nvl(this.ds_rtsd0111.getColumn(0, "agDay")));						//개인정보제공동의일
		this.ds_rtsd0104.setColumn( nRow0104, "agSeq", nvl(this.ds_rtsd0111.getColumn(0, "seq")));							//개인정보제공동의순번
		this.ds_rtsd0104.setColumn( nRow0104, "cmsagYn","N");																//CMS출금이제동의
		this.ds_rtsd0104.setColumn( nRow0104, "certStat","Y" );																//본인인증상태
		
	}
	
	if( (accountType == "2" || accountType == "4" ) && payMthd == "A" ){
		this.ds_rtre0010.setColumn( accountRow, "custNo", nvl(this.ds_rtsd0100.getColumn(nRow0100,"custNo")));
		this.ds_rtre0010.setColumn( accountRow, "custTp", payCustTp);
		this.ds_rtre0010.setColumn( accountRow, "useYn", "Y");
		this.ds_rtre0010.setColumn( accountRow, "accChk", this.ch_resultPayInfo.value == true ? "Y" : "N" );
	}
	
	if( (cardType == "2" || cardType == "4") && payMthd == "C" ){
		this.ds_rtre0020.setColumn( cardRow, "custNo", nvl(this.ds_rtsd0100.getColumn(nRow0100,"custNo")));
		this.ds_rtre0020.setColumn( cardRow, "custTp", payCustTp);
		this.ds_rtre0020.setColumn( cardRow, "useYn", "Y");
		this.ds_rtre0020.setColumn( cardRow, "bkeyChk",  this.ch_resultPayInfo.value == true ? "Y" : "N" );	
		this.ds_rtre0020.setColumn( cardRow, "batchKey", this.ds_rtre0020.getColumn(0, "batchKey"));
		var expireY = nvl(this.div_payInfo.div_card.ed_C_expireY.value);
		var expireM = nvl(this.div_payInfo.div_card.ed_C_expireM.value);
		var expireYm = expireY+expireM;
		this.ds_rtre0020.setColumn( cardRow, "expireYm", expireYm);
	}
	
	if( this.ds_rtre0010.getRowCount() != 0 && payMthd == "A" ){
		if( nvl(this.ds_rtre0010.getColumn( accountRow, "custTp")) == "" ){
			alert("결제정보 : 구분" + msg);
			return false;
		}else if( nvl(this.ds_rtre0010.getColumn( accountRow, "custNm")) == "" ){
			alert("결제정보 : 예금주" + msg);
			return false;
		}else if( nvl(this.ds_rtre0010.getColumn( accountRow, "custTp")) == "01" && nvl(this.ds_rtre0010.getColumn( accountRow, "ebirDay")) == "" ){
			alert("결제정보 : 법정생년월일" + msg);
			return false;
		}else if( nvl(this.ds_rtre0010.getColumn( accountRow, "custTp")) == "02" && nvl(this.ds_rtre0010.getColumn( accountRow, "buslNo")) == "" ){
			alert("결제정보 : 사업자번호" + msg);
			return false;
		}else if( nvl(this.ds_rtre0010.getColumn( accountRow, "bankCd")) == "" ){
			alert("결제정보 : 은행" + msg);
			return false;
		}else if( nvl(this.ds_rtre0010.getColumn( accountRow, "acctNo")) == "" ){
			alert("결제정보 : 계좌번호" + msg);
			return false;
		}else{
			
		}
	}else if( this.ds_rtre0020.getRowCount() != 0 && payMthd == "C"){
		if( nvl(this.ds_rtre0020.getColumn( cardRow, "custTp")) == "" ){
			alert("결제정보 : 구분" + msg);
			return false;
		}else if( nvl(this.ds_rtre0020.getColumn( cardRow, "custNm")) == "" ){
			alert("결제정보 : 카드주" + msg);
			return false;
		}else if( nvl(this.ds_rtre0020.getColumn( cardRow, "custTp")) == "01" && nvl(this.ds_rtre0020.getColumn( cardRow, "ebirDay")) == "" ){
			alert("결제정보 : 법정생년월일" + msg);
			return false;
		}else if( nvl(this.ds_rtre0020.getColumn( cardRow, "custTp")) == "02" && nvl(this.ds_rtre0020.getColumn( cardRow, "buslNo")) == "" ){
			alert("결제정보 : 사업자번호" + msg);
			return false;
		}else if( nvl(this.ds_rtre0020.getColumn( cardRow, "cardcomCd")) == "" ){
			alert("결제정보 : 카드사" + msg);
			return false;
		}else if( nvl(this.ds_rtre0020.getColumn( cardRow, "cardNo")) == "" ){
			alert("결제정보 : 카드번호" + msg);
			return false;
		}else if( nvl(this.ds_rtre0020.getColumn( cardRow, "expireYm")) == "" ){
			alert("결제정보 : 유효년월" + msg);
			return false;
		}else{
			
		}
	}else{
		return false;
	}
	
	//[김선태]재렌탈 추가
	if(this.reRental){		
		this.ds_rtsd0104.setColumn( nRow0104, "saleId",	   "04" );
		this.ds_rtsd0104.setColumn( nRow0104, "bordNo", nvl(this.ds_reRental.getColumn(0,"ordNo")));
	}else{
		this.ds_rtsd0104.setColumn( nRow0104, "saleId",	   "01" );
	}
	
	var ordAgent = nvl(this.div_salesmanInfo.cb_orgAgent.value);
	var agencyCd = nvl(this.div_installInfo.ed_agencyCd.value);
	
	// chanCd 채널구분값 호출
	var sSvcID      	= "sRtsd0104ChanCd";  
	var sController   	= "/rtms/sd/sRtsd0104ChanCd.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	sArgs += Ex.util.setParam("inPath"	, "R");
	sArgs += Ex.util.setParam("ordAgent", ordAgent);
	sArgs += Ex.util.setParam("agencyCd", agencyCd);
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.FN_goSave = function(){
	//this.alert("this.p_frCd : " + this.p_frCd);
	// 제품정보 저장	
	var ds_prdInfo_cnt = this.ds_prdInfo.getRowCount();
	this.ds_prdInfo.set_updatecontrol(false);
	for( var i = 0 ; i < ds_prdInfo_cnt ; i++){
		
		//------- 저장시 외부 입력값들 --------
		this.ds_prdInfo.setColumn(i, "saleCd", this.p_saleCd.value);		// 판매코드
		this.ds_prdInfo.setColumn(i, "gdsGb", "1");  	// 제품구분
		this.ds_prdInfo.setColumn(i, "gdsGrp", "1");  	// 제품군
		
		this.ds_prdInfo.setColumn(i, "matNm", ""); // 제품명를 null 처리 한다. 깨짐..
		this.ds_prdInfo.setColumn(i, "saleGdsCd", ""); // 상품코드 null 처리 한다. 깨짐..
		this.ds_prdInfo.setColumn(i, "planDay", nvl(this.div_installInfo.cal_procDay.value)); // 제품정보 table planDay 장착예정일자
		//---------------------------------------
		this.ds_prdInfo.setRowType(i, Dataset.ROWTYPE_INSERT);
		
//console.log(this.ds_prdInfo.saveXML());
		
	}
	this.ds_prdInfo.set_updatecontrol(true);
	
	// 프리미엄 서비스 서비스횟수설정(최초, 잔여)
	var cnt = this.ds_rtsd0013.getRowCount();
	if( cnt != 0 ){
		for( var i = 0; i < this.ds_rtsd0013.getRowCount(); i++){
			this.ds_rtsd0013.setColumn(i, "servCnt0", this.ds_rtsd0013.getColumn(i, "servCnt"));
			this.ds_rtsd0013.setColumn(i, "servCntr", this.ds_rtsd0013.getColumn(i, "servCnt"));
			this.ds_rtsd0013.setColumn(i, "psCd", "999999");
		}
	}

	this.ds_rtsd0013.set_updatecontrol(false);
	for( var i = 0 ; i < cnt ; i++){
		this.ds_rtsd0013.setRowType(i, Dataset.ROWTYPE_INSERT);
	}
	this.ds_rtsd0013.set_updatecontrol(true);
	
	// 부가 서비스 서비스횟수설정(최초, 잔여)	
	var ds_rtsd0041_cnt = this.ds_rtsd0041.getRowCount();
	this.ds_rtsd0041.set_updatecontrol(false);
	for( var j = 0 ; j < ds_rtsd0041_cnt ; j++){
		this.ds_rtsd0041.setRowType(j, Dataset.ROWTYPE_INSERT);
	}
	this.ds_rtsd0041.set_updatecontrol(true);
	
//console.log(this.ds_prdInfo.saveXML());

console.log(this.ds_rtsd0104.saveXML());

	if( confirm( "저장하시겠습니까?") ){
	
		if(!this.chk_prmmAdd_dsCntPrdPymInfo()){
			alert("프리미엄서비스 금액을 확인하세요! ");
			return;
		}
		
		this.fn_addSmsMsg(); // 2016-07-28 이영근, 문자메시지 발송 기능 추가
	
		var sSvcID        	= "saveGroupContractRegister";                    
		var sController   	= "rtms/sd/saveGroupContractRegister.do";
		var sInDatasets   	= "";
		var sOutDatasets  	= "";
		var sArgs 			= "";
		
		sInDatasets			+= " dsRtre0010=ds_rtre0010:A ";
		sInDatasets			+= " dsRtre0020=ds_rtre0020:A ";
		sInDatasets   		+= " dsRtsd0104=ds_rtsd0104:A ";
		//sInDatasets			+= " dsRtsd0106=ds_rtsd0106:A ";
		sInDatasets			+= " dsRtsd0106=ds_prdInfo:A ";
		sInDatasets			+= " dsRtsd0013=ds_rtsd0013:A ";
		sInDatasets			+= " dsRtsd0014=ds_rtsd0014:A ";
		sInDatasets			+= " dsRtsd0205=ds_rtsd0205:A ";  // 문자발송
		sInDatasets			+= " dsRtsd0041=ds_rtsd0041:A ";
		sInDatasets			+= " dsRtsd0401=ds_rtsd0401:A "; // 20181220 방문장착관련 
		
		sArgs += Ex.util.setParam("ordNo", 	nvl(this.ed_orderNo.value));
		sArgs += Ex.util.setParam("periodCd", nvl(this.p_periodCd.value));
		
		var fn_callBack		= "fn_callBack";
		Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
	}
	
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
//공통 BUTTON END
/*★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★★ */
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/

this.div_cust_btn_certificationConfirm_onclick = function(obj:Button,  e:nexacro.ClickEventInfo){
	var popGb = this.div_custInfo.div_custInfoDetail.ra_certification.value;
	var doc = this.div_custInfo.div_custInfoDetail.nice_interface.document;

	if(popGb == '01') {			//휴대폰인증인경우
		doc.getElementById("di_fn_popup").click();
	} else if(popGb == '02') {	//신분증
		doc.getElementById("fn_popup").click();
	}
}
/*|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||*/
this.web_onusernotify = function(obj:WebBrowser, e:nexacro.WebTitleChangeEventInfo){
	var obj 				= this.div_custInfo.div_custInfoDetail.nice_interface.document;
	var sName 				= nvl(obj.getElementById("sName").value);
	var sBirthDate 			= nvl(obj.getElementById("sBirthDate").value);
	var sGender 			= nvl(obj.getElementById("sGender").value);
	var sNationalInfo 		= nvl(obj.getElementById("sNationalInfo").value);
	var sNational 			= "";
	var custNm 				= nvl(this.div_custInfo.ed_custNm.value);
	var birthDay 			= nvl(this.div_custInfo.ed_birthDay.value);
	var genderCd 			= nvl(this.div_custInfo.cb_genderCd.value);
	var lfCd 	 			= nvl(this.div_custInfo.cb_lfCd.value);
	
	if( sGender == "0"){
		sGender = "2";
	}
	
	if( sNationalInfo == "0" ){
		sNational = "1";
	}else if( sNationalInfo == "1" ){
		sNational = "2";
	}else{
		alert("내/외국 인코드값 ERROR");
	}
	
	if( custNm != custNm){
		alert("입력하신 고객정보와 본인인증정보가 다릅니다.\n다시 본인인증하시기 바랍니다.");
	}else if( sBirthDate != birthDay ){
		alert("입력하신 고객정보와 본인인증정보가 다릅니다.\n다시 본인인증하시기 바랍니다.");
	}else if( sGender != genderCd ){
		alert("입력하신 고객정보와 본인인증정보가 다릅니다.\n다시 본인인증하시기 바랍니다.");
	}else if( sNational != lfCd ){
		alert("입력하신 고객정보와 본인인증정보가 다릅니다.\n다시 본인인증하시기 바랍니다.");
	}else{
		this.fn_hpCertifcation();
	}
}

this.fn_hpCertifcation = function(){	
	this.ds_rtsd0110.clearData();

	var nRowRtsd0110 = this.ds_rtsd0110.addRow();
	this.ds_rtsd0110.setColumn(nRowRtsd0110, 	"safekey",	nvl(this.ds_rtsd0100.getColumn(0,"safekey")) );
	this.ds_rtsd0110.setColumn(nRowRtsd0110, 	"certCd",	nvl(this.div_custInfo.div_custInfoDetail.ra_certification.value) );
	this.ds_rtsd0110.setColumn(nRowRtsd0110, 	"certYn",	"Y");
	this.ds_rtsd0110.setColumn(nRowRtsd0110, 	"mobNo",	nvl(this.ds_rtsd0100.getColumn(0,"mobNo")) );
	this.ds_rtsd0110.setColumn(nRowRtsd0110, 	"mobFirm",	nvl(this.ds_rtsd0100.getColumn(0,"mobFirm")) );
	this.ds_rtsd0110.setColumn(nRowRtsd0110, 	"custNo",	nvl(this.ds_rtsd0100.getColumn(0,"custNo")) );

	var sSvcID        	= "insertRtsd0110";                    
	var sController   	= "rtms/sd/insertRtsd0110.do";
	var sInDatasets   	= "input2=ds_rtsd0110:U";
	var sOutDatasets  	= "";
	var sArgs 			= "";
	var fn_callBack		= "fn_callBack";
	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

// 2016-07-28 이영근, 문자메시지 발송 기능 추가 -- 향후 사용시 matNm, ordQty 메시지 내용 정리 요망
this.fn_addSmsMsg = function(){
	this.ds_rtsd0205.clearData();
	var nRowRtsd0205 = this.ds_rtsd0205.addRow();
	var matNm = nvl(this.ds_prdInfo.getColumn(0, "matNm")); // 제품정보명
	var ordQty = nvl(this.ds_prdInfo.getColumn(0, "cntCd")); // 제품정보 수
	//var matNm = nvl(this.ds_price.getColumn(0, "matNm"));
	//var ordQty = nvl(this.ds_price.getColumn(0, "ordQty"));
	var agencyNm = this.div_installInfo.ed_agencyNm.text;
	var city = this.div_installInfo.ed_city.text;
	var street = this.div_installInfo.ed_street.text;
	var telNo = this.div_installInfo.ed_telNo.text;

	var smsMsg = "[NEXT LEVEL] " + matNm + " " + ordQty + "개 /" + agencyNm + "/" + city + " " + street + "/" + telNo;
	
	//this.alert("smsMsg :: " + smsMsg);
	this.ds_rtsd0205.setColumn(nRowRtsd0205, 	"chanCd",	nvl(this.ds_rtsd0104.getColumn(0,"chanCd")) );
	this.ds_rtsd0205.setColumn(nRowRtsd0205, 	"custNm",	nvl(this.ds_rtsd0100.getColumn(0,"custNm")) );
	this.ds_rtsd0205.setColumn(nRowRtsd0205, 	"mobNo",	nvl(this.ds_rtsd0100.getColumn(0,"mobNo")) );
	this.ds_rtsd0205.setColumn(nRowRtsd0205, 	"smsMsg",	smsMsg);
}


// -------------------------------------- 신규 추가건 -------------------------------------------------------------

// 추가버튼 클릭시
this.btn_GrpAdd_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	if( confirm( "추가 클릭시 기존 입력내용은 사라집니다." ) ){
		this.reload();
	}
}

// 저장버튼 클릭시
this.btn_GrpSave_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	this.fn_save();
	//this.FN_goSave();
}

// 단체찾기 팝업 호출 
this.btn_grpNmSearch_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var args ={p_arg:""};
	Ex.core.popup(this,"단체찾기","sd::RTSDGrpAdd_pop.xfdl", args, "modaless=false");
	
	// 테스트용
	//this.fn_searchContract();
}

// 단체그룹 리스트
this.fn_searchContract = function(){
	var sSvcID        	= "ordNoList";                    
	var sController   	= "rtms/comm/ordNoListNew.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_ordNoList=ordNoMap";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
		sArgs 			+= Ex.util.setParam("grpNo",   nvl(this.p_argGrpNo.value));  
		//sArgs 			+= Ex.util.setParam("grpNo",   "D000000001");
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}


// 단체찾기 팝업 호출 callback 함수 
this.set_grp = function(arr){
	this.ds_agencyPop_Cp.clearData;
	this.ds_agencyPop_Cp.copyData(arr[0]);
	//console.log(this.ds_agencyPop_Cp.saveXML());
	this.fn_searchContract();
}


// 그리드를 선택하여 데이터를 화면에 고객정보 화면에 출력한다.
this.grid_ordNoList_oncelldblclick = function(obj:Grid, e:nexacro.GridClickEventInfo)
{
	var pos = this.ds_ordNoList.rowposition;
	if( pos == -1 ){
		alert("선택된 행이 없습니다.");
	}else{
		var ordNo = this.ds_ordNoList.getColumn(pos, "ordNo");
		var periodCd = this.ds_ordNoList.getColumn(pos, "periodCd");
		var prdtGrp = this.ds_ordNoList.getColumn(pos, "prdtGrp");
		this.p_periodCd.set_value(periodCd);
		this.p_prdtGrp.set_value(prdtGrp);
		
		this.reRental       = false; // 재렌탈 초기화
		this.regiAmtRt		= "0";	 // 재렌탈 등록비 할인율 초기화
		this.payStatCd      = "00";  // 현재 상태 초기화
		
		//this.alert(" ordNo : " + ordNo + " periodCd : " + periodCd + " prdtGrp : " + prdtGrp);
		this.FN_listRtsd0104(ordNo);
		
		//this.fn_searchProduct(ordNo);
	}	
}


 //단체(묶음) 해지 팝업 호출
this.bt_grpPckCancel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var args ={p_argGrpNo: this.p_argGrpNo.value};
	Ex.core.popup(this,"단체(묶음)해지","sd::RTSDGroupPackageCancel_Popup.xfdl",args, "modaless=false");
}


// 제품정보 추가 팝업
this.btn_prdAdd_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var idx 		= this.ds_model.rowposition;
	var modelCd 	= nvl(this.div_carInfo.ed_model.value);
	var contentsCd 	= nvl(this.div_carInfo.ed_contentsCd.value); // 2018.12.20 추가수정
	var makerTxt	= nvl(this.div_carInfo.cb_makerCd.text );
	var modelTxt 	= nvl(this.div_carInfo.cb_model.text );
	var periodCd 	= nvl(this.p_periodCd.value );
	var saleCd      = nvl(this.p_saleCd.value );
	var frCd 		= nvl(this.div_carInfo.ed_frCd.value );  	// 20190110
	var cntCd		= nvl(parseInt(this.p_cntCd.value));		// 20190110
	var seasonCd	= nvl(this.p_seasonCd.value );

	var args ={"p_formId" : "RTSDContractRegister", 
	           "p_modelCd" : modelCd, 
	           "p_contentsCd" : contentsCd, 
	           "p_makerTxt" : makerTxt, 
	           "p_modelTxt" : modelTxt, 
	           "p_periodCd" : periodCd, 
	           "p_saleCd" : saleCd, 
	           "p_frCd" : frCd,
	           "p_cntCd" : cntCd,
	           "p_seasonCd" : seasonCd};
	Ex.core.popup(this,"제품추가","sd::RTSDAddProduct_pop.xfdl", args, "modaless=false");	
}

// 제품정보 추가 팝업 호출 callback 함수 
this._setReturn = function(s_arr){
	//this.alert("p_frCd : " + this.p_frCd);
	this.ds_prdInfoTmp.clearData;
	this.ds_prdInfoTmp.copyData(s_arr[0]); // 팝업에서 선태한 값을 temp dataset에 저장한다.
//console.log(this.ds_prdInfoTmp.saveXML());	
		
	var dsPObj = this.ds_prdInfo;  	// 현재 dataset
	var dsObj = this.ds_prdInfoTmp;	// popup dataset	
	var idx = true;		
	this.p_periodCd.set_value(dsObj.getColumn(i, "periodCd")); // 렌탈개월수를 받아온다.
	
	// 부모창에 dataset 의 pk 값을 가져와 array 에 담는다.
	var arr = new Array();
	var pCnt = dsPObj.getRowCount();
	if(pCnt > 0){
		for( var j=0; j<pCnt; j++) {
			arr[j] = dsPObj.getColumn(j, "prsPk");
		}			
	}
	
	// popup dataset 에서 선택한 row 를 가져온다.				
	for (var i=0; i<dsObj.getRowCount(); i++) {
		idx = false;

		if(parseInt(this.getTotCntCd()) >= 6){
			this.alert("등록 가능한 타이어 본수는 최대 6본 입니다.");
			return;
		}
		
		// opener dataset 에 존재하자 않는 row 만 입력
		if(arr.length > 0){
			var chk = true;
			for(var k=0; k<arr.length; k++) {
//console.log(arr[k]+ " : "+  dsObj.getColumn(i, "prsPk") );
				if(arr[k] == dsObj.getColumn(i, "prsPk")){
					chk = false;
					break;
				}				
			}
			
			if(chk){	
				if(this.getFrCdChk(nvl(dsObj.getColumn(i, "frCd")))){
					this.alert("동일 장착위치를 선택 할 수 없습니다.");
					continue;
				}
								
				var nRow = dsPObj.addRow();			
				dsPObj.copyRow(nRow, dsObj, i);
				var dcAmt = dsObj.getColumn(i, "groupSale") === undefined?dsObj.getColumn(i, "chnlSale"):dsObj.getColumn(i, "groupSale");
			
				dsPObj.setColumn(nRow, "ordNo", nvl(this.ed_orderNo.value));
				dsPObj.setColumn(nRow, "seq", i+1);
				dsPObj.setColumn(nRow, "ordId", "01");
				dsPObj.setColumn(nRow, "frCd", nvl(dsObj.getColumn(i, "frCd")));	 // 2018.12.20 추가수정
				dsPObj.setColumn(nRow, "frNm", nvl(dsObj.getColumn(i, "frNm")));	 //	2018.12.20 추가수정		
				dsPObj.setColumn(nRow, "lrCd","");
				dsPObj.setColumn(nRow, "ordQty", nvl(dsObj.getColumn(i, "cntCd")).substring(1,2));
				dsPObj.setColumn(nRow, "rentAmt", nvl(dsObj.getColumn(i, "amt")));
				dsPObj.setColumn(nRow, "rentpAmt", "");
				dsPObj.setColumn(nRow, "fDcrate", "");  // 최종할인율  
				dsPObj.setColumn(nRow, "fDcamt", dcAmt);  // 최종할인액
				dsPObj.setColumn(nRow, "monDcamt", dcAmt);  // 월렌탈료 할인액
				dsPObj.setColumn(nRow, "monAmt", nvl(dsObj.getColumn(i, "amt"))); 
				dsPObj.setColumn(nRow, "planDay", nvl(this.ds_rtsd0104.getColumn(0, "procDay")));
				dsPObj.setColumn(nRow, "planTm", "");
				dsPObj.setColumn(nRow, "instDay", "");
				dsPObj.setColumn(nRow, "instTm", "");
				dsPObj.setColumn(nRow, "instYn", "N");
				dsPObj.setColumn(nRow, "valYn", "N");	
				dsPObj.setColumn(nRow, "equNo", "N");
				dsPObj.setColumn(nRow, "osId", "N");	
				dsPObj.setColumn(nRow, "osDay", "");
				dsPObj.setColumn(nRow, "statCd", "00");								
				dsPObj.setColumn(nRow, "flYn", "N");															//	장착위-앞,왼쪽
				dsPObj.setColumn(nRow, "frYn", "N");															//	장착위치-앞,오른쪽
				dsPObj.setColumn(nRow, "rlYn", "N");															//	장착위치-뒤,왼쪽
				dsPObj.setColumn(nRow, "rrYn", "N");	
				dsPObj.setColumn(nRow, "matDesc", "N");	
				dsPObj.setColumn(nRow, "saleCd",  nvl(this.ds_rtsd0104.getColumn(0,"saleCd")));
				dsPObj.setColumn(nRow, "gdsGb", "1");	
				dsPObj.setColumn(nRow, "gdsGrp", "1");
				dsPObj.setColumn(nRow, "seasonCd", nvl(dsObj.getColumn(i, "seasonCd")));
				if(nvl(this.p_seasonCd.value,"") == "") {
					this.p_seasonCd.set_value(dsObj.getColumn(i, "seasonCd"));
				}
				if(nvl(this.p_periodCd.value,"") == ""){
					this.p_periodCd.set_value(dsObj.getColumn(i, "periodCd")); // 렌탈개월수를 받아온다.
				}
				
				this.p_cntCd.set_value(this.getTotCntCd()); // 선택한 타이어 본수 합			
			}
		}else{
			var nRow = dsPObj.addRow();			
			dsPObj.copyRow(nRow, dsObj, i);
			var dcAmt = dsObj.getColumn(i, "groupSale") === undefined?dsObj.getColumn(i, "chnlSale"):dsObj.getColumn(i, "groupSale");
			
			dsPObj.setColumn(nRow, "ordNo", nvl(this.ed_orderNo.value));
			dsPObj.setColumn(nRow, "seq", i+1);
			dsPObj.setColumn(nRow, "ordId", "01");
			dsPObj.setColumn(nRow, "frCd", nvl(dsObj.getColumn(i, "frCd")));	 // 2018.12.20 추가수정
			dsPObj.setColumn(nRow, "frNm", nvl(dsObj.getColumn(i, "frNm")));	 //	2018.12.20 추가수정		
			dsPObj.setColumn(nRow, "lrCd","");
			dsPObj.setColumn(nRow, "ordQty", nvl(dsObj.getColumn(i, "cntCd")).substring(1,2));
			dsPObj.setColumn(nRow, "rentAmt", nvl(dsObj.getColumn(i, "amt")));
			dsPObj.setColumn(nRow, "rentpAmt", "");
			dsPObj.setColumn(nRow, "fDcrate", "");  // 최종할인율  
			dsPObj.setColumn(nRow, "fDcamt", dcAmt);  // 최종할인액
			dsPObj.setColumn(nRow, "monDcamt", dcAmt);  // 월렌탈료 할인액
			dsPObj.setColumn(nRow, "monAmt", nvl(dsObj.getColumn(i, "amt"))); 
			dsPObj.setColumn(nRow, "planDay", nvl(this.ds_rtsd0104.getColumn(0, "procDay")));
			dsPObj.setColumn(nRow, "planTm", "");
			dsPObj.setColumn(nRow, "instDay", "");
			dsPObj.setColumn(nRow, "instTm", "");
			dsPObj.setColumn(nRow, "instYn", "N");
			dsPObj.setColumn(nRow, "valYn", "N");	
			dsPObj.setColumn(nRow, "equNo", "N");
			dsPObj.setColumn(nRow, "osId", "N");	
			dsPObj.setColumn(nRow, "osDay", "");
			dsPObj.setColumn(nRow, "flYn", "N");															//	장착위-앞,왼쪽
			dsPObj.setColumn(nRow, "frYn", "N");															//	장착위치-앞,오른쪽
			dsPObj.setColumn(nRow, "rlYn", "N");															//	장착위치-뒤,왼쪽
			dsPObj.setColumn(nRow, "rrYn", "N");	
			dsPObj.setColumn(nRow, "matDesc", "N");	
			dsPObj.setColumn(nRow, "statCd", "00");
			dsPObj.setColumn(nRow, "gdsGb", "1");	
			dsPObj.setColumn(nRow, "gdsGrp", "1");	
			
			this.p_cntCd.set_value(this.getTotCntCd()); // 선택한 타이어 본수 합
			this.p_seasonCd.set_value(dsObj.getColumn(i, "seasonCd"));
			this.p_periodCd.set_value(dsObj.getColumn(i, "periodCd"));
			
		}
		this.btn_prdAdd.set_enable(false);			//-----------------2+2미허용
	}		
	
	if(nvl(this.p_periodCd.value) != ''){
		// 버튼 비활성화 
		this.btn_adtPrdAdd.set_enable(true);
		this.btn_adtPrdDel.set_enable(true);
		// 버튼 비활성화 끝
	}
	
	this.fn_getPrmmSrvc();
	
	this.set_prdAdd_dsCntPrdPymInfo();	
}

// 제품정보 추가시 계약상품 납부정보에 추가
this.set_prdAdd_dsCntPrdPymInfo = function(){
	var dsPObj = this.ds_cntPrdPymInfo;  	
	var dsObj = this.ds_prdInfo;	// popup dataset	
	var idx = true;
	
	
	// 부모창에 dataset 의 pk 값을 가져와 array 에 담는다.
	var arr = new Array();
	var pCnt = dsPObj.getRowCount();
	if(pCnt > 0){
		for( var j=0; j<pCnt; j++) {
			arr[j] = dsPObj.getColumn(j, "prsPk");
		}			
	}
	
	// popup dataset 에서 선택한 row 를 가져온다.				
	for (var i=0; i<dsObj.getRowCount(); i++) {

		idx = false;
		
		// opener dataset 에 존재하자 않는 row 만 입력
		if(arr.length > 0){
			var chk = true;
			for(var k=0; k<arr.length; k++) {
//console.log(arr[k]+ " : "+  dsObj.getColumn(i, "prsPk") );
				if(arr[k] == dsObj.getColumn(i, "prsPk") ){
					chk = false;
					break;
				}				
			}

			if(chk){
				var nRow = dsPObj.addRow();	
				var dcAmt = dsObj.getColumn(i, "groupSale") === undefined?dsObj.getColumn(i, "chnlSale"):dsObj.getColumn(i, "groupSale");
	
				//console.log("select periodNm : " + dsObj.getColumn(i, "periodNm").replace(/[^0-9]/g, ''));	
				//console.log("select daAmt : " + dcAmt);	
				dsPObj.setColumn(nRow,"prsPk", dsObj.getColumn(i, "prsPk"));				
				dsPObj.setColumn(nRow,"matCd", dsObj.getColumn(i, "matCd"));
				dsPObj.setColumn(nRow,"matNm", dsObj.getColumn(i, "matNm"));
				dsPObj.setColumn(nRow,"periodCd", dsObj.getColumn(i, "periodCd"));
				dsPObj.setColumn(nRow,"periodNm", dsObj.getColumn(i, "periodNm"));
				dsPObj.setColumn(nRow,"amt", "0");
				dsPObj.setColumn(nRow,"rentAmt", dsObj.getColumn(i, "amt"));  // 월렌탈료
				dsPObj.setColumn(nRow,"regiAmt", dsObj.getColumn(i, "regiAmt")); // 등록비
				dsPObj.setColumn(nRow,"dcAmt", dcAmt);
				dsPObj.setColumn(nRow,"cntCd", dsObj.getColumn(i, "cntCd"));
			}
		}else{
			var nRow = dsPObj.addRow();		
			var dcAmt = dsObj.getColumn(i, "groupSale") === undefined?dsObj.getColumn(i, "chnlSale"):dsObj.getColumn(i, "groupSale");
		
			dsPObj.setColumn(nRow,"prsPk", dsObj.getColumn(i, "prsPk"));				
			dsPObj.setColumn(nRow,"matCd", dsObj.getColumn(i, "matCd"));
			dsPObj.setColumn(nRow,"matNm", dsObj.getColumn(i, "matNm"));
			dsPObj.setColumn(nRow,"periodCd", dsObj.getColumn(i, "periodCd"));
			dsPObj.setColumn(nRow,"periodNm", dsObj.getColumn(i, "periodNm"));
			dsPObj.setColumn(nRow,"amt", "0");
			dsPObj.setColumn(nRow,"rentAmt", dsObj.getColumn(i, "amt"));  // 월렌탈료
			dsPObj.setColumn(nRow,"regiAmt", dsObj.getColumn(i, "regiAmt")); // 등록비
			dsPObj.setColumn(nRow,"dcAmt", dcAmt);
			dsPObj.setColumn(nRow,"cntCd", dsObj.getColumn(i, "cntCd"));
			this.p_periodCd.set_value(dsObj.getColumn(i, "periodCd"));		
		}
	}	
	
	
	this.ds_cntPrdPymInfo_summury();
}


// 제품정보 선택항목 삭제
this.btn_prdDel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var dsObj = this.ds_prdInfo;	
    var dsPObj = this.ds_cntPrdPymInfo;	
    
	var arry = [];
	var parry = [];
	
	for (var i=0; i<dsObj.getRowCount(); i++) {
		if(dsObj.getColumn(i, "chk") == 1){	
			arry[i] = i;
			parry[i] = dsObj.getColumn(i, "matCd")+dsObj.getColumn(i, "periodNm").replace(/[^0-9]/g, '')+dsObj.getColumn(i, "cntCd").replace(/[^0-9]/g, '');
		}
	}
	dsObj.deleteMultiRows(arry);
	
	var arryTemp = new Array();
	for (var j=0; j<dsPObj.getRowCount(); j++) {

		if(dsPObj.getColumn(j, "prsPk") === undefined){
			continue;		
		}else{
			for(var k=0; k<parry.length; k++) {
				//console.log("select : " + parry[k] + " : " + dsPObj.getColumn(j, "prsPk"));	
				if(parry[k] == dsPObj.getColumn(j, "prsPk")){
					arryTemp[k] = j;	
				}
			}
		}			
	
	}
		
	dsPObj.deleteMultiRows(arryTemp); // 계약상품 납부정보 삭제
	
	// 신규추가일 렌탈기간을 전체 삭제시 다시 할 수 있도록 활성화 
	var contactRowType = this.ds_rtsd0104.getRowType(this.ds_rtsd0104.rowposition);
	//-----------------2+2허용
	/*if(dsObj.getRowCount() == 0 && contactRowType =="2"){
		this.p_periodCd.set_value('');
		this.p_seasonCd.set_value('');
	}*/
	
	//-----------------2+2미허용
	if(dsObj.getRowCount() == 0){
		this.p_periodCd.set_value('');
		this.p_seasonCd.set_value('');
		this.btn_prdAdd.set_enable(true);  
	}
	
	this.p_cntCd.set_value(this.getTotCntCd());
	this.fn_getPrmmSrvc();
	
	this.ds_cntPrdPymInfo_summury();
}


// 부가제품추가 팝업
this.btn_adtPrdAdd_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var saleCd    = nvl(this.p_saleCd.value );
	var args = {p_saleCd : saleCd};
	Ex.core.popup(this,"부가제품추가","sd::RTSDValueProductAddPopup.xfdl", args, "modaless=false");	
}

// 부가제품 추가 팝업 호출 callback 함수 
this._setReturnProductAdd = function(s_arr){
	this.ds_rtsd0041Tmp.clearData;
	this.ds_rtsd0041Tmp.copyData(s_arr[0]); // 팝업에서 선태한 값을 temp dataset에 저장한다.
	
//console.log(this.ds_rtsd0041Tmp.saveXML());	
		
	var dsPObj = this.ds_rtsd0041;  	// 현재 dataset
	var dsObj = this.ds_rtsd0041Tmp;	// popup dataset	
	var idx = true;
	
	// 부모창에 dataset 의 pk 값을 가져와 array 에 담는다.
	var arr = new Array();
	var pCnt = dsPObj.getRowCount();
	if(pCnt > 0){
		for( var j=0; j<pCnt; j++) {
			arr[j] = dsPObj.getColumn(j, "addGdsCd");
		}			
	}
	
	// popup dataset 에서 선택한 row 를 가져온다.				
	for (var i=0; i<dsObj.getRowCount(); i++) {

		idx = false;
		
		// opener dataset 에 존재하자 않는 row 만 입력
		if(arr.length > 0){
			var chk = true;
			for(var k=0; k<arr.length; k++) {
				//trace("arr [ " + k + "] :" + arr[k] + "  === " + dsObj.getColumn(i, "prsPk") );
				if(arr[k] == dsObj.getColumn(i, "addGdsCd")){
					chk = false;
					break;
				}				
			}
			
			if(chk){
				var nRow = dsPObj.addRow();	
				dsPObj.copyRow(nRow, dsObj, i);
			}
		}else{
			var nRow = dsPObj.addRow();			
			dsPObj.copyRow(nRow, dsObj, i);
		}
	}
//console.log(this.ds_rtsd0041.saveXML());				
	this.set_productAdd_dsCntPrdPymInfo();			
}


this.set_productAdd_dsCntPrdPymInfo = function(){
	var dsPObj = this.ds_cntPrdPymInfo;  	
	var dsObj = this.ds_rtsd0041;	// popup dataset	
	var idx = true;
	
	
	// 부모창에 dataset 의 pk 값을 가져와 array 에 담는다.
	var arr = new Array();
	var pCnt = dsPObj.getRowCount();
	if(pCnt > 0){
		for( var j=0; j<pCnt; j++) {
			arr[j] = dsPObj.getColumn(j, "matCd");
		}			
	}
	
	// popup dataset 에서 선택한 row 를 가져온다.				
	for (var i=0; i<dsObj.getRowCount(); i++) {

		idx = false;
		
		// opener dataset 에 존재하자 않는 row 만 입력
		if(arr.length > 0){
			var chk = true;
			for(var k=0; k<arr.length; k++) {
				//console.log("arr [ " + k + "] :" + arr[k] + "  === " + dsObj.getColumn(i, "prsPk") );
				if(arr[k] == dsObj.getColumn(i, "addGdsCd")){
					chk = false;
					break;
				}				
			}
			
			if(chk){
				var nRow = dsPObj.addRow();			
//console.log("select addGdsCd : " + dsObj.getColumn(i, "addGdsCd"));			
				if(dsObj.getColumn(i, "dcYn") == 'Y'){
					var periodCd = nvl(this.p_periodCd.value)==""?"0":nvl(this.p_periodCd.value);
					dsPObj.setColumn(nRow,"periodCd", nvl(this.p_periodCd.value));
					dsPObj.setColumn(nRow,"periodNm", nvl(this.p_periodCd.value)+'개월');
					dsPObj.setColumn(nRow,"rentAmt", parseInt(dsObj.getColumn(i, "actAmt")/periodCd));
					dsPObj.setColumn(nRow,"amt", "0");		
					dsPObj.setColumn(nRow,"dcAmt", "0");
				}else{
					dsPObj.setColumn(nRow,"periodCd", "");
					dsPObj.setColumn(nRow,"periodNm", "");
					dsPObj.setColumn(nRow,"rentAmt", "0");
					dsPObj.setColumn(nRow,"amt", dsObj.getColumn(i, "actAmt"));		
					dsPObj.setColumn(nRow,"dcAmt", dsObj.getColumn(i, "dcAmt"));
				}	
				dsPObj.setColumn(nRow,"prsPk", "");
				dsPObj.setColumn(nRow,"cntCd", "");
				dsPObj.setColumn(nRow,"matCd", dsObj.getColumn(i, "addGdsCd"));
				dsPObj.setColumn(nRow,"matNm", dsObj.getColumn(i, "addGdsNm"));				
				dsPObj.setColumn(nRow,"regiAmt", "0");
				
			}
		}else{
			var nRow = dsPObj.addRow();
			if(dsObj.getColumn(i, "dcYn") == 'Y'){
				var periodCd = nvl(this.p_periodCd.value)==""?"0":nvl(this.p_periodCd.value);
				dsPObj.setColumn(nRow,"periodCd", nvl(this.p_periodCd.value));
				dsPObj.setColumn(nRow,"periodNm", nvl(this.p_periodCd.value)+'개월');
				dsPObj.setColumn(nRow,"rentAmt", parseInt(dsObj.getColumn(i, "actAmt")/periodCd));
				dsPObj.setColumn(nRow,"amt", "0");		
				dsPObj.setColumn(nRow,"dcAmt", "0");
			}else{
				dsPObj.setColumn(nRow,"periodCd", "");
				dsPObj.setColumn(nRow,"periodNm", "");
				dsPObj.setColumn(nRow,"rentAmt", "0");
				dsPObj.setColumn(nRow,"amt", dsObj.getColumn(i, "amt"));		
				dsPObj.setColumn(nRow,"dcAmt", dsObj.getColumn(i, "dcAmt"));
			}							
			dsPObj.setColumn(nRow,"prsPk", "");
			dsPObj.setColumn(nRow,"cntCd", "");
			dsPObj.setColumn(nRow,"matCd", dsObj.getColumn(i, "addGdsCd"));
			dsPObj.setColumn(nRow,"matNm", dsObj.getColumn(i, "addGdsNm"));
			dsPObj.setColumn(nRow,"regiAmt", "0");
		}
	}		
	this.ds_cntPrdPymInfo_summury();
}

// 부가제품정보 선택항목 삭제
this.btn_adtPrdDel_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var dsObj = this.ds_rtsd0041;	
    var dsPObj = this.ds_cntPrdPymInfo;	
	var arry = [];
	var parry = [];
	
	for (var i=0; i<dsObj.getRowCount(); i++) {
		if(dsObj.getColumn(i, "chk") == 1){	
			arry[i] = i;
			parry[i] = dsObj.getColumn(i, "addGdsCd");
		}
	}
	dsObj.deleteMultiRows(arry);
	
	var arryTemp = new Array();
	for (var j=0; j<dsPObj.getRowCount(); j++) {

		if(dsPObj.getColumn(j, "matCd") === undefined){
			continue;		
		}else{
			for(var k=0; k<parry.length; k++) {
				//console.log("select : " + parry[k] + " : " + dsPObj.getColumn(j, "prsPk"));	
				if(parry[k] == dsPObj.getColumn(j, "matCd")){
					arryTemp[k] = j;	
				}
			}
		}			
	
	}
		
	dsPObj.deleteMultiRows(arryTemp); // 계약상품 납부정보 삭제
	this.ds_cntPrdPymInfo_summury();	
}


// 상품별 프리미엄 서비스 정보조회 
this.fn_getPrmmSrvc = function(){
	var saleCd = nvl(this.p_saleCd.value);
	var periodCd = nvl(this.p_periodCd.value);
	var cntCd = nvl(this.p_cntCd.value);
//this.alert("saleCd : " + saleCd + " periodCd : " + periodCd + " cntCd : " + cntCd);
	var sSvcID        	= "srvcOrdList";                    
	var sController   	= "rtms/comm/srvcOrdList.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_rtsd0013=srvcOrdListMap";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	
	this.ds_rtsd0013.clearData();  // dataset clear 한다.
	sArgs += Ex.util.setParam("p_saleCd", saleCd);		// 판매코드
	sArgs += Ex.util.setParam("p_periodCd", periodCd);	// 장착개월수
	sArgs += Ex.util.setParam("p_cntCd", cntCd);		// 타이어본수
		
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}


// 프리미엄 상품추가시 계약상품 납부정보에 추가
this.set_prmmAdd_dsCntPrdPymInfo = function(){

	var dsPObj = this.ds_cntPrdPymInfo;  	
	var dsObj = this.ds_rtsd0013;	// popup dataset	
	var idx = true;
	
//console.log(this.ds_cntPrdPymInfo.saveXML());
//console.log(this.ds_rtsd0013.saveXML());
	// 부모창에 dataset 의 pk 값을 가져와 array 에 담는다.
	
	// 프리미엄 서비스를 전체 삭제한다. 'B' 로시작되는단어
	var arrd = new Array();
	for (var i=0; i<dsPObj.getRowCount(); i++){
		if(nvl(dsPObj.getColumn(i, "prsPk")) != ""){
			if(dsPObj.getColumn(i, "prsPk").indexOf("B") == 0){
				arrd[i] = i;
			}
		}
	}
	dsPObj.deleteMultiRows(arrd); 
	
	// 프리미엄 서비스 추가			
	for (var i=0; i<dsObj.getRowCount(); i++) {
		var nRow = dsPObj.addRow();			
		dsPObj.setColumn(nRow,"prsPk", dsObj.getColumn(i, "prsDcd"));
		dsPObj.setColumn(nRow,"cntCd", dsObj.getColumn(i, "cntCd"));
		dsPObj.setColumn(nRow,"matCd", dsObj.getColumn(i, "prsDcd"));
		dsPObj.setColumn(nRow,"matNm", dsObj.getColumn(i, "prsNm"));
		dsPObj.setColumn(nRow,"periodCd", dsObj.getColumn(i, "periodCd"));
		dsPObj.setColumn(nRow,"periodNm", dsObj.getColumn(i, "periodNm"));
		dsPObj.setColumn(nRow,"amt", "0");
		dsPObj.setColumn(nRow,"rentAmt", dsObj.getColumn(i, "servAmtSum"));
		dsPObj.setColumn(nRow,"regiAmt", "0");
		dsPObj.setColumn(nRow,"dcAmt", dsObj.getColumn(i, "saleAmt"));
	}			
	this.ds_cntPrdPymInfo_summury();
}

this.chk_prmmAdd_dsCntPrdPymInfo = function(){	
	var dsPObj = this.ds_cntPrdPymInfo;  	
	var dsObj = this.ds_rtsd0013;	// popup dataset

	var matCd = "";
	var rentAmt = "";
	var result = true;
	for (var i=0; i<dsPObj.getRowCount(); i++) {
		if(dsPObj.getColumn(i, "prsPk").indexOf("B") == 0){
			matCd = dsPObj.getColumn(i, "matCd");
			rentAmt = dsPObj.getColumn(i, "rentAmt");
			for (var j=0; j<dsObj.getRowCount(); j++) {
				if(matCd == dsObj.getColumn(j, "prsDcd")){
					if(rentAmt != dsObj.getColumn(j, "servAmtSum")){	
						result = false;
					}
				}
			}
		}
	}
	
	return result;
}



//------------ 계약별 정보 조회 -------------------------------------------------------------------------------
// 계약번호별 제품정보 조회
this.fn_searchProduct = function(){
	this.idx	= this.ds_model.rowposition;
	var modelCd = nvl(this.div_carInfo.ed_model.value);
	var ordNo = nvl(this.ed_orderNo.value);
	var saleCd = nvl(this.p_saleCd.value);
	var contentsCd = nvl(this.div_carInfo.ed_contentsCd.value); // 2018.12.20 추가수정
	
	//this.alert("modelCd : " + modelCd + "  ordNo : " + ordNo + "  saleCd : " + saleCd);
	
	var sSvcID        	= "listAddSelProduct";                    
	var sController   	= "/rtms/sd/listAddSelProduct.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_prdInfo=listAddSelProduct";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
		sArgs += Ex.util.setParam("ordNo",   ordNo);			// 계약번호
		sArgs += Ex.util.setParam("modelCd", modelCd);			// 모델코드
		sArgs += Ex.util.setParam("saleCd", saleCd);			// 판매코드
		sArgs += Ex.util.setParam("contentsCd", contentsCd);	// 차량상세코드 2018.12.20 추가수정
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

// 계약번호별 부가상품 정보조회
this.fn_searchAdtProduct = function(){
	this.ordNo = nvl(this.ed_orderNo.value);
	
	var sSvcID        	= "listProductInfoSch";                    
	var sController   	= "/rtms/sd/listProductInfoSch.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_rtsd0041=listProductInfoSch";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
		sArgs += Ex.util.setParam("ordNo",   this.ordNo);
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

// 계약번호별 프리미엄 서비스  정보조회
this.fn_searchPrmmSrvc = function(){
	var ordNo = nvl(this.ed_orderNo.value);
	
//this.alert('fn_searchPrmmSrvc call : ' + ordNo);
	var sSvcID        	= "prmmSrvcOrdList";                    
	var sController   	= "/rtms/sd/prmmSrvcOrdList.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_rtsd0013=prmmSrvcOrdList";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
	this.ds_rtsd0013.clearData();
		sArgs += Ex.util.setParam("ordNo",   ordNo);	
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

// 계약상품 납부정보
this.fn_cntPrdPymInfoList = function(){
	var sSvcID        	= "cntPrdPymInfoList";                    
	var sController   	= "/rtms/sd/cntPrdPymInfoList.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_cntPrdPymInfo=cntPrdPymInfoMap";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
		sArgs += Ex.util.setParam("ordNo",   this.ordNo);
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

// 판매상품별 사용가능 채널 조회
this.fn_userChanCdList = function(){
	var saleCd = nvl(this.p_saleCd.value);
	
	var sSvcID      	= "userChanCdList";  
	var sController   	= "/rtms/sd/userChanCdList.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "ds_userChanCdList=userChanCdList";
	var sArgs 			= "";	
	var fn_callBack		= "fn_callBack";
		sArgs += Ex.util.setParam("saleCd", saleCd);			// 판매코드
	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);	
}

// 등록비조정 조회
this.fn_saleRegiAmtInfo = function(regiAmt){
	this.ds_RegAmtMgnt.clearData;
	for (var i=0; i<3; i++) {
		this.ds_RegAmtMgnt.setColumn(i,"cd", regiAmt/i);
		this.ds_RegAmtMgnt.setColumn(i,"cdNm", regiAmt/i);
	}
}

this.regiAmt = 0;  		// 등록비
this.oneAmt	= 0;		// 일시금
this.rentAmt = 0;		// 월 렌탈비
this.momDcRentAmt = 0;	// 월 할인금액제외한 렌탈비
this.totRentAmt = 0;	// 총 렌탈비
this.totDcAmt = 0;		// 총 할인금액
this.periodCd = 0;		// 할부개월 

this.p_regiAmtAdj_onitemchanged = function(obj:Combo, e:nexacro.ItemChangeEventInfo)
{
	var regiAmt = parseInt(this.delComma(this.p_regiAmt.value));	//등록비
	var totRentAmt = parseInt(this.p_totRentAmt.value);
	var totDcAmt = parseInt(this.delComma(this.p_totDcAmt.value));
	var periodCd = parseInt(this.p_periodCd.value);
	var selRegiAmt = 0; // 선택등록비
	
//this.alert(totRentAmt + " : " + regiAmt);
	if(obj.value !== undefined){
		selRegiAmt = parseInt(obj.value);
		regiAmt = eval(regiAmt - obj.value);
	}	
	
//this.alert(totRentAmt + " : " + regiAmt);
	this.p_regiAmt.set_value(this.addComma(this.mathFloor(selRegiAmt)));
	this.p_totRentAmt.set_value(this.mathFloor(eval(totRentAmt+regiAmt)));  // 총랜탈비 = 기존총랜탈비 + (등록비-선택등록비) 
	this.p_momDcRentAmt.set_value(this.addComma(this.mathFloor(eval((totRentAmt+regiAmt)/periodCd) - totDcAmt))); // 월 할인금액제외한 렌탈비
	this.p_rentAmt.set_value(this.mathFloor(eval((totRentAmt+regiAmt)/periodCd))); 	// 월 렌탈비
	
}

// 주문서를 불러와서 랜탈비 계약 등록시 
this.regiAmtAdj = function(regiAmt)
{	
	var regiAmt = parseInt(regiAmt);	//등록비
	var totRentAmt = parseInt(this.p_totRentAmt.value);
	var totDcAmt = parseInt(this.delComma(this.p_totDcAmt.value));
	var periodCd = parseInt(this.p_periodCd.value);
	var selRegiAmt = 0; // 선택등록비

	this.p_regiAmtAdj.set_value(regiAmt); // 등록비 세팅
	this.p_regiAmt.set_value(this.addComma(regiAmt));
	this.p_totRentAmt.set_value(this.mathFloor(eval(totRentAmt)) );  // 총랜탈비 = 기존총랜탈비 + (등록비-선택등록비) 
	this.p_momDcRentAmt.set_value(this.addComma(this.mathFloor(eval((totRentAmt)/periodCd - totDcAmt)))); // 월 할인금액제외한 렌탈비
	this.p_rentAmt.set_value( this.mathFloor(eval((totRentAmt)/periodCd)) ); 	// 월 렌탈비
}

this.ds_cntPrdPymInfo_summury = function(){	
//console.log(this.ds_cntPrdPymInfo.saveXML());

	this.regiAmtRt = parseInt(this.regiAmtRt); // 등록비 할인율
	this.regiAmt = parseInt(this.ds_cntPrdPymInfo.getSum("parseInt(regiAmt)"));

	if(this.regiAmtRt > 0){				
		this.regiAmt = this.mathFloor(this.regiAmt - (this.regiAmt * this.regiAmtRt)/100);
	}
	this.oneAmt	= this.mathFloor(parseInt(this.ds_cntPrdPymInfo.getSum("parseInt(amt)")));
	this.rentAmt = this.mathFloor(parseInt(this.ds_cntPrdPymInfo.getSum("parseInt(rentAmt)")));
	this.totDcAmt = this.mathFloor(parseInt(this.getTotDcAmt()));
	this.momDcRentAmt = this.mathFloor(eval(this.rentAmt - this.totDcAmt));
	this.totRentAmt = this.mathFloor(parseInt(this.getTotRentAmt()));	

	this.p_regiAmt.set_value(this.addComma(this.regiAmt));
	this.p_oneAmt.set_value(this.addComma(this.oneAmt));
	this.p_rentAmt.set_value(this.rentAmt);
	this.p_totDcAmt.set_value(this.addComma(this.totDcAmt));
	this.p_momDcRentAmt.set_value(this.addComma(this.momDcRentAmt));
	this.p_totRentAmt.set_value(this.totRentAmt); // 총랜탈비 

	this.ds_RegAmtMgnt.clearData;
	
	for (var i=0; i<3; i++) {
		//this.alert("regiAmt : " + this.regiAmt*i);
		this.ds_RegAmtMgnt.setColumn(i,"cd", this.regiAmt*i);
		this.ds_RegAmtMgnt.setColumn(i,"cdNm", this.addComma(this.regiAmt*i));
	}
	
	// 일시불 0이 아니고 this.reRental = true 일경우에 재렌탈고객 등록비 면제일 경우 등록비 일시불납부 버튼제어
	if(this.reRental){
		if(nvl(this.p_oneAmt.value) != '0'){
			this.btn_payRegiAmt.set_enable(true);
		}else{
			this.btn_payRegiAmt.set_enable(false);
		}
	}
	
//console.log(this.ds_RegAmtMgnt.saveXML());
}

// 랜탈비 총 합산(개월수 * 월랜탈료 , 부가제품 할부불가 상품 제외)
this.getTotRentAmt = function(){
	var totRentAmt = 0;
	for(var i=0; i< this.ds_cntPrdPymInfo.rowcount; i++){
		if(this.ds_cntPrdPymInfo.getColumn(i, "periodCd") !== undefined && this.ds_cntPrdPymInfo.getColumn(i, "periodCd") != "" ){
			totRentAmt += parseInt(this.ds_cntPrdPymInfo.getColumn(i, "periodCd")) * parseInt(this.ds_cntPrdPymInfo.getColumn(i, "rentAmt")) ; 
		}	
	}	
	return totRentAmt;
}

// 월 랜탈비 총합계산 (부가제품 할부불가 상품 제외)
this.getTotDcAmt = function(){
	var totDcAmt = 0;
	for(var i=0; i< this.ds_cntPrdPymInfo.rowcount; i++){
		if(this.ds_cntPrdPymInfo.getColumn(i, "periodCd") !== undefined && this.ds_cntPrdPymInfo.getColumn(i, "periodCd") != "" ){
			totDcAmt += parseInt(this.ds_cntPrdPymInfo.getColumn(i, "dcAmt")); 
		}	
	}	
	return totDcAmt;
} 

// 타이어본수 계산
this.getTotCntCd = function(){
	var totTotCntCd = 0;
	for(var i=0; i< this.ds_prdInfo.rowcount; i++){
		if(this.ds_prdInfo.getColumn(i, "cntCd") !== undefined && this.ds_prdInfo.getColumn(i, "cntCd") != "" ){
			totTotCntCd += parseInt(this.ds_prdInfo.getColumn(i, "cntCd")); 
		}	
	}	
	return totTotCntCd;
} 

// 타이어장착위치 검증
this.getFrCdChk = function(frcd){

	var frCdChk = false;
	for(var i=0; i< this.ds_prdInfo.rowcount; i++){
		if(this.ds_prdInfo.getColumn(i, "frCd") !== undefined && this.ds_prdInfo.getColumn(i, "frCd") == frcd && frcd != "Z"){
			frCdChk = true;
			break;
		}	
	}	
	return frCdChk;
}

// 10단위 절삭
this.mathFloor = function(num){
	num = Math.floor(eval(num)/10)*10;	
	return num;
}

// 콤마추가
this.addComma = function(num) {
	num+="";	
	if(num=="" || num=="0") return num;
	var pattern = /(-?[0-9]+)([0-9]{3})/;
	while(pattern.test(num)) {
		num = num.replace(pattern,"$1,$2");
	}
	return num;
}

// 콤마제거
this.delComma = function(num) {
	if(num==NaN) return "";
	if(num=="" || num=="0") return num;
	if(num==undefined) return "";
	var strNum = new String(num);
	var rtnNum = strNum.replace(/\,/g,""); 
	return rtnNum;
}


// 프리미엄 서비스횟수 무제한 콤보세팅
this.prmmSvrComboSet = function(obj:Grid, e:nexacro.GridClickEventInfo){
	var pCd = nvl(this.ds_rtsd0013.getColumn(e.row, "servCntOrg"))=='999'?nvl(this.ds_rtsd0013.getColumn(e.row, "servCntTemp")):nvl(this.ds_rtsd0013.getColumn(e.row, "servCntOrg"));
	if(e.col == 3) {
		this.ds_svrCnt.filter("cd == '999' || cd == " + pCd);
	}
}

// 프리미엄 서비스횟수 콤보 발생 이벤트 
this.prmmSvrComboGet = function(obj:Dataset, e:nexacro.DSColChangeEventInfo)
{
	var pCd = nvl(obj.getColumn(e.row, "servCntOrg"))=='999'?nvl(obj.getColumn(e.row, "servCntTemp")):nvl(obj.getColumn(e.row, "servCntOrg"));
	var dcRate =  nvl(obj.getColumn(e.row, "dcRate")) == ''?0:obj.getColumn(e.row, "dcRate");
	if(obj.getColumn(e.row, "servCnt") == '999'){
		obj.setColumn(e.row, "servAmtSum", obj.getColumn(e.row, "servInfAmt"));
		obj.setColumn(e.row, "saleAmt", parseInt(obj.getColumn(e.row, "servInfAmt")) * dcRate/100);
	}else{
		obj.setColumn(e.row, "servAmtSum", obj.getColumn(e.row, "servAmt"+pCd));
		obj.setColumn(e.row, "saleAmt", parseInt(obj.getColumn(e.row, "servAmt"+pCd)) * dcRate/100);
	}
console.log(obj.saveXML());	
	// 프리미엄서비스 서비스 회수 조정시 계약상품 납부정보 금액 변경 및 재 계산
	this.set_prmmAdd_dsCntPrdPymInfo();
}

// 등록비 납부 팝업 호출
this.btn_payRegiAmt_onclick = function(obj:Button,  e:nexacro.ClickEventInfo)
{
	var p_ordNo = nvl(this.ed_orderNo.value);
	var p_matNm = nvl(this.st_saleNm.text);  // ds_agencyPop_Cp
	var p_custNo = nvl(this.div_custInfo.ed_custNo.value);
	var p_custNm = nvl(this.div_custInfo.ed_custNm.value); 
	var p_mobNo = nvl(this.div_custInfo.div_custInfoDetail.ed_mobNo.value);
	var p_regiAmt = this.delComma(nvl(this.p_regiAmt.value));
	var p_onePymnt = this.delComma(nvl(this.p_oneAmt.value));
	var p_birthDay = nvl(this.div_custInfo.ed_birthDay.value);
	var p_buslNo = nvl(this.div_custInfo.ed_buslNo.value);
	
	var p_bizNo = p_birthDay==""?p_buslNo:p_birthDay;
	var p_recpTp = "90";
	
	if(p_ordNo == ""){
		alert("주문서자장을 먼저 하세요!");
		return;
	}
	
	if(p_regiAmt != '0' || p_onePymnt != 0){
//this.alert("ordNo : " + p_ordNo + "\n" + "matNm : " +p_matNm + "\n" + "custNo : " + p_custNo + "\n" + "custNm : " + p_custNm + "\n" + "mobNo : " + p_mobNo + "\n" + "regiAmt : " + p_regiAmt + "\n" + "onePymnt : " + p_onePymnt + "\n" + "bizNo : " + p_bizNo);
		var args = {"ordNo" : p_ordNo, "matNm" : p_matNm, "custNo" : p_custNo, "custNm" : p_custNm, "mobNo" : p_mobNo, "regiAmt" : p_regiAmt, "onePymnt" : p_onePymnt, "bizNo" : p_bizNo, "recpTp" : p_recpTp};
		Ex.core.popup(this,"등록비결제","re::RTREPrcmAmtNOnePymntRecp_pop.xfdl", args, "modaless=false");
	}else{
		this.fn_popupCallback();
	}	
	//	this.fn_popupCallback();
}

// 등록비 선납
this.fn_regiAmtPay = function(){
	var ordNo =	nvl(this.ed_orderNo.value);
	var sSvcID        	= "regiAmtPay";                    
	var sController   	= "/rtms/sd/regiAmtPay.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= Ex.util.setParam("ordNo", ordNo);
	var fn_callBack		= "fn_callBack";
	var bAsync	  = false;			//동기화추가(20190220)

	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack, true, bAsync);
}

// 등록비 후납
this.fn_regiAmtPayPass = function(ordNo){
	var sSvcID        	= "regiAmtPay";                    
	var sController   	= "/rtms/sd/regiAmtPay.do";
	var sInDatasets   	= "";
	var sOutDatasets  	= "";
	var sArgs 			= Ex.util.setParam("ordNo", ordNo);
	var fn_callBack		= "fn_callBack";

	Ex.core.tran(this,sSvcID, sController, sInDatasets, sOutDatasets, sArgs, fn_callBack);
}

// 수납후 callback 함수 호추 
this.fn_popupCallback = function(){
	this.p_regiAmt.set_enable(false);
	this.btn_payRegiAmt.set_enable(false);
	this.p_regiAmtAdj.set_enable(false);
	
	this.payStatCd = '01';
	
	this.fn_regiAmtPay();	
}
]]></Script>
  </Form>
</FDL>
